var ue=Object.defineProperty,pe=Object.defineProperties;var ve=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var J=(e,t,n)=>t in e?ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&J(e,n,t[n]);if(G)for(var n of G(t))me.call(t,n)&&J(e,n,t[n]);return e},I=(e,t)=>pe(e,ve(t));import{d as B,u as ye,r as b,c as ee,o as p,a as y,b as d,t as C,n as P,e as _e,f as te,w as ge,g as _,F as $,h as U,i as T,j as ne,k as L,l as N,m as z,v as se,p as oe,q as he,s as Q,x as we,P as K,y as be,z as xe,A as H,T as ae,B as Se,C as Ce,D as M,E as Te,G as Ee}from"./vendor.4b489d0b.js";const Ie=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}};Ie();function F(){return["A","B","C","D"][Math.round(Math.random()*3)]}const O=()=>["aqua","green","gray","royalblue"][Math.round(Math.random()*3)];var q=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};const $e={key:0,class:"name"},ke=["value"],Me=B({props:{name:String,editable:{type:Boolean,default:!1},bgColor:{type:String,default:O()}},emits:["change"],setup(e,{emit:t}){const n=e;ye(a=>({"4812e114":e.bgColor}));const o=b(),s=b(!1),c=ee({get:()=>n.editable?s.value:!1,set:a=>{s.value=a}}),i=()=>{!n.editable||(c.value=!0,_e(()=>{var a;(a=o.value)==null||a.focus()}))},r=()=>{var m;c.value=!1;const a=(m=o.value)==null?void 0:m.value;a!==name&&t("change",a)};return(a,m)=>(p(),y("div",{class:P({avatar:!0,editable:e.editable}),onClick:m[1]||(m[1]=l=>i())},[d(c)?(p(),y("input",{key:1,class:"editor",ref_key:"input",ref:o,type:"text",value:e.name,onBlur:m[0]||(m[0]=l=>r())},null,40,ke)):(p(),y("span",$e,C(e.name),1))],2))}});var V=q(Me,[["__scopeId","data-v-6d8f6073"]]);const A={};function S(e,t){const n=localStorage.getItem(e);if(n===null){if(t===void 0)throw new Error(`key ${e} has not be initialed`);return localStorage.setItem(e,JSON.stringify(t)),S(e)}const o=JSON.parse(n);if(!A[e]){const s=b(typeof o=="object"?te(o):o);A[e]=s,ge(s,c=>{localStorage.setItem(e,JSON.stringify(c))})}return A[e]}const Le=async(e={type:"file",multiple:!1})=>{const t=document.createElement("input");return t.type=e.type,t.accept="*",t.style.position="absoliute",t.style.left="-1000px",t.style.top="-1000px",document.body.append(t),t.click(),await new Promise((o,s)=>{t.addEventListener("change",c=>{o(t.files),document.body.removeChild(t)}),t.addEventListener("error",s)})};var h=(e=>(e.spare="Connect",e.connected="Connected",e.connecting="Connecting",e.stoping="Stoping",e))(h||{}),w=(e=>(e[e.waiting=0]="waiting",e[e.holding=1]="holding",e[e.connecting=2]="connecting",e))(w||{});const Be=e=>e,qe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},De=_("path",{d:"m0 0 1024 512L0 1024V0zm0 409.6v204.8L512 512 0 409.6z"},null,-1),Ue=[De];function Ne(e,t){return p(),y("svg",qe,Ue)}var Pe={render:Ne};const Re={class:"chat"},Ve={class:"list"},Oe={class:"avatar"},Ae={class:"bubble"},He=["src"],ze=["href","download"],Fe={class:"tag"},je={class:"pannel"},Ye=B({props:{messageList:null},emits:["send"],setup(e,{emit:t}){const n=S("peerInfo"),o=b(""),s=()=>{o.value!==""&&(t("send",{type:"text",content:o.value}),o.value="")};return(c,i)=>(p(),y("div",Re,[_("div",Ve,[(p(!0),y($,null,U(e.messageList,(r,a)=>(p(),y("div",{key:a,class:P(["message",{self:r.user.id===d(n).id}])},[_("div",Oe,[T(V,{name:r.user.name,"bg-color":r.user.bgColor},null,8,["name","bg-color"])]),_("div",Ae,[r.dataType==="text"?(p(),y($,{key:0},[ne(C(r.content),1)],64)):r.dataType==="image"?(p(),y("img",{key:1,src:r.dataUrl},null,8,He)):r.dataType==="file"?(p(),y("a",{key:2,href:r.dataUrl,download:r.fileName},C(r.fileName),9,ze)):L("",!0)]),_("div",Fe,C(d(N).unix(r.sendTime).format("YYYY-MM-DD HH:MM:ss")),1)],2))),128))]),_("div",je,[z(_("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r),type:"text"},null,512),[[se,o.value]]),_("button",{onClick:i[1]||(i[1]=r=>s())},[T(d(Pe))])])]))}});var Ge=q(Ye,[["__scopeId","data-v-747caa06"]]);const Je=()=>{confirm("This will clear all user infomation, Are your suer ?")&&(localStorage.clear(),location.reload())},Qe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ke=_("path",{d:"M191.015 710.892V222.523c-51.2 0-92.553 41.354-92.553 90.585v578.954c0 51.2 41.353 92.553 92.553 92.553h458.831c51.2 0 92.554-41.353 92.554-90.584H374.154c-100.43 0-183.139 0-183.139-183.139zm703.016-397.784h-153.6c-51.2 0-92.554-41.354-92.554-90.585v-153.6c1.97-15.754-11.815-29.538-29.539-29.538H374.154c-51.2 0-92.554 41.353-92.554 90.584v578.954c0 51.2 41.354 90.585 92.554 90.585h458.83c51.2 0 92.554-41.354 92.554-90.585V344.615c0-17.723-13.784-31.507-31.507-31.507zm25.6-128L777.846 45.292c-3.938-3.938-7.877-5.907-13.784-5.907-11.816 0-21.662 9.846-21.662 21.661v100.43c0 33.478 27.57 61.047 61.046 61.047h100.43c11.816 0 21.662-9.846 21.662-21.661 0-5.908-1.969-9.847-5.907-15.754z"},null,-1),We=[Ke];function Xe(e,t){return p(),y("svg",Qe,We)}var Ze={render:Xe};const et={class:"message-text"},tt=B({props:{text:{type:String,default:""},visible:{type:Boolean,default:!1},delay:{type:Number,default:2e3},type:{type:String,default:"success"},onFullDestroyed:{type:Function,default:()=>({})}},emits:["fullDestroyed"],setup(e,{emit:t}){const n=e,o=b(n.visible);oe(()=>{o.value=n.visible});const s=()=>{o.value=!0,setTimeout(()=>{o.value=!1,setTimeout(()=>{t("fullDestroyed")},200)},n.delay)};return he(()=>{setTimeout(()=>{s()},1)}),(c,i)=>(p(),y("div",{class:P(["message",`${o.value?"showed":""} ${e.type}`])},[_("div",et,C(e.text),1)],2))}});var nt=q(tt,[["__scopeId","data-v-75766499"]]);function st(e,t){const o=T(nt,x({visible:!1,text:e,onFullDestroyed:()=>{Q(null,s),s.parentNode===document.body&&document.body.removeChild(s)}},t)),s=document.createElement("div");o.props&&(o.props.onVnodeUnmounted=()=>{document.body.removeChild(s)}),Q(o,s),document.body.appendChild(s)}var ce=(e=>(e.request="Srequest",e.accept="Saccept",e.decline="Sdecline",e.stop="Sstop",e))(ce||{});function ot(){let e;const t=u=>{e=u,i()};let n=!1;const o=new EventTarget;let s=()=>Promise.reject(),c;const i=()=>{e.on("data",u=>{if(!!Object.values(ce).includes(u.type))switch(u.type){case"Saccept":o.dispatchEvent(new CustomEvent("accept"));break;case"Srequest":{s(u.content).then(()=>{e.send({type:"Saccept"})}).catch(()=>{e.send({type:"Sdecline"})});break}case"Sdecline":o.dispatchEvent(new CustomEvent("decline"));break;case"Sstop":c(),o.dispatchEvent(new CustomEvent("decline"));break}})};return{use:t,requestAccept:async u=>await new Promise((f,v)=>{e.send({type:"Srequest",content:u}),n=!1,o.addEventListener("accept",()=>{n&&v(),f(!0)}),o.addEventListener("decline",()=>{v()})}),onBeRequested:u=>{s=u},onBeStopped:u=>{c=u},stop:()=>{o.dispatchEvent(new CustomEvent("stop")),e.send({type:"Sstop"})}}}var ie=(e=>(e.hand="handflag",e))(ie||{});function at(){const e=S("userInfo",{name:F(),bgColor:O()}),t=S("peerInfo",{id:"",createTime:-1}),n=te({participants:[I(x({},e.value),{id:t.value.id})],type:"",status:h.spare});let o;const s=i=>{o=i,c(),n.participants[0].id=t.value.id},c=()=>{n.status=h.connecting,n.status=h.connected,o.on("data",i=>{!Object.values(ie).includes(i.type)||(n.status=h.connected,n.participants.every(r=>r.id!==i.user.id)&&(n.participants.push(i.user),o.send({type:"handflag",user:I(x({},e.value),{id:t.value.id})})))}),o.send({type:"handflag",user:I(x({},e.value),{id:t.value.id})})};return{use:s,connectionInfo:n}}var re=(e=>(e.start="Mstart",e.content="MContent",e.end="Mend",e))(re||{});function ct(){const e=S("userInfo",{name:F(),bgColor:O()}),t=S("peerInfo",{id:"",createTime:-1});let n;const o=a=>{n=a,i()},s=new Map,c=b([]),i=()=>{n.on("data",a=>{var m;if(!!Object.values(re).includes(a.type))switch(a.type){case"Mstart":s.set(a.id,a),c.value.push(a);break;case"MContent":const l=I(x(x({},s.get(a.id)),a),{type:"Mend",recieveTime:N().unix(),dataUrl:a.dataType!=="text"?URL.createObjectURL(new Blob([a.content],{type:a.fileType})):void 0});s.set(a.id,l);const u=c.value.findIndex(f=>f.id===a.id);c.value[u]=l,n.send({id:a.id,type:"Mend",reciveTime:(m=s.get(a.id))==null?void 0:m.recieveTime});break;case"Mend":s.set(a.id,I(x({},s.get(a.id)),{recieveTime:a.recieveTime}));const g=c.value.findIndex(f=>f.id===a.id);c.value[g].recieveTime=a.recieveTime;break}})};return{use:o,messageList:c,sendData:a=>{const m=we(),l={user:{name:e.value.name,id:t.value.id,bgColor:e.value.bgColor},sendTime:N().unix(),dataType:a.dataType,type:"Mstart",id:m,fileType:a.fileType,fileName:a.fileName},u={content:a.content,id:m,type:"MContent",fileType:a.fileType,fileName:a.fileName};n.send(l),n.send(u);const g=I(x(x({},l),u),{recieveTime:-1,dataUrl:a.dataType!=="text"?URL.createObjectURL(new Blob([a.content],{type:a.fileType})):void 0});s.set(m,g),c.value.push(g)}}}function it(e){const t=S("peerInfo",{id:"",createTime:-1}),n=S("connectStatus",h.spare),o=60;if(t.value.id===""||N().unix()-t.value.createTime>o&&n.value===h.spare){t.value={id:"",createTime:-1};const c=new K;c.on("open",()=>{t.value={id:c.id,createTime:N().unix()},e(c)})}const s=new K(t.value.id);s.on("open",()=>{e(s)})}function rt(){let e,t,n;const o=l=>{e=l,i()};let s=l=>{},c=new EventTarget;const i=()=>{e.on("call",l=>{l.answer(),l.on("stream",u=>{s(u),c.addEventListener("close",()=>{var g;(g=u==null?void 0:u.stop)==null||g.call(u)})}),l.on("close",function(){})})},r=(l,u)=>new Promise((g,f)=>{navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia({audio:!0,video:l==="video"},v=>{n=v,g(v),t=e.call(u,v,{metadata:{type:l,selfId:e.id}})},f)});return c.addEventListener("close",()=>{var l;!n||((l=n.stop)==null||l.call(n),n.getTracks().forEach(u=>{u.readyState==="live"&&u.stop()}))}),{use:o,call:r,close:()=>{t==null||t.close(),c.dispatchEvent(new CustomEvent("close"))},onStream:l=>{s=l}}}function lt(){let e;const t=()=>it(l=>{e=l,i.connectionInfo.status=h.spare,l.on("connection",u=>{s(u)}),l.on("error",m)});t();let n;const o=l=>{if(!e||!l)return;if(i.connectionInfo.status===h.connecting){i.connectionInfo.status=h.stoping,e.on("disconnected",()=>{t(),i.connectionInfo.status=h.spare}),e.disconnect();return}i.connectionInfo.status=h.connecting,e.on("error",m);const u=e.connect(l);s(u)},s=l=>{n=l,a.use(e),n.on("open",()=>{i.use(n),c.use(n),r.use(n)}),n.on("error",m)},c=ct(),i=at(),r=ot(),a=rt(),m=l=>{i.connectionInfo.status=h.spare,st(l,{type:"error"})};return{toConnect:o,messageSystem:c,connectInfoSystem:i,acceptSystem:r,streamSystem:a}}const dt={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ut=_("path",{d:"M1024 201.143v621.714q0 24-22.286 33.714-7.428 2.858-14.285 2.858-15.429 0-25.715-10.858L731.43 618.286v94.857q0 68-48.286 116.286t-116.286 48.285H164.571q-68 0-116.285-48.285T0 713.143V310.857q0-68 48.286-116.286t116.285-48.285h402.286q68 0 116.286 48.285t48.286 116.286v94.286l230.285-229.714Q972 164.57 987.43 164.57q6.857 0 14.285 2.858Q1024 177.143 1024 201.143z"},null,-1),pt=[ut];function vt(e,t){return p(),y("svg",dt,pt)}var ft={render:vt};const mt={class:"picker"},yt={key:0,class:"popup"},_t=["onClick"],gt=B({props:{list:null},emits:["choose"],setup(e,{emit:t}){const n=b(!1);return(o,s)=>{const c=be("click-outside");return p(),y("div",mt,[_("div",{class:"content",onClick:s[0]||(s[0]=()=>n.value=!n.value)},[xe(o.$slots,"default",{},void 0,!0)]),T(ae,{name:"slide-fade"},{default:H(()=>[n.value?z((p(),y("div",yt,[(p(!0),y($,null,U(e.list,(i,r)=>(p(),y("div",{class:"item",key:r,onClick:()=>{t("choose",i,r),n.value=!1}},C(i),9,_t))),128))])),[[c,()=>n.value=!1]]):L("",!0)]),_:1})])}}});var ht=q(gt,[["__scopeId","data-v-71516db5"]]);const wt={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bt=_("path",{d:"M914.286 708.571q0 15.429-5.715 40.286t-12 39.143q-12 28.571-69.714 60.571-53.714 29.143-106.286 29.143-15.428 0-30-2t-32.857-7.143-27.143-8.285-31.714-11.715-28-10.285q-56-20-100-47.429-73.143-45.143-151.143-123.143T196.571 516.571q-27.428-44-47.428-100-1.714-5.142-10.286-28t-11.714-31.714-8.286-27.143-7.143-32.857-2-30q0-52.571 29.143-106.286 32-57.714 60.572-69.714 14.285-6.286 39.142-12t40.286-5.714q8 0 12 1.714 10.286 3.429 30.286 43.429 6.286 10.857 17.143 30.857t20 36.286T376 216q1.714 2.286 10 14.286t12.286 20.285 4 16.286q0 11.429-16.286 28.572t-35.429 31.428-35.428 30.286-16.286 26.286q0 5.142 2.857 12.857T306.571 408t8 13.714 6.572 10.857q43.428 78.286 99.428 134.286t134.286 99.429q1.143.571 10.857 6.571t13.715 8 11.714 4.857T604 688.571q10.286 0 26.286-16.285t30.285-35.429T692 601.43t28.571-16.286q8 0 16.286 4t20.286 12.286 14.286 10Q785.714 620 802 629.143t36.286 20 30.857 17.143q40 20 43.428 30.285 1.715 4 1.715 12z"},null,-1),xt=[bt];function St(e,t){return p(),y("svg",wt,xt)}var W={render:St};function Ct(){const e=["touchstart","scroll"],t=o=>{document.body.style.position="fixed",o.preventDefault(),o.stopPropagation()};e.forEach(o=>{document.body.addEventListener(o,s=>{document.body.style.position="fixed",s.preventDefault(),s.stopPropagation()})});const n=()=>e.forEach(o=>{document.body.removeEventListener(o,t)});return Se(()=>{n()}),n}function Tt(){const e=b([]),t=n=>{e.value.push(n)};return Ce(()=>{e.value=[]}),{setRefs:t,refs:e}}const Et={class:"video-chat"},It={class:"videos"},$t={key:0,class:"avatars"},kt={key:1,class:"info"},Mt={class:"buttons"},Lt=B({props:{status:null,users:null,type:null},emits:["decline","accept","stop"],setup(e,{expose:t,emit:n}){const o=e,{refs:s,setRefs:c}=Tt();return oe(()=>{o.users.forEach((i,r)=>{var a;i.stream&&((a=s.value)==null?void 0:a[r])&&(s.value[r].srcObject=i.stream,s.value[r].play())})}),Ct(),t({videoRefs:s}),(i,r)=>(p(),y("div",Et,[_("div",{class:P(["frame",{waiting:o.status===d(w).waiting,connecting:o.status===d(w).connecting,holding:o.status===d(w).holding}])},[_("div",It,[(p(!0),y($,null,U(e.users,(a,m)=>(p(),y("video",{key:m,ref_for:!0,ref:d(c),playsinline:""}))),128))]),o.status!==d(w).connecting?(p(),y("div",$t,[(p(!0),y($,null,U(o.users,(a,m)=>(p(),M(V,{name:a.name,"bg-color":a.bgColor,editable:!1,key:m},null,8,["name","bg-color"]))),128))])):L("",!0),o.status!==d(w).connecting?(p(),y("div",kt,C(o.status===d(w).waiting?"Waiting for accept...":"You get a VideoCall Invitation"),1)):L("",!0),_("div",Mt,[o.status===d(w).holding?(p(),y("button",{key:0,class:"accept",onClick:r[0]||(r[0]=a=>n("accept"))},[T(d(W))])):L("",!0),_("button",{class:"decline",onClick:r[1]||(r[1]=a=>n(o.status===d(w).holding?"decline":"stop"))},[T(d(W))])])],2)]))}});var Bt=q(Lt,[["__scopeId","data-v-92af8a1c"]]);const qt={class:"video tool-button"},Dt=B({props:{acceptSystem:null,users:null,streamSystem:null},setup(e){const t=e,n=b(t.users),o=S("peerInfo",{id:"",createTime:-1}),s=b(!1),c=b(w.waiting),i=b("video"),r=()=>{n.value.forEach(v=>{v.stream=void 0})},a=new EventTarget,m=async v=>{const E=n.value.findIndex(R=>R.id!==o.value.id),D=await t.streamSystem.call(v,n.value[E].id);n.value[0].stream=D},l=()=>{a.dispatchEvent(new CustomEvent("accept")),c.value=w.connecting,m(i.value)},u=()=>{a.dispatchEvent(new CustomEvent("decline")),s.value=!1,t.streamSystem.close(),r()},g=()=>{a.dispatchEvent(new CustomEvent("stop")),s.value=!1,t.acceptSystem.stop(),t.streamSystem.close(),r()},f=async v=>{i.value=v,s.value=!0,c.value=w.waiting;try{await t.acceptSystem.requestAccept(v),c.value=w.connecting,await m(v)}catch{s.value=!1}};return t.acceptSystem.onBeStopped(()=>{s.value=!1,a.dispatchEvent(new CustomEvent("stop")),t.streamSystem.close(),r()}),t.acceptSystem.onBeRequested(v=>new Promise((E,D)=>{i.value=v,s.value=!0,c.value=w.holding;const R=()=>{c.value=w.connecting,E(!0)},j=()=>{s.value=!1,D()},Y=()=>{s.value=!1,D(),a.removeEventListener("accept",R),a.removeEventListener("decline",j),a.removeEventListener("stop",Y)};a.addEventListener("accept",R),a.addEventListener("decline",j),a.addEventListener("stop",Y)})),t.streamSystem.onStream(v=>{const E=n.value.findIndex(D=>D.id!==o.value.id);E!==-1&&(n.value[E].stream=v)}),(v,E)=>(p(),y($,null,[T(ht,{list:["video","voice"],onChoose:f},{default:H(()=>[_("button",qt,[T(d(ft))])]),_:1}),(p(),M(Te,{to:"body"},[T(ae,null,{default:H(()=>[s.value?(p(),M(Bt,{key:0,type:i.value,status:c.value,users:n.value,onAccept:l,onDecline:u,onStop:g},null,8,["type","status","users"])):L("",!0)]),_:1})]))],64))}});var Ut=q(Dt,[["__scopeId","data-v-ca364aa0"]]);const Nt={class:"header"},Pt={class:"avatars"},Rt={class:"tools"},Vt={class:"content"},Ot={key:1,class:"home"},At={class:"welcome"},Ht={class:"id-field"},zt=ne(" Your ID is "),Ft={class:"id-text allow-select"},jt={class:"id-editor"},Yt=["disabled"],Gt=B({setup(e){const t=S("peerInfo",{id:"",createTime:-1}),n=lt(),o=ee(()=>n.connectInfoSystem.connectionInfo.status),s=g=>{n.toConnect(g)},c=n.messageSystem.messageList,i=g=>{n.messageSystem.sendData(I(x({},g),{dataType:"text"}))},r=async()=>{const g=await Le(),f=g.item(0),v=(f==null?void 0:f.type.includes("image"))?"image":"file";n.messageSystem.sendData({dataType:v,content:new Blob(g,{type:f==null?void 0:f.type}),fileType:f.type,fileName:f.name})},a=S("userInfo",{name:F(),bgColor:O()}),m=n.connectInfoSystem.connectionInfo,l=b(""),u=Boolean(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia);return(g,f)=>(p(),y($,null,[_("div",Nt,[_("div",Pt,[d(o)!==d(h).connected?(p(),M(V,{key:0,name:d(a).name,"bg-color":d(a).bgColor,editable:!0,onChange:f[0]||(f[0]=v=>{a.value=I(x({},d(a)),{name:v})})},null,8,["name","bg-color"])):(p(!0),y($,{key:1},U(d(m).participants,(v,E)=>(p(),M(V,{name:v.name,"bg-color":v.bgColor,editable:!1,key:E},null,8,["name","bg-color"]))),128))]),_("div",Rt,[d(o)!==d(h).connected?(p(),y("button",{key:0,class:"reset",onClick:f[1]||(f[1]=v=>d(Je)())}," reset ")):(p(),y($,{key:1},[_("button",{class:"file tool-button",onClick:f[2]||(f[2]=()=>r())},[T(d(Ze))]),d(u)?(p(),M(Ut,{key:0,"accept-system":d(n).acceptSystem,users:d(m).participants,"stream-system":d(n).streamSystem},null,8,["accept-system","users","stream-system"])):L("",!0)],64))])]),_("div",Vt,[d(o)===d(h).connected?(p(),M(Ge,{key:0,"message-list":d(c),onSend:i},null,8,["message-list"])):(p(),y("div",Ot,[_("div",At,"Hello,"+C(d(a).name),1),_("div",Ht,[zt,_("span",Ft,C(d(t).id),1)]),_("div",jt,[z(_("input",{"onUpdate:modelValue":f[3]||(f[3]=v=>l.value=v),placeholder:"input id here",type:"text"},null,512),[[se,l.value]])]),_("button",{class:P(["connect-button",{loading:d(o)===d(h).connecting}]),disabled:d(t).id===null||d(o)===d(h).stoping,onClick:f[4]||(f[4]=v=>s(d(Be)(l.value))),onTouchstart:f[5]||(f[5]=()=>{})},C(d(o)),43,Yt)]))])],64))}});var Jt=q(Gt,[["__scopeId","data-v-864ed5a8"]]);const Qt=e=>e instanceof Element,k=new Map;let X;document.addEventListener("mousedown",e=>X=e),document.addEventListener("mouseup",e=>{for(const t of k.values())for(const{documentHandler:n}of t)n(e,X)});function Z(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:Qt(t.arg)&&n.push(t.arg),function(o,s){const c=t.instance.popperRef,i=o.target,r=s==null?void 0:s.target,a=!t||!t.instance,m=!i||!r,l=e.contains(i)||e.contains(r),u=e===i,g=n.length&&n.some(v=>v==null?void 0:v.contains(i))||n.length&&n.includes(r),f=c&&(c.contains(i)||c.contains(r));a||m||l||u||g||f||t.value(o,s)}}const Kt={beforeMount(e,t){k.has(e)||k.set(e,[]),k.get(e).push({documentHandler:Z(e,t),bindingFn:t.value})},updated(e,t){k.has(e)||k.set(e,[]);const n=k.get(e),o=n.findIndex(c=>c.bindingFn===t.oldValue),s={documentHandler:Z(e,t),bindingFn:t.value};o>=0?n.splice(o,1,s):n.push(s)},unmounted(e){k.delete(e)}},le=()=>{document.body.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",le);window.addEventListener("DOMContentLoaded",le);const de=Ee(Jt);de.directive("clickOutside",Kt);de.mount("#app");
