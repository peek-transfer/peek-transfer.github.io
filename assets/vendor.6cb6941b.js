function $n(e,t){const r=Object.create(null),c=e.split(",");for(let p=0;p<c.length;p++)r[c[p]]=!0;return t?p=>!!r[p.toLowerCase()]:p=>!!r[p]}const no="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ro=$n(no);function Xr(e){return!!e||e===""}function nn(e){if(Q(e)){const t={};for(let r=0;r<e.length;r++){const c=e[r],p=fe(c)?so(c):nn(c);if(p)for(const l in p)t[l]=p[l]}return t}else{if(fe(e))return e;if(de(e))return e}}const io=/;(?![^(]*\))/g,oo=/:(.+)/;function so(e){const t={};return e.split(io).forEach(r=>{if(r){const c=r.split(oo);c.length>1&&(t[c[0].trim()]=c[1].trim())}}),t}function rn(e){let t="";if(fe(e))t=e;else if(Q(e))for(let r=0;r<e.length;r++){const c=rn(e[r]);c&&(t+=c+" ")}else if(de(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function Ha(e){if(!e)return null;let{class:t,style:r}=e;return t&&!fe(t)&&(e.class=rn(t)),r&&(e.style=nn(r)),e}const Wa=e=>fe(e)?e:e==null?"":Q(e)||de(e)&&(e.toString===ei||!q(e.toString))?JSON.stringify(e,Qr,2):String(e),Qr=(e,t)=>t&&t.__v_isRef?Qr(e,t.value):gt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[c,p])=>(r[`${c} =>`]=p,r),{})}:Zr(t)?{[`Set(${t.size})`]:[...t.values()]}:de(t)&&!Q(t)&&!ti(t)?String(t):t,se={},mt=[],je=()=>{},ao=()=>!1,co=/^on[^a-z]/,on=e=>co.test(e),zn=e=>e.startsWith("onUpdate:"),_e=Object.assign,Hn=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},uo=Object.prototype.hasOwnProperty,te=(e,t)=>uo.call(e,t),Q=Array.isArray,gt=e=>sn(e)==="[object Map]",Zr=e=>sn(e)==="[object Set]",q=e=>typeof e=="function",fe=e=>typeof e=="string",Wn=e=>typeof e=="symbol",de=e=>e!==null&&typeof e=="object",qr=e=>de(e)&&q(e.then)&&q(e.catch),ei=Object.prototype.toString,sn=e=>ei.call(e),lo=e=>sn(e).slice(8,-1),ti=e=>sn(e)==="[object Object]",Gn=e=>fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ht=$n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),an=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},fo=/-(\w)/g,$e=an(e=>e.replace(fo,(t,r)=>r?r.toUpperCase():"")),po=/\B([A-Z])/g,bt=an(e=>e.replace(po,"-$1").toLowerCase()),cn=an(e=>e.charAt(0).toUpperCase()+e.slice(1)),mn=an(e=>e?`on${cn(e)}`:""),Dt=(e,t)=>!Object.is(e,t),Wt=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Kt=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Jt=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let pr;const ho=()=>pr||(pr=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ze;class mo{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&ze&&(this.parent=ze,this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}run(t){if(this.active)try{return ze=this,t()}finally{ze=this.parent}}on(){ze=this}off(){ze=this.parent}stop(t){if(this.active){let r,c;for(r=0,c=this.effects.length;r<c;r++)this.effects[r].stop();for(r=0,c=this.cleanups.length;r<c;r++)this.cleanups[r]();if(this.scopes)for(r=0,c=this.scopes.length;r<c;r++)this.scopes[r].stop(!0);if(this.parent&&!t){const p=this.parent.scopes.pop();p&&p!==this&&(this.parent.scopes[this.index]=p,p.index=this.index)}this.active=!1}}}function go(e,t=ze){t&&t.active&&t.effects.push(e)}const Vn=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ni=e=>(e.w&qe)>0,ri=e=>(e.n&qe)>0,vo=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=qe},yo=e=>{const{deps:t}=e;if(t.length){let r=0;for(let c=0;c<t.length;c++){const p=t[c];ni(p)&&!ri(p)?p.delete(e):t[r++]=p,p.w&=~qe,p.n&=~qe}t.length=r}},Sn=new WeakMap;let Pt=0,qe=1;const wn=30;let Ue;const at=Symbol(""),Pn=Symbol("");class Kn{constructor(t,r=null,c){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,go(this,c)}run(){if(!this.active)return this.fn();let t=Ue,r=Qe;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ue,Ue=this,Qe=!0,qe=1<<++Pt,Pt<=wn?vo(this):hr(this),this.fn()}finally{Pt<=wn&&yo(this),qe=1<<--Pt,Ue=this.parent,Qe=r,this.parent=void 0}}stop(){this.active&&(hr(this),this.onStop&&this.onStop(),this.active=!1)}}function hr(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let Qe=!0;const ii=[];function Ct(){ii.push(Qe),Qe=!1}function Tt(){const e=ii.pop();Qe=e===void 0?!0:e}function Oe(e,t,r){if(Qe&&Ue){let c=Sn.get(e);c||Sn.set(e,c=new Map);let p=c.get(r);p||c.set(r,p=Vn()),oi(p)}}function oi(e,t){let r=!1;Pt<=wn?ri(e)||(e.n|=qe,r=!ni(e)):r=!e.has(Ue),r&&(e.add(Ue),Ue.deps.push(e))}function We(e,t,r,c,p,l){const o=Sn.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(r==="length"&&Q(e))o.forEach((d,y)=>{(y==="length"||y>=c)&&a.push(d)});else switch(r!==void 0&&a.push(o.get(r)),t){case"add":Q(e)?Gn(r)&&a.push(o.get("length")):(a.push(o.get(at)),gt(e)&&a.push(o.get(Pn)));break;case"delete":Q(e)||(a.push(o.get(at)),gt(e)&&a.push(o.get(Pn)));break;case"set":gt(e)&&a.push(o.get(at));break}if(a.length===1)a[0]&&En(a[0]);else{const d=[];for(const y of a)y&&d.push(...y);En(Vn(d))}}function En(e,t){for(const r of Q(e)?e:[...e])(r!==Ue||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const _o=$n("__proto__,__v_isRef,__isVue"),si=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Wn)),bo=Jn(),Co=Jn(!1,!0),To=Jn(!0),mr=So();function So(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const c=ne(this);for(let l=0,o=this.length;l<o;l++)Oe(c,"get",l+"");const p=c[t](...r);return p===-1||p===!1?c[t](...r.map(ne)):p}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Ct();const c=ne(this)[t].apply(this,r);return Tt(),c}}),e}function Jn(e=!1,t=!1){return function(c,p,l){if(p==="__v_isReactive")return!e;if(p==="__v_isReadonly")return e;if(p==="__v_isShallow")return t;if(p==="__v_raw"&&l===(e?t?No:fi:t?li:ui).get(c))return c;const o=Q(c);if(!e&&o&&te(mr,p))return Reflect.get(mr,p,l);const a=Reflect.get(c,p,l);return(Wn(p)?si.has(p):_o(p))||(e||Oe(c,"get",p),t)?a:ye(a)?!o||!Gn(p)?a.value:a:de(a)?e?di(a):Qn(a):a}}const wo=ai(),Po=ai(!0);function ai(e=!1){return function(r,c,p,l){let o=r[c];if(xt(o)&&ye(o)&&!ye(p))return!1;if(!e&&!xt(p)&&(pi(p)||(p=ne(p),o=ne(o)),!Q(r)&&ye(o)&&!ye(p)))return o.value=p,!0;const a=Q(r)&&Gn(c)?Number(c)<r.length:te(r,c),d=Reflect.set(r,c,p,l);return r===ne(l)&&(a?Dt(p,o)&&We(r,"set",c,p):We(r,"add",c,p)),d}}function Eo(e,t){const r=te(e,t);e[t];const c=Reflect.deleteProperty(e,t);return c&&r&&We(e,"delete",t,void 0),c}function Ro(e,t){const r=Reflect.has(e,t);return(!Wn(t)||!si.has(t))&&Oe(e,"has",t),r}function ko(e){return Oe(e,"iterate",Q(e)?"length":at),Reflect.ownKeys(e)}const ci={get:bo,set:wo,deleteProperty:Eo,has:Ro,ownKeys:ko},Oo={get:To,set(e,t){return!0},deleteProperty(e,t){return!0}},Mo=_e({},ci,{get:Co,set:Po}),Yn=e=>e,un=e=>Reflect.getPrototypeOf(e);function Lt(e,t,r=!1,c=!1){e=e.__v_raw;const p=ne(e),l=ne(t);t!==l&&!r&&Oe(p,"get",t),!r&&Oe(p,"get",l);const{has:o}=un(p),a=c?Yn:r?qn:It;if(o.call(p,t))return a(e.get(t));if(o.call(p,l))return a(e.get(l));e!==p&&e.get(t)}function Bt(e,t=!1){const r=this.__v_raw,c=ne(r),p=ne(e);return e!==p&&!t&&Oe(c,"has",e),!t&&Oe(c,"has",p),e===p?r.has(e):r.has(e)||r.has(p)}function Ft(e,t=!1){return e=e.__v_raw,!t&&Oe(ne(e),"iterate",at),Reflect.get(e,"size",e)}function gr(e){e=ne(e);const t=ne(this);return un(t).has.call(t,e)||(t.add(e),We(t,"add",e,e)),this}function vr(e,t){t=ne(t);const r=ne(this),{has:c,get:p}=un(r);let l=c.call(r,e);l||(e=ne(e),l=c.call(r,e));const o=p.call(r,e);return r.set(e,t),l?Dt(t,o)&&We(r,"set",e,t):We(r,"add",e,t),this}function yr(e){const t=ne(this),{has:r,get:c}=un(t);let p=r.call(t,e);p||(e=ne(e),p=r.call(t,e)),c&&c.call(t,e);const l=t.delete(e);return p&&We(t,"delete",e,void 0),l}function _r(){const e=ne(this),t=e.size!==0,r=e.clear();return t&&We(e,"clear",void 0,void 0),r}function Nt(e,t){return function(c,p){const l=this,o=l.__v_raw,a=ne(o),d=t?Yn:e?qn:It;return!e&&Oe(a,"iterate",at),o.forEach((y,w)=>c.call(p,d(y),d(w),l))}}function Ut(e,t,r){return function(...c){const p=this.__v_raw,l=ne(p),o=gt(l),a=e==="entries"||e===Symbol.iterator&&o,d=e==="keys"&&o,y=p[e](...c),w=r?Yn:t?qn:It;return!t&&Oe(l,"iterate",d?Pn:at),{next(){const{value:S,done:T}=y.next();return T?{value:S,done:T}:{value:a?[w(S[0]),w(S[1])]:w(S),done:T}},[Symbol.iterator](){return this}}}}function Ve(e){return function(...t){return e==="delete"?!1:this}}function Do(){const e={get(l){return Lt(this,l)},get size(){return Ft(this)},has:Bt,add:gr,set:vr,delete:yr,clear:_r,forEach:Nt(!1,!1)},t={get(l){return Lt(this,l,!1,!0)},get size(){return Ft(this)},has:Bt,add:gr,set:vr,delete:yr,clear:_r,forEach:Nt(!1,!0)},r={get(l){return Lt(this,l,!0)},get size(){return Ft(this,!0)},has(l){return Bt.call(this,l,!0)},add:Ve("add"),set:Ve("set"),delete:Ve("delete"),clear:Ve("clear"),forEach:Nt(!0,!1)},c={get(l){return Lt(this,l,!0,!0)},get size(){return Ft(this,!0)},has(l){return Bt.call(this,l,!0)},add:Ve("add"),set:Ve("set"),delete:Ve("delete"),clear:Ve("clear"),forEach:Nt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=Ut(l,!1,!1),r[l]=Ut(l,!0,!1),t[l]=Ut(l,!1,!0),c[l]=Ut(l,!0,!0)}),[e,r,t,c]}const[xo,Io,jo,Ao]=Do();function Xn(e,t){const r=t?e?Ao:jo:e?Io:xo;return(c,p,l)=>p==="__v_isReactive"?!e:p==="__v_isReadonly"?e:p==="__v_raw"?c:Reflect.get(te(r,p)&&p in c?r:c,p,l)}const Lo={get:Xn(!1,!1)},Bo={get:Xn(!1,!0)},Fo={get:Xn(!0,!1)},ui=new WeakMap,li=new WeakMap,fi=new WeakMap,No=new WeakMap;function Uo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $o(e){return e.__v_skip||!Object.isExtensible(e)?0:Uo(lo(e))}function Qn(e){return xt(e)?e:Zn(e,!1,ci,Lo,ui)}function zo(e){return Zn(e,!1,Mo,Bo,li)}function di(e){return Zn(e,!0,Oo,Fo,fi)}function Zn(e,t,r,c,p){if(!de(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=p.get(e);if(l)return l;const o=$o(e);if(o===0)return e;const a=new Proxy(e,o===2?c:r);return p.set(e,a),a}function vt(e){return xt(e)?vt(e.__v_raw):!!(e&&e.__v_isReactive)}function xt(e){return!!(e&&e.__v_isReadonly)}function pi(e){return!!(e&&e.__v_isShallow)}function hi(e){return vt(e)||xt(e)}function ne(e){const t=e&&e.__v_raw;return t?ne(t):e}function mi(e){return Kt(e,"__v_skip",!0),e}const It=e=>de(e)?Qn(e):e,qn=e=>de(e)?di(e):e;function gi(e){Qe&&Ue&&(e=ne(e),oi(e.dep||(e.dep=Vn())))}function vi(e,t){e=ne(e),e.dep&&En(e.dep)}function ye(e){return!!(e&&e.__v_isRef===!0)}function Ga(e){return Ho(e,!1)}function Ho(e,t){return ye(e)?e:new Wo(e,t)}class Wo{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:ne(t),this._value=r?t:It(t)}get value(){return gi(this),this._value}set value(t){t=this.__v_isShallow?t:ne(t),Dt(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:It(t),vi(this))}}function Go(e){return ye(e)?e.value:e}const Vo={get:(e,t,r)=>Go(Reflect.get(e,t,r)),set:(e,t,r,c)=>{const p=e[t];return ye(p)&&!ye(r)?(p.value=r,!0):Reflect.set(e,t,r,c)}};function yi(e){return vt(e)?e:new Proxy(e,Vo)}class Ko{constructor(t,r,c,p){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Kn(t,()=>{this._dirty||(this._dirty=!0,vi(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!p,this.__v_isReadonly=c}get value(){const t=ne(this);return gi(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Jo(e,t,r=!1){let c,p;const l=q(e);return l?(c=e,p=je):(c=e.get,p=e.set),new Ko(c,p,l||!p,r)}Promise.resolve();function Ze(e,t,r,c){let p;try{p=c?e(...c):e()}catch(l){ln(l,t,r)}return p}function De(e,t,r,c){if(q(e)){const l=Ze(e,t,r,c);return l&&qr(l)&&l.catch(o=>{ln(o,t,r)}),l}const p=[];for(let l=0;l<e.length;l++)p.push(De(e[l],t,r,c));return p}function ln(e,t,r,c=!0){const p=t?t.vnode:null;if(t){let l=t.parent;const o=t.proxy,a=r;for(;l;){const y=l.ec;if(y){for(let w=0;w<y.length;w++)if(y[w](e,o,a)===!1)return}l=l.parent}const d=t.appContext.config.errorHandler;if(d){Ze(d,null,10,[e,o,a]);return}}Yo(e,r,p,c)}function Yo(e,t,r,c=!0){console.error(e)}let Yt=!1,Rn=!1;const Re=[];let He=0;const Rt=[];let Et=null,dt=0;const kt=[];let Ye=null,pt=0;const _i=Promise.resolve();let er=null,kn=null;function Xo(e){const t=er||_i;return e?t.then(this?e.bind(this):e):t}function Qo(e){let t=He+1,r=Re.length;for(;t<r;){const c=t+r>>>1;jt(Re[c])<e?t=c+1:r=c}return t}function bi(e){(!Re.length||!Re.includes(e,Yt&&e.allowRecurse?He+1:He))&&e!==kn&&(e.id==null?Re.push(e):Re.splice(Qo(e.id),0,e),Ci())}function Ci(){!Yt&&!Rn&&(Rn=!0,er=_i.then(wi))}function Zo(e){const t=Re.indexOf(e);t>He&&Re.splice(t,1)}function Ti(e,t,r,c){Q(e)?r.push(...e):(!t||!t.includes(e,e.allowRecurse?c+1:c))&&r.push(e),Ci()}function qo(e){Ti(e,Et,Rt,dt)}function es(e){Ti(e,Ye,kt,pt)}function tr(e,t=null){if(Rt.length){for(kn=t,Et=[...new Set(Rt)],Rt.length=0,dt=0;dt<Et.length;dt++)Et[dt]();Et=null,dt=0,kn=null,tr(e,t)}}function Si(e){if(kt.length){const t=[...new Set(kt)];if(kt.length=0,Ye){Ye.push(...t);return}for(Ye=t,Ye.sort((r,c)=>jt(r)-jt(c)),pt=0;pt<Ye.length;pt++)Ye[pt]();Ye=null,pt=0}}const jt=e=>e.id==null?1/0:e.id;function wi(e){Rn=!1,Yt=!0,tr(e),Re.sort((r,c)=>jt(r)-jt(c));const t=je;try{for(He=0;He<Re.length;He++){const r=Re[He];r&&r.active!==!1&&Ze(r,null,14)}}finally{He=0,Re.length=0,Si(),Yt=!1,er=null,(Re.length||Rt.length||kt.length)&&wi(e)}}function ts(e,t,...r){const c=e.vnode.props||se;let p=r;const l=t.startsWith("update:"),o=l&&t.slice(7);if(o&&o in c){const w=`${o==="modelValue"?"model":o}Modifiers`,{number:S,trim:T}=c[w]||se;T?p=r.map(f=>f.trim()):S&&(p=r.map(Jt))}let a,d=c[a=mn(t)]||c[a=mn($e(t))];!d&&l&&(d=c[a=mn(bt(t))]),d&&De(d,e,6,p);const y=c[a+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,De(y,e,6,p)}}function Pi(e,t,r=!1){const c=t.emitsCache,p=c.get(e);if(p!==void 0)return p;const l=e.emits;let o={},a=!1;if(!q(e)){const d=y=>{const w=Pi(y,t,!0);w&&(a=!0,_e(o,w))};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!a?(c.set(e,null),null):(Q(l)?l.forEach(d=>o[d]=null):_e(o,l),c.set(e,o),o)}function nr(e,t){return!e||!on(t)?!1:(t=t.slice(2).replace(/Once$/,""),te(e,t[0].toLowerCase()+t.slice(1))||te(e,bt(t))||te(e,t))}let ke=null,Ei=null;function Xt(e){const t=ke;return ke=e,Ei=e&&e.type.__scopeId||null,t}function ns(e,t=ke,r){if(!t||e._n)return e;const c=(...p)=>{c._d&&Dr(-1);const l=Xt(t),o=e(...p);return Xt(l),c._d&&Dr(1),o};return c._n=!0,c._c=!0,c._d=!0,c}function gn(e){const{type:t,vnode:r,proxy:c,withProxy:p,props:l,propsOptions:[o],slots:a,attrs:d,emit:y,render:w,renderCache:S,data:T,setupState:f,ctx:m,inheritAttrs:g}=e;let b,C;const h=Xt(e);try{if(r.shapeFlag&4){const i=p||c;b=Ne(w.call(i,i,S,l,f,T,m)),C=d}else{const i=t;b=Ne(i.length>1?i(l,{attrs:d,slots:a,emit:y}):i(l,null)),C=t.props?d:rs(d)}}catch(i){Mt.length=0,ln(i,e,1),b=we(Ae)}let v=b;if(C&&g!==!1){const i=Object.keys(C),{shapeFlag:s}=v;i.length&&s&7&&(o&&i.some(zn)&&(C=is(C,o)),v=yt(v,C))}return r.dirs&&(v.dirs=v.dirs?v.dirs.concat(r.dirs):r.dirs),r.transition&&(v.transition=r.transition),b=v,Xt(h),b}const rs=e=>{let t;for(const r in e)(r==="class"||r==="style"||on(r))&&((t||(t={}))[r]=e[r]);return t},is=(e,t)=>{const r={};for(const c in e)(!zn(c)||!(c.slice(9)in t))&&(r[c]=e[c]);return r};function os(e,t,r){const{props:c,children:p,component:l}=e,{props:o,children:a,patchFlag:d}=t,y=l.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return c?br(c,o,y):!!o;if(d&8){const w=t.dynamicProps;for(let S=0;S<w.length;S++){const T=w[S];if(o[T]!==c[T]&&!nr(y,T))return!0}}}else return(p||a)&&(!a||!a.$stable)?!0:c===o?!1:c?o?br(c,o,y):!0:!!o;return!1}function br(e,t,r){const c=Object.keys(t);if(c.length!==Object.keys(e).length)return!0;for(let p=0;p<c.length;p++){const l=c[p];if(t[l]!==e[l]&&!nr(r,l))return!0}return!1}function ss({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const as=e=>e.__isSuspense;function cs(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):es(e)}function us(e,t){if(he){let r=he.provides;const c=he.parent&&he.parent.provides;c===r&&(r=he.provides=Object.create(c)),r[e]=t}}function vn(e,t,r=!1){const c=he||ke;if(c){const p=c.parent==null?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides;if(p&&e in p)return p[e];if(arguments.length>1)return r&&q(t)?t.call(c.proxy):t}}function Va(e,t){return fn(e,null,t)}function ls(e,t){return fn(e,null,{flush:"post"})}const Cr={};function yn(e,t,r){return fn(e,t,r)}function fn(e,t,{immediate:r,deep:c,flush:p,onTrack:l,onTrigger:o}=se){const a=he;let d,y=!1,w=!1;if(ye(e)?(d=()=>e.value,y=pi(e)):vt(e)?(d=()=>e,c=!0):Q(e)?(w=!0,y=e.some(vt),d=()=>e.map(C=>{if(ye(C))return C.value;if(vt(C))return st(C);if(q(C))return Ze(C,a,2)})):q(e)?t?d=()=>Ze(e,a,2):d=()=>{if(!(a&&a.isUnmounted))return S&&S(),De(e,a,3,[T])}:d=je,t&&c){const C=d;d=()=>st(C())}let S,T=C=>{S=b.onStop=()=>{Ze(C,a,4)}};if(At)return T=je,t?r&&De(t,a,3,[d(),w?[]:void 0,T]):d(),je;let f=w?[]:Cr;const m=()=>{if(!!b.active)if(t){const C=b.run();(c||y||(w?C.some((h,v)=>Dt(h,f[v])):Dt(C,f)))&&(S&&S(),De(t,a,3,[C,f===Cr?void 0:f,T]),f=C)}else b.run()};m.allowRecurse=!!t;let g;p==="sync"?g=m:p==="post"?g=()=>Se(m,a&&a.suspense):g=()=>{!a||a.isMounted?qo(m):m()};const b=new Kn(d,g);return t?r?m():f=b.run():p==="post"?Se(b.run.bind(b),a&&a.suspense):b.run(),()=>{b.stop(),a&&a.scope&&Hn(a.scope.effects,b)}}function fs(e,t,r){const c=this.proxy,p=fe(e)?e.includes(".")?Ri(c,e):()=>c[e]:e.bind(c,c);let l;q(t)?l=t:(l=t.handler,r=t);const o=he;_t(this);const a=fn(p,l.bind(c),r);return o?_t(o):ut(),a}function Ri(e,t){const r=t.split(".");return()=>{let c=e;for(let p=0;p<r.length&&c;p++)c=c[r[p]];return c}}function st(e,t){if(!de(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ye(e))st(e.value,t);else if(Q(e))for(let r=0;r<e.length;r++)st(e[r],t);else if(Zr(e)||gt(e))e.forEach(r=>{st(r,t)});else if(ti(e))for(const r in e)st(e[r],t);return e}function ds(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rr(()=>{e.isMounted=!0}),xi(()=>{e.isUnmounting=!0}),e}const Me=[Function,Array],ps={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Me,onEnter:Me,onAfterEnter:Me,onEnterCancelled:Me,onBeforeLeave:Me,onLeave:Me,onAfterLeave:Me,onLeaveCancelled:Me,onBeforeAppear:Me,onAppear:Me,onAfterAppear:Me,onAppearCancelled:Me},setup(e,{slots:t}){const r=Ki(),c=ds();let p;return()=>{const l=t.default&&Mi(t.default(),!0);if(!l||!l.length)return;const o=ne(e),{mode:a}=o,d=l[0];if(c.isLeaving)return _n(d);const y=Tr(d);if(!y)return _n(d);const w=On(y,o,c,r);Mn(y,w);const S=r.subTree,T=S&&Tr(S);let f=!1;const{getTransitionKey:m}=y.type;if(m){const g=m();p===void 0?p=g:g!==p&&(p=g,f=!0)}if(T&&T.type!==Ae&&(!it(y,T)||f)){const g=On(T,o,c,r);if(Mn(T,g),a==="out-in")return c.isLeaving=!0,g.afterLeave=()=>{c.isLeaving=!1,r.update()},_n(d);a==="in-out"&&y.type!==Ae&&(g.delayLeave=(b,C,h)=>{const v=Oi(c,T);v[String(T.key)]=T,b._leaveCb=()=>{C(),b._leaveCb=void 0,delete w.delayedLeave},w.delayedLeave=h})}return d}}},ki=ps;function Oi(e,t){const{leavingVNodes:r}=e;let c=r.get(t.type);return c||(c=Object.create(null),r.set(t.type,c)),c}function On(e,t,r,c){const{appear:p,mode:l,persisted:o=!1,onBeforeEnter:a,onEnter:d,onAfterEnter:y,onEnterCancelled:w,onBeforeLeave:S,onLeave:T,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:g,onAppear:b,onAfterAppear:C,onAppearCancelled:h}=t,v=String(e.key),i=Oi(r,e),s=(u,_)=>{u&&De(u,c,9,_)},n={mode:l,persisted:o,beforeEnter(u){let _=a;if(!r.isMounted)if(p)_=g||a;else return;u._leaveCb&&u._leaveCb(!0);const P=i[v];P&&it(e,P)&&P.el._leaveCb&&P.el._leaveCb(),s(_,[u])},enter(u){let _=d,P=y,E=w;if(!r.isMounted)if(p)_=b||d,P=C||y,E=h||w;else return;let O=!1;const D=u._enterCb=M=>{O||(O=!0,M?s(E,[u]):s(P,[u]),n.delayedLeave&&n.delayedLeave(),u._enterCb=void 0)};_?(_(u,D),_.length<=1&&D()):D()},leave(u,_){const P=String(e.key);if(u._enterCb&&u._enterCb(!0),r.isUnmounting)return _();s(S,[u]);let E=!1;const O=u._leaveCb=D=>{E||(E=!0,_(),D?s(m,[u]):s(f,[u]),u._leaveCb=void 0,i[P]===e&&delete i[P])};i[P]=e,T?(T(u,O),T.length<=1&&O()):O()},clone(u){return On(u,t,r,c)}};return n}function _n(e){if(dn(e))return e=yt(e),e.children=null,e}function Tr(e){return dn(e)?e.children?e.children[0]:void 0:e}function Mn(e,t){e.shapeFlag&6&&e.component?Mn(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Mi(e,t=!1){let r=[],c=0;for(let p=0;p<e.length;p++){const l=e[p];l.type===Ee?(l.patchFlag&128&&c++,r=r.concat(Mi(l.children,t))):(t||l.type!==Ae)&&r.push(l)}if(c>1)for(let p=0;p<r.length;p++)r[p].patchFlag=-2;return r}function Ka(e){return q(e)?{setup:e,name:e.name}:e}const Dn=e=>!!e.type.__asyncLoader,dn=e=>e.type.__isKeepAlive;function hs(e,t){Di(e,"a",t)}function ms(e,t){Di(e,"da",t)}function Di(e,t,r=he){const c=e.__wdc||(e.__wdc=()=>{let p=r;for(;p;){if(p.isDeactivated)return;p=p.parent}return e()});if(pn(t,c,r),r){let p=r.parent;for(;p&&p.parent;)dn(p.parent.vnode)&&gs(c,t,r,p),p=p.parent}}function gs(e,t,r,c){const p=pn(t,e,c,!0);ir(()=>{Hn(c[t],p)},r)}function pn(e,t,r=he,c=!1){if(r){const p=r[e]||(r[e]=[]),l=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;Ct(),_t(r);const a=De(t,r,e,o);return ut(),Tt(),a});return c?p.unshift(l):p.push(l),l}}const Ge=e=>(t,r=he)=>(!At||e==="sp")&&pn(e,t,r),vs=Ge("bm"),rr=Ge("m"),ys=Ge("bu"),_s=Ge("u"),xi=Ge("bum"),ir=Ge("um"),bs=Ge("sp"),Cs=Ge("rtg"),Ts=Ge("rtc");function Ss(e,t=he){pn("ec",e,t)}let xn=!0;function ws(e){const t=ji(e),r=e.proxy,c=e.ctx;xn=!1,t.beforeCreate&&Sr(t.beforeCreate,e,"bc");const{data:p,computed:l,methods:o,watch:a,provide:d,inject:y,created:w,beforeMount:S,mounted:T,beforeUpdate:f,updated:m,activated:g,deactivated:b,beforeDestroy:C,beforeUnmount:h,destroyed:v,unmounted:i,render:s,renderTracked:n,renderTriggered:u,errorCaptured:_,serverPrefetch:P,expose:E,inheritAttrs:O,components:D,directives:M,filters:R}=t;if(y&&Ps(y,c,null,e.appContext.config.unwrapInjectedRef),o)for(const j in o){const N=o[j];q(N)&&(c[j]=N.bind(r))}if(p){const j=p.call(r,r);de(j)&&(e.data=Qn(j))}if(xn=!0,l)for(const j in l){const N=l[j],G=q(N)?N.bind(r,r):q(N.get)?N.get.bind(r,r):je,X=!q(N)&&q(N.set)?N.set.bind(r):je,re=aa({get:G,set:X});Object.defineProperty(c,j,{enumerable:!0,configurable:!0,get:()=>re.value,set:V=>re.value=V})}if(a)for(const j in a)Ii(a[j],c,r,j);if(d){const j=q(d)?d.call(r):d;Reflect.ownKeys(j).forEach(N=>{us(N,j[N])})}w&&Sr(w,e,"c");function A(j,N){Q(N)?N.forEach(G=>j(G.bind(r))):N&&j(N.bind(r))}if(A(vs,S),A(rr,T),A(ys,f),A(_s,m),A(hs,g),A(ms,b),A(Ss,_),A(Ts,n),A(Cs,u),A(xi,h),A(ir,i),A(bs,P),Q(E))if(E.length){const j=e.exposed||(e.exposed={});E.forEach(N=>{Object.defineProperty(j,N,{get:()=>r[N],set:G=>r[N]=G})})}else e.exposed||(e.exposed={});s&&e.render===je&&(e.render=s),O!=null&&(e.inheritAttrs=O),D&&(e.components=D),M&&(e.directives=M)}function Ps(e,t,r=je,c=!1){Q(e)&&(e=In(e));for(const p in e){const l=e[p];let o;de(l)?"default"in l?o=vn(l.from||p,l.default,!0):o=vn(l.from||p):o=vn(l),ye(o)&&c?Object.defineProperty(t,p,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[p]=o}}function Sr(e,t,r){De(Q(e)?e.map(c=>c.bind(t.proxy)):e.bind(t.proxy),t,r)}function Ii(e,t,r,c){const p=c.includes(".")?Ri(r,c):()=>r[c];if(fe(e)){const l=t[e];q(l)&&yn(p,l)}else if(q(e))yn(p,e.bind(r));else if(de(e))if(Q(e))e.forEach(l=>Ii(l,t,r,c));else{const l=q(e.handler)?e.handler.bind(r):t[e.handler];q(l)&&yn(p,l,e)}}function ji(e){const t=e.type,{mixins:r,extends:c}=t,{mixins:p,optionsCache:l,config:{optionMergeStrategies:o}}=e.appContext,a=l.get(t);let d;return a?d=a:!p.length&&!r&&!c?d=t:(d={},p.length&&p.forEach(y=>Qt(d,y,o,!0)),Qt(d,t,o)),l.set(t,d),d}function Qt(e,t,r,c=!1){const{mixins:p,extends:l}=t;l&&Qt(e,l,r,!0),p&&p.forEach(o=>Qt(e,o,r,!0));for(const o in t)if(!(c&&o==="expose")){const a=Es[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Es={data:wr,props:rt,emits:rt,methods:rt,computed:rt,beforeCreate:Te,created:Te,beforeMount:Te,mounted:Te,beforeUpdate:Te,updated:Te,beforeDestroy:Te,beforeUnmount:Te,destroyed:Te,unmounted:Te,activated:Te,deactivated:Te,errorCaptured:Te,serverPrefetch:Te,components:rt,directives:rt,watch:ks,provide:wr,inject:Rs};function wr(e,t){return t?e?function(){return _e(q(e)?e.call(this,this):e,q(t)?t.call(this,this):t)}:t:e}function Rs(e,t){return rt(In(e),In(t))}function In(e){if(Q(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Te(e,t){return e?[...new Set([].concat(e,t))]:t}function rt(e,t){return e?_e(_e(Object.create(null),e),t):t}function ks(e,t){if(!e)return t;if(!t)return e;const r=_e(Object.create(null),e);for(const c in t)r[c]=Te(e[c],t[c]);return r}function Os(e,t,r,c=!1){const p={},l={};Kt(l,hn,1),e.propsDefaults=Object.create(null),Ai(e,t,p,l);for(const o in e.propsOptions[0])o in p||(p[o]=void 0);r?e.props=c?p:zo(p):e.type.props?e.props=p:e.props=l,e.attrs=l}function Ms(e,t,r,c){const{props:p,attrs:l,vnode:{patchFlag:o}}=e,a=ne(p),[d]=e.propsOptions;let y=!1;if((c||o>0)&&!(o&16)){if(o&8){const w=e.vnode.dynamicProps;for(let S=0;S<w.length;S++){let T=w[S];const f=t[T];if(d)if(te(l,T))f!==l[T]&&(l[T]=f,y=!0);else{const m=$e(T);p[m]=jn(d,a,m,f,e,!1)}else f!==l[T]&&(l[T]=f,y=!0)}}}else{Ai(e,t,p,l)&&(y=!0);let w;for(const S in a)(!t||!te(t,S)&&((w=bt(S))===S||!te(t,w)))&&(d?r&&(r[S]!==void 0||r[w]!==void 0)&&(p[S]=jn(d,a,S,void 0,e,!0)):delete p[S]);if(l!==a)for(const S in l)(!t||!te(t,S)&&!0)&&(delete l[S],y=!0)}y&&We(e,"set","$attrs")}function Ai(e,t,r,c){const[p,l]=e.propsOptions;let o=!1,a;if(t)for(let d in t){if(Ht(d))continue;const y=t[d];let w;p&&te(p,w=$e(d))?!l||!l.includes(w)?r[w]=y:(a||(a={}))[w]=y:nr(e.emitsOptions,d)||(!(d in c)||y!==c[d])&&(c[d]=y,o=!0)}if(l){const d=ne(r),y=a||se;for(let w=0;w<l.length;w++){const S=l[w];r[S]=jn(p,d,S,y[S],e,!te(y,S))}}return o}function jn(e,t,r,c,p,l){const o=e[r];if(o!=null){const a=te(o,"default");if(a&&c===void 0){const d=o.default;if(o.type!==Function&&q(d)){const{propsDefaults:y}=p;r in y?c=y[r]:(_t(p),c=y[r]=d.call(null,t),ut())}else c=d}o[0]&&(l&&!a?c=!1:o[1]&&(c===""||c===bt(r))&&(c=!0))}return c}function Li(e,t,r=!1){const c=t.propsCache,p=c.get(e);if(p)return p;const l=e.props,o={},a=[];let d=!1;if(!q(e)){const w=S=>{d=!0;const[T,f]=Li(S,t,!0);_e(o,T),f&&a.push(...f)};!r&&t.mixins.length&&t.mixins.forEach(w),e.extends&&w(e.extends),e.mixins&&e.mixins.forEach(w)}if(!l&&!d)return c.set(e,mt),mt;if(Q(l))for(let w=0;w<l.length;w++){const S=$e(l[w]);Pr(S)&&(o[S]=se)}else if(l)for(const w in l){const S=$e(w);if(Pr(S)){const T=l[w],f=o[S]=Q(T)||q(T)?{type:T}:T;if(f){const m=kr(Boolean,f.type),g=kr(String,f.type);f[0]=m>-1,f[1]=g<0||m<g,(m>-1||te(f,"default"))&&a.push(S)}}}const y=[o,a];return c.set(e,y),y}function Pr(e){return e[0]!=="$"}function Er(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Rr(e,t){return Er(e)===Er(t)}function kr(e,t){return Q(t)?t.findIndex(r=>Rr(r,e)):q(t)&&Rr(t,e)?0:-1}const Bi=e=>e[0]==="_"||e==="$stable",or=e=>Q(e)?e.map(Ne):[Ne(e)],Ds=(e,t,r)=>{const c=ns((...p)=>or(t(...p)),r);return c._c=!1,c},Fi=(e,t,r)=>{const c=e._ctx;for(const p in e){if(Bi(p))continue;const l=e[p];if(q(l))t[p]=Ds(p,l,c);else if(l!=null){const o=or(l);t[p]=()=>o}}},Ni=(e,t)=>{const r=or(t);e.slots.default=()=>r},xs=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=ne(t),Kt(t,"_",r)):Fi(t,e.slots={})}else e.slots={},t&&Ni(e,t);Kt(e.slots,hn,1)},Is=(e,t,r)=>{const{vnode:c,slots:p}=e;let l=!0,o=se;if(c.shapeFlag&32){const a=t._;a?r&&a===1?l=!1:(_e(p,t),!r&&a===1&&delete p._):(l=!t.$stable,Fi(t,p)),o=t}else t&&(Ni(e,t),o={default:1});if(l)for(const a in p)!Bi(a)&&!(a in o)&&delete p[a]};function Ja(e,t){const r=ke;if(r===null)return e;const c=r.proxy,p=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[o,a,d,y=se]=t[l];q(o)&&(o={mounted:o,updated:o}),o.deep&&st(a),p.push({dir:o,instance:c,value:a,oldValue:void 0,arg:d,modifiers:y})}return e}function et(e,t,r,c){const p=e.dirs,l=t&&t.dirs;for(let o=0;o<p.length;o++){const a=p[o];l&&(a.oldValue=l[o].value);let d=a.dir[c];d&&(Ct(),De(d,r,8,[e.el,a,e,t]),Tt())}}function Ui(){return{app:null,config:{isNativeTag:ao,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let js=0;function As(e,t){return function(c,p=null){p!=null&&!de(p)&&(p=null);const l=Ui(),o=new Set;let a=!1;const d=l.app={_uid:js++,_component:c,_props:p,_container:null,_context:l,_instance:null,version:ua,get config(){return l.config},set config(y){},use(y,...w){return o.has(y)||(y&&q(y.install)?(o.add(y),y.install(d,...w)):q(y)&&(o.add(y),y(d,...w))),d},mixin(y){return l.mixins.includes(y)||l.mixins.push(y),d},component(y,w){return w?(l.components[y]=w,d):l.components[y]},directive(y,w){return w?(l.directives[y]=w,d):l.directives[y]},mount(y,w,S){if(!a){const T=we(c,p);return T.appContext=l,w&&t?t(T,y):e(T,y,S),a=!0,d._container=y,y.__vue_app__=d,ur(T.component)||T.component.proxy}},unmount(){a&&(e(null,d._container),delete d._container.__vue_app__)},provide(y,w){return l.provides[y]=w,d}};return d}}function An(e,t,r,c,p=!1){if(Q(e)){e.forEach((T,f)=>An(T,t&&(Q(t)?t[f]:t),r,c,p));return}if(Dn(c)&&!p)return;const l=c.shapeFlag&4?ur(c.component)||c.component.proxy:c.el,o=p?null:l,{i:a,r:d}=e,y=t&&t.r,w=a.refs===se?a.refs={}:a.refs,S=a.setupState;if(y!=null&&y!==d&&(fe(y)?(w[y]=null,te(S,y)&&(S[y]=null)):ye(y)&&(y.value=null)),q(d))Ze(d,a,12,[o,w]);else{const T=fe(d),f=ye(d);if(T||f){const m=()=>{if(e.f){const g=T?w[d]:d.value;p?Q(g)&&Hn(g,l):Q(g)?g.includes(l)||g.push(l):T?w[d]=[l]:(d.value=[l],e.k&&(w[e.k]=d.value))}else T?(w[d]=o,te(S,d)&&(S[d]=o)):ye(d)&&(d.value=o,e.k&&(w[e.k]=o))};o?(m.id=-1,Se(m,r)):m()}}}const Se=cs;function Ls(e){return Bs(e)}function Bs(e,t){const r=ho();r.__VUE__=!0;const{insert:c,remove:p,patchProp:l,createElement:o,createText:a,createComment:d,setText:y,setElementText:w,parentNode:S,nextSibling:T,setScopeId:f=je,cloneNode:m,insertStaticContent:g}=e,b=(k,x,L,F=null,B=null,z=null,H=!1,$=null,W=!!x.dynamicChildren)=>{if(k===x)return;k&&!it(k,x)&&(F=Ce(k),ie(k,B,z,!0),k=null),x.patchFlag===-2&&(W=!1,x.dynamicChildren=null);const{type:U,ref:J,shapeFlag:K}=x;switch(U){case ar:C(k,x,L,F);break;case Ae:h(k,x,L,F);break;case Gt:k==null&&v(x,L,F,H);break;case Ee:M(k,x,L,F,B,z,H,$,W);break;default:K&1?n(k,x,L,F,B,z,H,$,W):K&6?R(k,x,L,F,B,z,H,$,W):(K&64||K&128)&&U.process(k,x,L,F,B,z,H,$,W,ae)}J!=null&&B&&An(J,k&&k.ref,z,x||k,!x)},C=(k,x,L,F)=>{if(k==null)c(x.el=a(x.children),L,F);else{const B=x.el=k.el;x.children!==k.children&&y(B,x.children)}},h=(k,x,L,F)=>{k==null?c(x.el=d(x.children||""),L,F):x.el=k.el},v=(k,x,L,F)=>{[k.el,k.anchor]=g(k.children,x,L,F,k.el,k.anchor)},i=({el:k,anchor:x},L,F)=>{let B;for(;k&&k!==x;)B=T(k),c(k,L,F),k=B;c(x,L,F)},s=({el:k,anchor:x})=>{let L;for(;k&&k!==x;)L=T(k),p(k),k=L;p(x)},n=(k,x,L,F,B,z,H,$,W)=>{H=H||x.type==="svg",k==null?u(x,L,F,B,z,H,$,W):E(k,x,B,z,H,$,W)},u=(k,x,L,F,B,z,H,$)=>{let W,U;const{type:J,props:K,shapeFlag:Y,transition:Z,patchFlag:ee,dirs:ue}=k;if(k.el&&m!==void 0&&ee===-1)W=k.el=m(k.el);else{if(W=k.el=o(k.type,z,K&&K.is,K),Y&8?w(W,k.children):Y&16&&P(k.children,W,null,F,B,z&&J!=="foreignObject",H,$),ue&&et(k,null,F,"created"),K){for(const ce in K)ce!=="value"&&!Ht(ce)&&l(W,ce,null,K[ce],z,k.children,F,B,pe);"value"in K&&l(W,"value",null,K.value),(U=K.onVnodeBeforeMount)&&Fe(U,F,k)}_(W,k,k.scopeId,H,F)}ue&&et(k,null,F,"beforeMount");const oe=(!B||B&&!B.pendingBranch)&&Z&&!Z.persisted;oe&&Z.beforeEnter(W),c(W,x,L),((U=K&&K.onVnodeMounted)||oe||ue)&&Se(()=>{U&&Fe(U,F,k),oe&&Z.enter(W),ue&&et(k,null,F,"mounted")},B)},_=(k,x,L,F,B)=>{if(L&&f(k,L),F)for(let z=0;z<F.length;z++)f(k,F[z]);if(B){let z=B.subTree;if(x===z){const H=B.vnode;_(k,H,H.scopeId,H.slotScopeIds,B.parent)}}},P=(k,x,L,F,B,z,H,$,W=0)=>{for(let U=W;U<k.length;U++){const J=k[U]=$?Xe(k[U]):Ne(k[U]);b(null,J,x,L,F,B,z,H,$)}},E=(k,x,L,F,B,z,H)=>{const $=x.el=k.el;let{patchFlag:W,dynamicChildren:U,dirs:J}=x;W|=k.patchFlag&16;const K=k.props||se,Y=x.props||se;let Z;L&&tt(L,!1),(Z=Y.onVnodeBeforeUpdate)&&Fe(Z,L,x,k),J&&et(x,k,L,"beforeUpdate"),L&&tt(L,!0);const ee=B&&x.type!=="foreignObject";if(U?O(k.dynamicChildren,U,$,L,F,ee,z):H||G(k,x,$,null,L,F,ee,z,!1),W>0){if(W&16)D($,x,K,Y,L,F,B);else if(W&2&&K.class!==Y.class&&l($,"class",null,Y.class,B),W&4&&l($,"style",K.style,Y.style,B),W&8){const ue=x.dynamicProps;for(let oe=0;oe<ue.length;oe++){const ce=ue[oe],Ie=K[ce],lt=Y[ce];(lt!==Ie||ce==="value")&&l($,ce,Ie,lt,B,k.children,L,F,pe)}}W&1&&k.children!==x.children&&w($,x.children)}else!H&&U==null&&D($,x,K,Y,L,F,B);((Z=Y.onVnodeUpdated)||J)&&Se(()=>{Z&&Fe(Z,L,x,k),J&&et(x,k,L,"updated")},F)},O=(k,x,L,F,B,z,H)=>{for(let $=0;$<x.length;$++){const W=k[$],U=x[$],J=W.el&&(W.type===Ee||!it(W,U)||W.shapeFlag&70)?S(W.el):L;b(W,U,J,null,F,B,z,H,!0)}},D=(k,x,L,F,B,z,H)=>{if(L!==F){for(const $ in F){if(Ht($))continue;const W=F[$],U=L[$];W!==U&&$!=="value"&&l(k,$,U,W,H,x.children,B,z,pe)}if(L!==se)for(const $ in L)!Ht($)&&!($ in F)&&l(k,$,L[$],null,H,x.children,B,z,pe);"value"in F&&l(k,"value",L.value,F.value)}},M=(k,x,L,F,B,z,H,$,W)=>{const U=x.el=k?k.el:a(""),J=x.anchor=k?k.anchor:a("");let{patchFlag:K,dynamicChildren:Y,slotScopeIds:Z}=x;Z&&($=$?$.concat(Z):Z),k==null?(c(U,L,F),c(J,L,F),P(x.children,L,J,B,z,H,$,W)):K>0&&K&64&&Y&&k.dynamicChildren?(O(k.dynamicChildren,Y,L,B,z,H,$),(x.key!=null||B&&x===B.subTree)&&sr(k,x,!0)):G(k,x,L,J,B,z,H,$,W)},R=(k,x,L,F,B,z,H,$,W)=>{x.slotScopeIds=$,k==null?x.shapeFlag&512?B.ctx.activate(x,L,F,H,W):I(x,L,F,B,z,H,W):A(k,x,W)},I=(k,x,L,F,B,z,H)=>{const $=k.component=ea(k,F,B);if(dn(k)&&($.ctx.renderer=ae),ta($),$.asyncDep){if(B&&B.registerDep($,j),!k.el){const W=$.subTree=we(Ae);h(null,W,x,L)}return}j($,k,x,L,B,z,H)},A=(k,x,L)=>{const F=x.component=k.component;if(os(k,x,L))if(F.asyncDep&&!F.asyncResolved){N(F,x,L);return}else F.next=x,Zo(F.update),F.update();else x.component=k.component,x.el=k.el,F.vnode=x},j=(k,x,L,F,B,z,H)=>{const $=()=>{if(k.isMounted){let{next:J,bu:K,u:Y,parent:Z,vnode:ee}=k,ue=J,oe;tt(k,!1),J?(J.el=ee.el,N(k,J,H)):J=ee,K&&Wt(K),(oe=J.props&&J.props.onVnodeBeforeUpdate)&&Fe(oe,Z,J,ee),tt(k,!0);const ce=gn(k),Ie=k.subTree;k.subTree=ce,b(Ie,ce,S(Ie.el),Ce(Ie),k,B,z),J.el=ce.el,ue===null&&ss(k,ce.el),Y&&Se(Y,B),(oe=J.props&&J.props.onVnodeUpdated)&&Se(()=>Fe(oe,Z,J,ee),B)}else{let J;const{el:K,props:Y}=x,{bm:Z,m:ee,parent:ue}=k,oe=Dn(x);if(tt(k,!1),Z&&Wt(Z),!oe&&(J=Y&&Y.onVnodeBeforeMount)&&Fe(J,ue,x),tt(k,!0),K&&xe){const ce=()=>{k.subTree=gn(k),xe(K,k.subTree,k,B,null)};oe?x.type.__asyncLoader().then(()=>!k.isUnmounted&&ce()):ce()}else{const ce=k.subTree=gn(k);b(null,ce,L,F,k,B,z),x.el=ce.el}if(ee&&Se(ee,B),!oe&&(J=Y&&Y.onVnodeMounted)){const ce=x;Se(()=>Fe(J,ue,ce),B)}x.shapeFlag&256&&k.a&&Se(k.a,B),k.isMounted=!0,x=L=F=null}},W=k.effect=new Kn($,()=>bi(k.update),k.scope),U=k.update=W.run.bind(W);U.id=k.uid,tt(k,!0),U()},N=(k,x,L)=>{x.component=k;const F=k.vnode.props;k.vnode=x,k.next=null,Ms(k,x.props,F,L),Is(k,x.children,L),Ct(),tr(void 0,k.update),Tt()},G=(k,x,L,F,B,z,H,$,W=!1)=>{const U=k&&k.children,J=k?k.shapeFlag:0,K=x.children,{patchFlag:Y,shapeFlag:Z}=x;if(Y>0){if(Y&128){re(U,K,L,F,B,z,H,$,W);return}else if(Y&256){X(U,K,L,F,B,z,H,$,W);return}}Z&8?(J&16&&pe(U,B,z),K!==U&&w(L,K)):J&16?Z&16?re(U,K,L,F,B,z,H,$,W):pe(U,B,z,!0):(J&8&&w(L,""),Z&16&&P(K,L,F,B,z,H,$,W))},X=(k,x,L,F,B,z,H,$,W)=>{k=k||mt,x=x||mt;const U=k.length,J=x.length,K=Math.min(U,J);let Y;for(Y=0;Y<K;Y++){const Z=x[Y]=W?Xe(x[Y]):Ne(x[Y]);b(k[Y],Z,L,null,B,z,H,$,W)}U>J?pe(k,B,z,!0,!1,K):P(x,L,F,B,z,H,$,W,K)},re=(k,x,L,F,B,z,H,$,W)=>{let U=0;const J=x.length;let K=k.length-1,Y=J-1;for(;U<=K&&U<=Y;){const Z=k[U],ee=x[U]=W?Xe(x[U]):Ne(x[U]);if(it(Z,ee))b(Z,ee,L,null,B,z,H,$,W);else break;U++}for(;U<=K&&U<=Y;){const Z=k[K],ee=x[Y]=W?Xe(x[Y]):Ne(x[Y]);if(it(Z,ee))b(Z,ee,L,null,B,z,H,$,W);else break;K--,Y--}if(U>K){if(U<=Y){const Z=Y+1,ee=Z<J?x[Z].el:F;for(;U<=Y;)b(null,x[U]=W?Xe(x[U]):Ne(x[U]),L,ee,B,z,H,$,W),U++}}else if(U>Y)for(;U<=K;)ie(k[U],B,z,!0),U++;else{const Z=U,ee=U,ue=new Map;for(U=ee;U<=Y;U++){const Pe=x[U]=W?Xe(x[U]):Ne(x[U]);Pe.key!=null&&ue.set(Pe.key,U)}let oe,ce=0;const Ie=Y-ee+1;let lt=!1,lr=0;const St=new Array(Ie);for(U=0;U<Ie;U++)St[U]=0;for(U=Z;U<=K;U++){const Pe=k[U];if(ce>=Ie){ie(Pe,B,z,!0);continue}let Be;if(Pe.key!=null)Be=ue.get(Pe.key);else for(oe=ee;oe<=Y;oe++)if(St[oe-ee]===0&&it(Pe,x[oe])){Be=oe;break}Be===void 0?ie(Pe,B,z,!0):(St[Be-ee]=U+1,Be>=lr?lr=Be:lt=!0,b(Pe,x[Be],L,null,B,z,H,$,W),ce++)}const fr=lt?Fs(St):mt;for(oe=fr.length-1,U=Ie-1;U>=0;U--){const Pe=ee+U,Be=x[Pe],dr=Pe+1<J?x[Pe+1].el:F;St[U]===0?b(null,Be,L,dr,B,z,H,$,W):lt&&(oe<0||U!==fr[oe]?V(Be,L,dr,2):oe--)}}},V=(k,x,L,F,B=null)=>{const{el:z,type:H,transition:$,children:W,shapeFlag:U}=k;if(U&6){V(k.component.subTree,x,L,F);return}if(U&128){k.suspense.move(x,L,F);return}if(U&64){H.move(k,x,L,ae);return}if(H===Ee){c(z,x,L);for(let K=0;K<W.length;K++)V(W[K],x,L,F);c(k.anchor,x,L);return}if(H===Gt){i(k,x,L);return}if(F!==2&&U&1&&$)if(F===0)$.beforeEnter(z),c(z,x,L),Se(()=>$.enter(z),B);else{const{leave:K,delayLeave:Y,afterLeave:Z}=$,ee=()=>c(z,x,L),ue=()=>{K(z,()=>{ee(),Z&&Z()})};Y?Y(z,ee,ue):ue()}else c(z,x,L)},ie=(k,x,L,F=!1,B=!1)=>{const{type:z,props:H,ref:$,children:W,dynamicChildren:U,shapeFlag:J,patchFlag:K,dirs:Y}=k;if($!=null&&An($,null,L,k,!0),J&256){x.ctx.deactivate(k);return}const Z=J&1&&Y,ee=!Dn(k);let ue;if(ee&&(ue=H&&H.onVnodeBeforeUnmount)&&Fe(ue,x,k),J&6)ge(k.component,L,F);else{if(J&128){k.suspense.unmount(L,F);return}Z&&et(k,null,x,"beforeUnmount"),J&64?k.type.remove(k,x,L,B,ae,F):U&&(z!==Ee||K>0&&K&64)?pe(U,x,L,!1,!0):(z===Ee&&K&384||!B&&J&16)&&pe(W,x,L),F&&me(k)}(ee&&(ue=H&&H.onVnodeUnmounted)||Z)&&Se(()=>{ue&&Fe(ue,x,k),Z&&et(k,null,x,"unmounted")},L)},me=k=>{const{type:x,el:L,anchor:F,transition:B}=k;if(x===Ee){be(L,F);return}if(x===Gt){s(k);return}const z=()=>{p(L),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(k.shapeFlag&1&&B&&!B.persisted){const{leave:H,delayLeave:$}=B,W=()=>H(L,z);$?$(k.el,z,W):W()}else z()},be=(k,x)=>{let L;for(;k!==x;)L=T(k),p(k),k=L;p(x)},ge=(k,x,L)=>{const{bum:F,scope:B,update:z,subTree:H,um:$}=k;F&&Wt(F),B.stop(),z&&(z.active=!1,ie(H,k,x,L)),$&&Se($,x),Se(()=>{k.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},pe=(k,x,L,F=!1,B=!1,z=0)=>{for(let H=z;H<k.length;H++)ie(k[H],x,L,F,B)},Ce=k=>k.shapeFlag&6?Ce(k.component.subTree):k.shapeFlag&128?k.suspense.next():T(k.anchor||k.el),le=(k,x,L)=>{k==null?x._vnode&&ie(x._vnode,null,null,!0):b(x._vnode||null,k,x,null,null,null,L),Si(),x._vnode=k},ae={p:b,um:ie,m:V,r:me,mt:I,mc:P,pc:G,pbc:O,n:Ce,o:e};let Le,xe;return t&&([Le,xe]=t(ae)),{render:le,hydrate:Le,createApp:As(le,Le)}}function tt({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function sr(e,t,r=!1){const c=e.children,p=t.children;if(Q(c)&&Q(p))for(let l=0;l<c.length;l++){const o=c[l];let a=p[l];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=p[l]=Xe(p[l]),a.el=o.el),r||sr(o,a))}}function Fs(e){const t=e.slice(),r=[0];let c,p,l,o,a;const d=e.length;for(c=0;c<d;c++){const y=e[c];if(y!==0){if(p=r[r.length-1],e[p]<y){t[c]=p,r.push(c);continue}for(l=0,o=r.length-1;l<o;)a=l+o>>1,e[r[a]]<y?l=a+1:o=a;y<e[r[l]]&&(l>0&&(t[c]=r[l-1]),r[l]=c)}}for(l=r.length,o=r[l-1];l-- >0;)r[l]=o,o=t[o];return r}const Ns=e=>e.__isTeleport,Ot=e=>e&&(e.disabled||e.disabled===""),Or=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,Ln=(e,t)=>{const r=e&&e.to;return fe(r)?t?t(r):null:r},Us={__isTeleport:!0,process(e,t,r,c,p,l,o,a,d,y){const{mc:w,pc:S,pbc:T,o:{insert:f,querySelector:m,createText:g,createComment:b}}=y,C=Ot(t.props);let{shapeFlag:h,children:v,dynamicChildren:i}=t;if(e==null){const s=t.el=g(""),n=t.anchor=g("");f(s,r,c),f(n,r,c);const u=t.target=Ln(t.props,m),_=t.targetAnchor=g("");u&&(f(_,u),o=o||Or(u));const P=(E,O)=>{h&16&&w(v,E,O,p,l,o,a,d)};C?P(r,n):u&&P(u,_)}else{t.el=e.el;const s=t.anchor=e.anchor,n=t.target=e.target,u=t.targetAnchor=e.targetAnchor,_=Ot(e.props),P=_?r:n,E=_?s:u;if(o=o||Or(n),i?(T(e.dynamicChildren,i,P,p,l,o,a),sr(e,t,!0)):d||S(e,t,P,E,p,l,o,a,!1),C)_||$t(t,r,s,y,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const O=t.target=Ln(t.props,m);O&&$t(t,O,null,y,0)}else _&&$t(t,n,u,y,1)}},remove(e,t,r,c,{um:p,o:{remove:l}},o){const{shapeFlag:a,children:d,anchor:y,targetAnchor:w,target:S,props:T}=e;if(S&&l(w),(o||!Ot(T))&&(l(y),a&16))for(let f=0;f<d.length;f++){const m=d[f];p(m,t,r,!0,!!m.dynamicChildren)}},move:$t,hydrate:$s};function $t(e,t,r,{o:{insert:c},m:p},l=2){l===0&&c(e.targetAnchor,t,r);const{el:o,anchor:a,shapeFlag:d,children:y,props:w}=e,S=l===2;if(S&&c(o,t,r),(!S||Ot(w))&&d&16)for(let T=0;T<y.length;T++)p(y[T],t,r,2);S&&c(a,t,r)}function $s(e,t,r,c,p,l,{o:{nextSibling:o,parentNode:a,querySelector:d}},y){const w=t.target=Ln(t.props,d);if(w){const S=w._lpa||w.firstChild;t.shapeFlag&16&&(Ot(t.props)?(t.anchor=y(o(e),t,a(e),r,c,p,l),t.targetAnchor=S):(t.anchor=o(e),t.targetAnchor=y(S,t,w,r,c,p,l)),w._lpa=t.targetAnchor&&o(t.targetAnchor))}return t.anchor&&o(t.anchor)}const Ya=Us,zs="components",Hs="directives",Ws=Symbol();function Xa(e){return Gs(Hs,e)}function Gs(e,t,r=!0,c=!1){const p=ke||he;if(p){const l=p.type;if(e===zs){const a=oa(l);if(a&&(a===t||a===$e(t)||a===cn($e(t))))return l}const o=Mr(p[e]||l[e],t)||Mr(p.appContext[e],t);return!o&&c?l:o}}function Mr(e,t){return e&&(e[t]||e[$e(t)]||e[cn($e(t))])}const Ee=Symbol(void 0),ar=Symbol(void 0),Ae=Symbol(void 0),Gt=Symbol(void 0),Mt=[];let ct=null;function $i(e=!1){Mt.push(ct=e?null:[])}function Vs(){Mt.pop(),ct=Mt[Mt.length-1]||null}let Zt=1;function Dr(e){Zt+=e}function zi(e){return e.dynamicChildren=Zt>0?ct||mt:null,Vs(),Zt>0&&ct&&ct.push(e),e}function Qa(e,t,r,c,p,l){return zi(Gi(e,t,r,c,p,l,!0))}function Hi(e,t,r,c,p){return zi(we(e,t,r,c,p,!0))}function qt(e){return e?e.__v_isVNode===!0:!1}function it(e,t){return e.type===t.type&&e.key===t.key}const hn="__vInternal",Wi=({key:e})=>e!=null?e:null,Vt=({ref:e,ref_key:t,ref_for:r})=>e!=null?fe(e)||ye(e)||q(e)?{i:ke,r:e,k:t,f:!!r}:e:null;function Gi(e,t=null,r=null,c=0,p=null,l=e===Ee?0:1,o=!1,a=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Wi(t),ref:t&&Vt(t),scopeId:Ei,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:c,dynamicProps:p,dynamicChildren:null,appContext:null};return a?(cr(d,r),l&128&&e.normalize(d)):r&&(d.shapeFlag|=fe(r)?8:16),Zt>0&&!o&&ct&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&ct.push(d),d}const we=Ks;function Ks(e,t=null,r=null,c=0,p=null,l=!1){if((!e||e===Ws)&&(e=Ae),qt(e)){const a=yt(e,t,!0);return r&&cr(a,r),a}if(sa(e)&&(e=e.__vccOpts),t){t=Js(t);let{class:a,style:d}=t;a&&!fe(a)&&(t.class=rn(a)),de(d)&&(hi(d)&&!Q(d)&&(d=_e({},d)),t.style=nn(d))}const o=fe(e)?1:as(e)?128:Ns(e)?64:de(e)?4:q(e)?2:0;return Gi(e,t,r,c,p,o,l,!0)}function Js(e){return e?hi(e)||hn in e?_e({},e):e:null}function yt(e,t,r=!1){const{props:c,ref:p,patchFlag:l,children:o}=e,a=t?Xs(c||{},t):c;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Wi(a),ref:t&&t.ref?r&&p?Q(p)?p.concat(Vt(t)):[p,Vt(t)]:Vt(t):p,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ee?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yt(e.ssContent),ssFallback:e.ssFallback&&yt(e.ssFallback),el:e.el,anchor:e.anchor}}function Ys(e=" ",t=0){return we(ar,null,e,t)}function Za(e="",t=!1){return t?($i(),Hi(Ae,null,e)):we(Ae,null,e)}function Ne(e){return e==null||typeof e=="boolean"?we(Ae):Q(e)?we(Ee,null,e.slice()):typeof e=="object"?Xe(e):we(ar,null,String(e))}function Xe(e){return e.el===null||e.memo?e:yt(e)}function cr(e,t){let r=0;const{shapeFlag:c}=e;if(t==null)t=null;else if(Q(t))r=16;else if(typeof t=="object")if(c&65){const p=t.default;p&&(p._c&&(p._d=!1),cr(e,p()),p._c&&(p._d=!0));return}else{r=32;const p=t._;!p&&!(hn in t)?t._ctx=ke:p===3&&ke&&(ke.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else q(t)?(t={default:t,_ctx:ke},r=32):(t=String(t),c&64?(r=16,t=[Ys(t)]):r=8);e.children=t,e.shapeFlag|=r}function Xs(...e){const t={};for(let r=0;r<e.length;r++){const c=e[r];for(const p in c)if(p==="class")t.class!==c.class&&(t.class=rn([t.class,c.class]));else if(p==="style")t.style=nn([t.style,c.style]);else if(on(p)){const l=t[p],o=c[p];o&&l!==o&&!(Q(l)&&l.includes(o))&&(t[p]=l?[].concat(l,o):o)}else p!==""&&(t[p]=c[p])}return t}function Fe(e,t,r,c=null){De(e,t,7,[r,c])}function qa(e,t,r,c){let p;const l=r&&r[c];if(Q(e)||fe(e)){p=new Array(e.length);for(let o=0,a=e.length;o<a;o++)p[o]=t(e[o],o,void 0,l&&l[o])}else if(typeof e=="number"){p=new Array(e);for(let o=0;o<e;o++)p[o]=t(o+1,o,void 0,l&&l[o])}else if(de(e))if(e[Symbol.iterator])p=Array.from(e,(o,a)=>t(o,a,void 0,l&&l[a]));else{const o=Object.keys(e);p=new Array(o.length);for(let a=0,d=o.length;a<d;a++){const y=o[a];p[a]=t(e[y],y,a,l&&l[a])}}else p=[];return r&&(r[c]=p),p}function ec(e,t,r={},c,p){if(ke.isCE)return we("slot",t==="default"?null:{name:t},c&&c());let l=e[t];l&&l._c&&(l._d=!1),$i();const o=l&&Vi(l(r)),a=Hi(Ee,{key:r.key||`_${t}`},o||(c?c():[]),o&&e._===1?64:-2);return!p&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),l&&l._c&&(l._d=!0),a}function Vi(e){return e.some(t=>qt(t)?!(t.type===Ae||t.type===Ee&&!Vi(t.children)):!0)?e:null}const Bn=e=>e?Ji(e)?ur(e)||e.proxy:Bn(e.parent):null,en=_e(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Bn(e.parent),$root:e=>Bn(e.root),$emit:e=>e.emit,$options:e=>ji(e),$forceUpdate:e=>()=>bi(e.update),$nextTick:e=>Xo.bind(e.proxy),$watch:e=>fs.bind(e)}),Qs={get({_:e},t){const{ctx:r,setupState:c,data:p,props:l,accessCache:o,type:a,appContext:d}=e;let y;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return c[t];case 2:return p[t];case 4:return r[t];case 3:return l[t]}else{if(c!==se&&te(c,t))return o[t]=1,c[t];if(p!==se&&te(p,t))return o[t]=2,p[t];if((y=e.propsOptions[0])&&te(y,t))return o[t]=3,l[t];if(r!==se&&te(r,t))return o[t]=4,r[t];xn&&(o[t]=0)}}const w=en[t];let S,T;if(w)return t==="$attrs"&&Oe(e,"get",t),w(e);if((S=a.__cssModules)&&(S=S[t]))return S;if(r!==se&&te(r,t))return o[t]=4,r[t];if(T=d.config.globalProperties,te(T,t))return T[t]},set({_:e},t,r){const{data:c,setupState:p,ctx:l}=e;return p!==se&&te(p,t)?(p[t]=r,!0):c!==se&&te(c,t)?(c[t]=r,!0):te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:c,appContext:p,propsOptions:l}},o){let a;return!!r[o]||e!==se&&te(e,o)||t!==se&&te(t,o)||(a=l[0])&&te(a,o)||te(c,o)||te(en,o)||te(p.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?this.set(e,t,r.get(),null):r.value!=null&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},Zs=Ui();let qs=0;function ea(e,t,r){const c=e.type,p=(t?t.appContext:e.appContext)||Zs,l={uid:qs++,vnode:e,type:c,parent:t,appContext:p,root:null,next:null,subTree:null,effect:null,update:null,scope:new mo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(p.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Li(c,p),emitsOptions:Pi(c,p),emit:null,emitted:null,propsDefaults:se,inheritAttrs:c.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=ts.bind(null,l),e.ce&&e.ce(l),l}let he=null;const Ki=()=>he||ke,_t=e=>{he=e,e.scope.on()},ut=()=>{he&&he.scope.off(),he=null};function Ji(e){return e.vnode.shapeFlag&4}let At=!1;function ta(e,t=!1){At=t;const{props:r,children:c}=e.vnode,p=Ji(e);Os(e,r,p,t),xs(e,c);const l=p?na(e,t):void 0;return At=!1,l}function na(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=mi(new Proxy(e.ctx,Qs));const{setup:c}=r;if(c){const p=e.setupContext=c.length>1?ia(e):null;_t(e),Ct();const l=Ze(c,e,0,[e.props,p]);if(Tt(),ut(),qr(l)){if(l.then(ut,ut),t)return l.then(o=>{xr(e,o,t)}).catch(o=>{ln(o,e,0)});e.asyncDep=l}else xr(e,l,t)}else Yi(e,t)}function xr(e,t,r){q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:de(t)&&(e.setupState=yi(t)),Yi(e,r)}let Ir;function Yi(e,t,r){const c=e.type;if(!e.render){if(!t&&Ir&&!c.render){const p=c.template;if(p){const{isCustomElement:l,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:d}=c,y=_e(_e({isCustomElement:l,delimiters:a},o),d);c.render=Ir(p,y)}}e.render=c.render||je}_t(e),Ct(),ws(e),Tt(),ut()}function ra(e){return new Proxy(e.attrs,{get(t,r){return Oe(e,"get","$attrs"),t[r]}})}function ia(e){const t=c=>{e.exposed=c||{}};let r;return{get attrs(){return r||(r=ra(e))},slots:e.slots,emit:e.emit,expose:t}}function ur(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(yi(mi(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in en)return en[r](e)}}))}function oa(e){return q(e)&&e.displayName||e.name}function sa(e){return q(e)&&"__vccOpts"in e}const aa=(e,t)=>Jo(e,t,At);function ca(e,t,r){const c=arguments.length;return c===2?de(t)&&!Q(t)?qt(t)?we(e,null,[t]):we(e,t):we(e,null,t):(c>3?r=Array.prototype.slice.call(arguments,2):c===3&&qt(r)&&(r=[r]),we(e,t,r))}const ua="3.2.31",la="http://www.w3.org/2000/svg",ot=typeof document!="undefined"?document:null,jr=ot&&ot.createElement("template"),fa={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,c)=>{const p=t?ot.createElementNS(la,e):ot.createElement(e,r?{is:r}:void 0);return e==="select"&&c&&c.multiple!=null&&p.setAttribute("multiple",c.multiple),p},createText:e=>ot.createTextNode(e),createComment:e=>ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,c,p,l){const o=r?r.previousSibling:t.lastChild;if(p&&(p===l||p.nextSibling))for(;t.insertBefore(p.cloneNode(!0),r),!(p===l||!(p=p.nextSibling)););else{jr.innerHTML=c?`<svg>${e}</svg>`:e;const a=jr.content;if(c){const d=a.firstChild;for(;d.firstChild;)a.appendChild(d.firstChild);a.removeChild(d)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function da(e,t,r){const c=e._vtc;c&&(t=(t?[t,...c]:[...c]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function pa(e,t,r){const c=e.style,p=fe(r);if(r&&!p){for(const l in r)Fn(c,l,r[l]);if(t&&!fe(t))for(const l in t)r[l]==null&&Fn(c,l,"")}else{const l=c.display;p?t!==r&&(c.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(c.display=l)}}const Ar=/\s*!important$/;function Fn(e,t,r){if(Q(r))r.forEach(c=>Fn(e,t,c));else if(t.startsWith("--"))e.setProperty(t,r);else{const c=ha(e,t);Ar.test(r)?e.setProperty(bt(c),r.replace(Ar,""),"important"):e[c]=r}}const Lr=["Webkit","Moz","ms"],bn={};function ha(e,t){const r=bn[t];if(r)return r;let c=$e(t);if(c!=="filter"&&c in e)return bn[t]=c;c=cn(c);for(let p=0;p<Lr.length;p++){const l=Lr[p]+c;if(l in e)return bn[t]=l}return t}const Br="http://www.w3.org/1999/xlink";function ma(e,t,r,c,p){if(c&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Br,t.slice(6,t.length)):e.setAttributeNS(Br,t,r);else{const l=ro(t);r==null||l&&!Xr(r)?e.removeAttribute(t):e.setAttribute(t,l?"":r)}}function ga(e,t,r,c,p,l,o){if(t==="innerHTML"||t==="textContent"){c&&o(c,p,l),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const a=r==null?"":r;(e.value!==a||e.tagName==="OPTION")&&(e.value=a),r==null&&e.removeAttribute(t);return}if(r===""||r==null){const a=typeof e[t];if(a==="boolean"){e[t]=Xr(r);return}else if(r==null&&a==="string"){e[t]="",e.removeAttribute(t);return}else if(a==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=r}catch{}}let tn=Date.now,Xi=!1;if(typeof window!="undefined"){tn()>document.createEvent("Event").timeStamp&&(tn=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);Xi=!!(e&&Number(e[1])<=53)}let Nn=0;const va=Promise.resolve(),ya=()=>{Nn=0},_a=()=>Nn||(va.then(ya),Nn=tn());function ht(e,t,r,c){e.addEventListener(t,r,c)}function ba(e,t,r,c){e.removeEventListener(t,r,c)}function Ca(e,t,r,c,p=null){const l=e._vei||(e._vei={}),o=l[t];if(c&&o)o.value=c;else{const[a,d]=Ta(t);if(c){const y=l[t]=Sa(c,p);ht(e,a,y,d)}else o&&(ba(e,a,o,d),l[t]=void 0)}}const Fr=/(?:Once|Passive|Capture)$/;function Ta(e){let t;if(Fr.test(e)){t={};let r;for(;r=e.match(Fr);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[bt(e.slice(2)),t]}function Sa(e,t){const r=c=>{const p=c.timeStamp||tn();(Xi||p>=r.attached-1)&&De(wa(c,r.value),t,5,[c])};return r.value=e,r.attached=_a(),r}function wa(e,t){if(Q(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(c=>p=>!p._stopped&&c&&c(p))}else return t}const Nr=/^on[a-z]/,Pa=(e,t,r,c,p=!1,l,o,a,d)=>{t==="class"?da(e,c,p):t==="style"?pa(e,r,c):on(t)?zn(t)||Ca(e,t,r,c,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ea(e,t,c,p))?ga(e,t,c,l,o,a,d):(t==="true-value"?e._trueValue=c:t==="false-value"&&(e._falseValue=c),ma(e,t,c,p))};function Ea(e,t,r,c){return c?!!(t==="innerHTML"||t==="textContent"||t in e&&Nr.test(t)&&q(r)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Nr.test(t)&&fe(r)?!1:t in e}function tc(e){const t=Ki();if(!t)return;const r=()=>Un(t.subTree,e(t.proxy));ls(r),rr(()=>{const c=new MutationObserver(r);c.observe(t.subTree.el.parentNode,{childList:!0}),ir(()=>c.disconnect())})}function Un(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Un(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Ur(e.el,t);else if(e.type===Ee)e.children.forEach(r=>Un(r,t));else if(e.type===Gt){let{el:r,anchor:c}=e;for(;r&&(Ur(r,t),r!==c);)r=r.nextSibling}}function Ur(e,t){if(e.nodeType===1){const r=e.style;for(const c in t)r.setProperty(`--${c}`,t[c])}}const Ke="transition",wt="animation",Qi=(e,{slots:t})=>ca(ki,Ra(e),t);Qi.displayName="Transition";const Zi={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Qi.props=_e({},ki.props,Zi);const nt=(e,t=[])=>{Q(e)?e.forEach(r=>r(...t)):e&&e(...t)},$r=e=>e?Q(e)?e.some(t=>t.length>1):e.length>1:!1;function Ra(e){const t={};for(const D in e)D in Zi||(t[D]=e[D]);if(e.css===!1)return t;const{name:r="v",type:c,duration:p,enterFromClass:l=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:d=l,appearActiveClass:y=o,appearToClass:w=a,leaveFromClass:S=`${r}-leave-from`,leaveActiveClass:T=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=e,m=ka(p),g=m&&m[0],b=m&&m[1],{onBeforeEnter:C,onEnter:h,onEnterCancelled:v,onLeave:i,onLeaveCancelled:s,onBeforeAppear:n=C,onAppear:u=h,onAppearCancelled:_=v}=t,P=(D,M,R)=>{ft(D,M?w:a),ft(D,M?y:o),R&&R()},E=(D,M)=>{ft(D,f),ft(D,T),M&&M()},O=D=>(M,R)=>{const I=D?u:h,A=()=>P(M,D,R);nt(I,[M,A]),zr(()=>{ft(M,D?d:l),Je(M,D?w:a),$r(I)||Hr(M,c,g,A)})};return _e(t,{onBeforeEnter(D){nt(C,[D]),Je(D,l),Je(D,o)},onBeforeAppear(D){nt(n,[D]),Je(D,d),Je(D,y)},onEnter:O(!1),onAppear:O(!0),onLeave(D,M){const R=()=>E(D,M);Je(D,S),Da(),Je(D,T),zr(()=>{ft(D,S),Je(D,f),$r(i)||Hr(D,c,b,R)}),nt(i,[D,R])},onEnterCancelled(D){P(D,!1),nt(v,[D])},onAppearCancelled(D){P(D,!0),nt(_,[D])},onLeaveCancelled(D){E(D),nt(s,[D])}})}function ka(e){if(e==null)return null;if(de(e))return[Cn(e.enter),Cn(e.leave)];{const t=Cn(e);return[t,t]}}function Cn(e){return Jt(e)}function Je(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function ft(e,t){t.split(/\s+/).forEach(c=>c&&e.classList.remove(c));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function zr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Oa=0;function Hr(e,t,r,c){const p=e._endId=++Oa,l=()=>{p===e._endId&&c()};if(r)return setTimeout(l,r);const{type:o,timeout:a,propCount:d}=Ma(e,t);if(!o)return c();const y=o+"end";let w=0;const S=()=>{e.removeEventListener(y,T),l()},T=f=>{f.target===e&&++w>=d&&S()};setTimeout(()=>{w<d&&S()},a+1),e.addEventListener(y,T)}function Ma(e,t){const r=window.getComputedStyle(e),c=m=>(r[m]||"").split(", "),p=c(Ke+"Delay"),l=c(Ke+"Duration"),o=Wr(p,l),a=c(wt+"Delay"),d=c(wt+"Duration"),y=Wr(a,d);let w=null,S=0,T=0;t===Ke?o>0&&(w=Ke,S=o,T=l.length):t===wt?y>0&&(w=wt,S=y,T=d.length):(S=Math.max(o,y),w=S>0?o>y?Ke:wt:null,T=w?w===Ke?l.length:d.length:0);const f=w===Ke&&/\b(transform|all)(,|$)/.test(r[Ke+"Property"]);return{type:w,timeout:S,propCount:T,hasTransform:f}}function Wr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,c)=>Gr(r)+Gr(e[c])))}function Gr(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Da(){return document.body.offsetHeight}const Vr=e=>{const t=e.props["onUpdate:modelValue"];return Q(t)?r=>Wt(t,r):t};function xa(e){e.target.composing=!0}function Kr(e){const t=e.target;t.composing&&(t.composing=!1,Ia(t,"input"))}function Ia(e,t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}const nc={created(e,{modifiers:{lazy:t,trim:r,number:c}},p){e._assign=Vr(p);const l=c||p.props&&p.props.type==="number";ht(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;r?a=a.trim():l&&(a=Jt(a)),e._assign(a)}),r&&ht(e,"change",()=>{e.value=e.value.trim()}),t||(ht(e,"compositionstart",xa),ht(e,"compositionend",Kr),ht(e,"change",Kr))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:c,number:p}},l){if(e._assign=Vr(l),e.composing||document.activeElement===e&&(r||c&&e.value.trim()===t||(p||e.type==="number")&&Jt(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},ja=_e({patchProp:Pa},fa);let Jr;function qi(){return Jr||(Jr=Ls(ja))}const rc=(...e)=>{qi().render(...e)},ic=(...e)=>{const t=qi().createApp(...e),{mount:r}=t;return t.mount=c=>{const p=Aa(c);if(!p)return;const l=t._component;!q(l)&&!l.render&&!l.template&&(l.template=p.innerHTML),p.innerHTML="";const o=r(p,!1,p instanceof SVGElement);return p instanceof Element&&(p.removeAttribute("v-cloak"),p.setAttribute("data-v-app","")),o},t};function Aa(e){return fe(e)?document.querySelector(e):e}var La=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ba(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yr(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var eo={exports:{}};(function(e,t){(function(r,c){e.exports=c()})(La,function(){var r=1e3,c=6e4,p=36e5,l="millisecond",o="second",a="minute",d="hour",y="day",w="week",S="month",T="quarter",f="year",m="date",g="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(M,R,I){var A=String(M);return!A||A.length>=R?M:""+Array(R+1-A.length).join(I)+M},i={s:v,z:function(M){var R=-M.utcOffset(),I=Math.abs(R),A=Math.floor(I/60),j=I%60;return(R<=0?"+":"-")+v(A,2,"0")+":"+v(j,2,"0")},m:function M(R,I){if(R.date()<I.date())return-M(I,R);var A=12*(I.year()-R.year())+(I.month()-R.month()),j=R.clone().add(A,S),N=I-j<0,G=R.clone().add(A+(N?-1:1),S);return+(-(A+(I-j)/(N?j-G:G-j))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:S,y:f,w,d:y,D:m,h:d,m:a,s:o,ms:l,Q:T}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},s="en",n={};n[s]=h;var u=function(M){return M instanceof O},_=function(M,R,I){var A;if(!M)return s;if(typeof M=="string")n[M]&&(A=M),R&&(n[M]=R,A=M);else{var j=M.name;n[j]=M,A=j}return!I&&A&&(s=A),A||!I&&s},P=function(M,R){if(u(M))return M.clone();var I=typeof R=="object"?R:{};return I.date=M,I.args=arguments,new O(I)},E=i;E.l=_,E.i=u,E.w=function(M,R){return P(M,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var O=function(){function M(I){this.$L=_(I.locale,null,!0),this.parse(I)}var R=M.prototype;return R.parse=function(I){this.$d=function(A){var j=A.date,N=A.utc;if(j===null)return new Date(NaN);if(E.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var G=j.match(b);if(G){var X=G[2]-1||0,re=(G[7]||"0").substring(0,3);return N?new Date(Date.UTC(G[1],X,G[3]||1,G[4]||0,G[5]||0,G[6]||0,re)):new Date(G[1],X,G[3]||1,G[4]||0,G[5]||0,G[6]||0,re)}}return new Date(j)}(I),this.$x=I.x||{},this.init()},R.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},R.$utils=function(){return E},R.isValid=function(){return this.$d.toString()!==g},R.isSame=function(I,A){var j=P(I);return this.startOf(A)<=j&&j<=this.endOf(A)},R.isAfter=function(I,A){return P(I)<this.startOf(A)},R.isBefore=function(I,A){return this.endOf(A)<P(I)},R.$g=function(I,A,j){return E.u(I)?this[A]:this.set(j,I)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(I,A){var j=this,N=!!E.u(A)||A,G=E.p(I),X=function(Ce,le){var ae=E.w(j.$u?Date.UTC(j.$y,le,Ce):new Date(j.$y,le,Ce),j);return N?ae:ae.endOf(y)},re=function(Ce,le){return E.w(j.toDate()[Ce].apply(j.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(le)),j)},V=this.$W,ie=this.$M,me=this.$D,be="set"+(this.$u?"UTC":"");switch(G){case f:return N?X(1,0):X(31,11);case S:return N?X(1,ie):X(0,ie+1);case w:var ge=this.$locale().weekStart||0,pe=(V<ge?V+7:V)-ge;return X(N?me-pe:me+(6-pe),ie);case y:case m:return re(be+"Hours",0);case d:return re(be+"Minutes",1);case a:return re(be+"Seconds",2);case o:return re(be+"Milliseconds",3);default:return this.clone()}},R.endOf=function(I){return this.startOf(I,!1)},R.$set=function(I,A){var j,N=E.p(I),G="set"+(this.$u?"UTC":""),X=(j={},j[y]=G+"Date",j[m]=G+"Date",j[S]=G+"Month",j[f]=G+"FullYear",j[d]=G+"Hours",j[a]=G+"Minutes",j[o]=G+"Seconds",j[l]=G+"Milliseconds",j)[N],re=N===y?this.$D+(A-this.$W):A;if(N===S||N===f){var V=this.clone().set(m,1);V.$d[X](re),V.init(),this.$d=V.set(m,Math.min(this.$D,V.daysInMonth())).$d}else X&&this.$d[X](re);return this.init(),this},R.set=function(I,A){return this.clone().$set(I,A)},R.get=function(I){return this[E.p(I)]()},R.add=function(I,A){var j,N=this;I=Number(I);var G=E.p(A),X=function(ie){var me=P(N);return E.w(me.date(me.date()+Math.round(ie*I)),N)};if(G===S)return this.set(S,this.$M+I);if(G===f)return this.set(f,this.$y+I);if(G===y)return X(1);if(G===w)return X(7);var re=(j={},j[a]=c,j[d]=p,j[o]=r,j)[G]||1,V=this.$d.getTime()+I*re;return E.w(V,this)},R.subtract=function(I,A){return this.add(-1*I,A)},R.format=function(I){var A=this,j=this.$locale();if(!this.isValid())return j.invalidDate||g;var N=I||"YYYY-MM-DDTHH:mm:ssZ",G=E.z(this),X=this.$H,re=this.$m,V=this.$M,ie=j.weekdays,me=j.months,be=function(le,ae,Le,xe){return le&&(le[ae]||le(A,N))||Le[ae].substr(0,xe)},ge=function(le){return E.s(X%12||12,le,"0")},pe=j.meridiem||function(le,ae,Le){var xe=le<12?"AM":"PM";return Le?xe.toLowerCase():xe},Ce={YY:String(this.$y).slice(-2),YYYY:this.$y,M:V+1,MM:E.s(V+1,2,"0"),MMM:be(j.monthsShort,V,me,3),MMMM:be(me,V),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:be(j.weekdaysMin,this.$W,ie,2),ddd:be(j.weekdaysShort,this.$W,ie,3),dddd:ie[this.$W],H:String(X),HH:E.s(X,2,"0"),h:ge(1),hh:ge(2),a:pe(X,re,!0),A:pe(X,re,!1),m:String(re),mm:E.s(re,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:G};return N.replace(C,function(le,ae){return ae||Ce[le]||G.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(I,A,j){var N,G=E.p(A),X=P(I),re=(X.utcOffset()-this.utcOffset())*c,V=this-X,ie=E.m(this,X);return ie=(N={},N[f]=ie/12,N[S]=ie,N[T]=ie/3,N[w]=(V-re)/6048e5,N[y]=(V-re)/864e5,N[d]=V/p,N[a]=V/c,N[o]=V/r,N)[G]||V,j?ie:E.a(ie)},R.daysInMonth=function(){return this.endOf(S).$D},R.$locale=function(){return n[this.$L]},R.locale=function(I,A){if(!I)return this.$L;var j=this.clone(),N=_(I,A,!0);return N&&(j.$L=N),j},R.clone=function(){return E.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},M}(),D=O.prototype;return P.prototype=D,[["$ms",l],["$s",o],["$m",a],["$H",d],["$W",y],["$M",S],["$y",f],["$D",m]].forEach(function(M){D[M[1]]=function(R){return this.$g(R,M[0],M[1])}}),P.extend=function(M,R){return M.$i||(M(R,O,P),M.$i=!0),P},P.locale=_,P.isDayjs=u,P.unix=function(M){return P(1e3*M)},P.en=n[s],P.Ls=n,P.p={},P})})(eo);var oc=eo.exports,zt,Fa=new Uint8Array(16);function Na(){if(!zt&&(zt=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!zt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zt(Fa)}var Ua=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $a(e){return typeof e=="string"&&Ua.test(e)}var ve=[];for(var Tn=0;Tn<256;++Tn)ve.push((Tn+256).toString(16).substr(1));function za(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ve[e[t+0]]+ve[e[t+1]]+ve[e[t+2]]+ve[e[t+3]]+"-"+ve[e[t+4]]+ve[e[t+5]]+"-"+ve[e[t+6]]+ve[e[t+7]]+"-"+ve[e[t+8]]+ve[e[t+9]]+"-"+ve[e[t+10]]+ve[e[t+11]]+ve[e[t+12]]+ve[e[t+13]]+ve[e[t+14]]+ve[e[t+15]]).toLowerCase();if(!$a(r))throw TypeError("Stringified UUID is invalid");return r}function sc(e,t,r){e=e||{};var c=e.random||(e.rng||Na)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,t){r=r||0;for(var p=0;p<16;++p)t[r+p]=c[p];return t}return za(c)}var to={exports:{}};(function(e,t){window.global=window;var r;r=function(c,p,l,o){var a,d=typeof r=="function"&&r,y=typeof Yr=="function"&&Yr;function w(f,m){if(!p[f]){if(!c[f]){var g=typeof r=="function"&&r;if(!m&&g)return g(f,!0);if(d)return d(f,!0);if(y&&typeof f=="string")return y(f);var b=new Error("Cannot find module '"+f+"'");throw b.code="MODULE_NOT_FOUND",b}h.resolve=function(v){return c[f][1][v]||v},h.cache={};var C=p[f]=new w.Module(f);c[f][0].call(C.exports,h,C,C.exports,this)}return p[f].exports;function h(v){return w(h.resolve(v))}}w.isParcelRequire=!0,w.Module=function(f){this.id=f,this.bundle=w,this.exports={}},w.modules=c,w.cache=p,w.parent=d,w.register=function(f,m){c[f]=[function(g,b){b.exports=m},{}]};for(var S=0;S<l.length;S++)try{w(l[S])}catch(f){a||(a=f)}if(l.length){var T=w(l[l.length-1]);e.exports=T}if(r=w,a)throw a;return w}({EgBh:[function(c,p,l){var o={};o.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),o.useArrayBufferView=!o.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),p.exports.binaryFeatures=o;var a=p.exports.BlobBuilder;function d(){this._pieces=[],this._parts=[]}typeof window!="undefined"&&(a=p.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),d.prototype.append=function(y){typeof y=="number"?this._pieces.push(y):(this.flush(),this._parts.push(y))},d.prototype.flush=function(){if(this._pieces.length>0){var y=new Uint8Array(this._pieces);o.useArrayBufferView||(y=y.buffer),this._parts.push(y),this._pieces=[]}},d.prototype.getBuffer=function(){if(this.flush(),o.useBlobBuilder){for(var y=new a,w=0,S=this._parts.length;w<S;w++)y.append(this._parts[w]);return y.getBlob()}return new Blob(this._parts)},p.exports.BufferBuilder=d},{}],kdPp:[function(c,p,l){var o=c("./bufferbuilder").BufferBuilder,a=c("./bufferbuilder").binaryFeatures,d={unpack:function(f){return new y(f).unpack()},pack:function(f){var m=new w;return m.pack(f),m.getBuffer()}};function y(f){this.index=0,this.dataBuffer=f,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function w(){this.bufferBuilder=new o}function S(f){var m=f.charCodeAt(0);return m<=2047?"00":m<=65535?"000":m<=2097151?"0000":m<=67108863?"00000":"000000"}function T(f){return f.length>600?new Blob([f]).size:f.replace(/[^\u0000-\u007F]/g,S).length}p.exports=d,y.prototype.unpack=function(){var f,m=this.unpack_uint8();if(m<128)return m;if((224^m)<32)return(224^m)-32;if((f=160^m)<=15)return this.unpack_raw(f);if((f=176^m)<=15)return this.unpack_string(f);if((f=144^m)<=15)return this.unpack_array(f);if((f=128^m)<=15)return this.unpack_map(f);switch(m){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:case 213:case 214:case 215:return;case 216:return f=this.unpack_uint16(),this.unpack_string(f);case 217:return f=this.unpack_uint32(),this.unpack_string(f);case 218:return f=this.unpack_uint16(),this.unpack_raw(f);case 219:return f=this.unpack_uint32(),this.unpack_raw(f);case 220:return f=this.unpack_uint16(),this.unpack_array(f);case 221:return f=this.unpack_uint32(),this.unpack_array(f);case 222:return f=this.unpack_uint16(),this.unpack_map(f);case 223:return f=this.unpack_uint32(),this.unpack_map(f)}},y.prototype.unpack_uint8=function(){var f=255&this.dataView[this.index];return this.index++,f},y.prototype.unpack_uint16=function(){var f=this.read(2),m=256*(255&f[0])+(255&f[1]);return this.index+=2,m},y.prototype.unpack_uint32=function(){var f=this.read(4),m=256*(256*(256*f[0]+f[1])+f[2])+f[3];return this.index+=4,m},y.prototype.unpack_uint64=function(){var f=this.read(8),m=256*(256*(256*(256*(256*(256*(256*f[0]+f[1])+f[2])+f[3])+f[4])+f[5])+f[6])+f[7];return this.index+=8,m},y.prototype.unpack_int8=function(){var f=this.unpack_uint8();return f<128?f:f-256},y.prototype.unpack_int16=function(){var f=this.unpack_uint16();return f<32768?f:f-65536},y.prototype.unpack_int32=function(){var f=this.unpack_uint32();return f<Math.pow(2,31)?f:f-Math.pow(2,32)},y.prototype.unpack_int64=function(){var f=this.unpack_uint64();return f<Math.pow(2,63)?f:f-Math.pow(2,64)},y.prototype.unpack_raw=function(f){if(this.length<this.index+f)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+f+" "+this.length);var m=this.dataBuffer.slice(this.index,this.index+f);return this.index+=f,m},y.prototype.unpack_string=function(f){for(var m,g,b=this.read(f),C=0,h="";C<f;)(m=b[C])<128?(h+=String.fromCharCode(m),C++):(192^m)<32?(g=(192^m)<<6|63&b[C+1],h+=String.fromCharCode(g),C+=2):(g=(15&m)<<12|(63&b[C+1])<<6|63&b[C+2],h+=String.fromCharCode(g),C+=3);return this.index+=f,h},y.prototype.unpack_array=function(f){for(var m=new Array(f),g=0;g<f;g++)m[g]=this.unpack();return m},y.prototype.unpack_map=function(f){for(var m={},g=0;g<f;g++){var b=this.unpack(),C=this.unpack();m[b]=C}return m},y.prototype.unpack_float=function(){var f=this.unpack_uint32(),m=(f>>23&255)-127;return(f>>31===0?1:-1)*(8388607&f|8388608)*Math.pow(2,m-23)},y.prototype.unpack_double=function(){var f=this.unpack_uint32(),m=this.unpack_uint32(),g=(f>>20&2047)-1023;return(f>>31===0?1:-1)*((1048575&f|1048576)*Math.pow(2,g-20)+m*Math.pow(2,g-52))},y.prototype.read=function(f){var m=this.index;if(m+f<=this.length)return this.dataView.subarray(m,m+f);throw new Error("BinaryPackFailure: read index out of range")},w.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},w.prototype.pack=function(f){var m=typeof f;if(m==="string")this.pack_string(f);else if(m==="number")Math.floor(f)===f?this.pack_integer(f):this.pack_double(f);else if(m==="boolean")f===!0?this.bufferBuilder.append(195):f===!1&&this.bufferBuilder.append(194);else if(m==="undefined")this.bufferBuilder.append(192);else{if(m!=="object")throw new Error('Type "'+m+'" not yet supported');if(f===null)this.bufferBuilder.append(192);else{var g=f.constructor;if(g==Array)this.pack_array(f);else if(g==Blob||g==File||f instanceof Blob||f instanceof File)this.pack_bin(f);else if(g==ArrayBuffer)a.useArrayBufferView?this.pack_bin(new Uint8Array(f)):this.pack_bin(f);else if("BYTES_PER_ELEMENT"in f)a.useArrayBufferView?this.pack_bin(new Uint8Array(f.buffer)):this.pack_bin(f.buffer);else if(g==Object||g.toString().startsWith("class"))this.pack_object(f);else if(g==Date)this.pack_string(f.toString());else{if(typeof f.toBinaryPack!="function")throw new Error('Type "'+g.toString()+'" not yet supported');this.bufferBuilder.append(f.toBinaryPack())}}}this.bufferBuilder.flush()},w.prototype.pack_bin=function(f){var m=f.length||f.byteLength||f.size;if(m<=15)this.pack_uint8(160+m);else if(m<=65535)this.bufferBuilder.append(218),this.pack_uint16(m);else{if(!(m<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(m)}this.bufferBuilder.append(f)},w.prototype.pack_string=function(f){var m=T(f);if(m<=15)this.pack_uint8(176+m);else if(m<=65535)this.bufferBuilder.append(216),this.pack_uint16(m);else{if(!(m<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(m)}this.bufferBuilder.append(f)},w.prototype.pack_array=function(f){var m=f.length;if(m<=15)this.pack_uint8(144+m);else if(m<=65535)this.bufferBuilder.append(220),this.pack_uint16(m);else{if(!(m<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(m)}for(var g=0;g<m;g++)this.pack(f[g])},w.prototype.pack_integer=function(f){if(f>=-32&&f<=127)this.bufferBuilder.append(255&f);else if(f>=0&&f<=255)this.bufferBuilder.append(204),this.pack_uint8(f);else if(f>=-128&&f<=127)this.bufferBuilder.append(208),this.pack_int8(f);else if(f>=0&&f<=65535)this.bufferBuilder.append(205),this.pack_uint16(f);else if(f>=-32768&&f<=32767)this.bufferBuilder.append(209),this.pack_int16(f);else if(f>=0&&f<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(f);else if(f>=-2147483648&&f<=2147483647)this.bufferBuilder.append(210),this.pack_int32(f);else if(f>=-9223372036854776e3&&f<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(f);else{if(!(f>=0&&f<=18446744073709552e3))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(f)}},w.prototype.pack_double=function(f){var m=0;f<0&&(m=1,f=-f);var g=Math.floor(Math.log(f)/Math.LN2),b=f/Math.pow(2,g)-1,C=Math.floor(b*Math.pow(2,52)),h=Math.pow(2,32),v=m<<31|g+1023<<20|C/h&1048575,i=C%h;this.bufferBuilder.append(203),this.pack_int32(v),this.pack_int32(i)},w.prototype.pack_object=function(f){var m=Object.keys(f).length;if(m<=15)this.pack_uint8(128+m);else if(m<=65535)this.bufferBuilder.append(222),this.pack_uint16(m);else{if(!(m<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(m)}for(var g in f)f.hasOwnProperty(g)&&(this.pack(g),this.pack(f[g]))},w.prototype.pack_uint8=function(f){this.bufferBuilder.append(f)},w.prototype.pack_uint16=function(f){this.bufferBuilder.append(f>>8),this.bufferBuilder.append(255&f)},w.prototype.pack_uint32=function(f){var m=4294967295&f;this.bufferBuilder.append((4278190080&m)>>>24),this.bufferBuilder.append((16711680&m)>>>16),this.bufferBuilder.append((65280&m)>>>8),this.bufferBuilder.append(255&m)},w.prototype.pack_uint64=function(f){var m=f/Math.pow(2,32),g=f%Math.pow(2,32);this.bufferBuilder.append((4278190080&m)>>>24),this.bufferBuilder.append((16711680&m)>>>16),this.bufferBuilder.append((65280&m)>>>8),this.bufferBuilder.append(255&m),this.bufferBuilder.append((4278190080&g)>>>24),this.bufferBuilder.append((16711680&g)>>>16),this.bufferBuilder.append((65280&g)>>>8),this.bufferBuilder.append(255&g)},w.prototype.pack_int8=function(f){this.bufferBuilder.append(255&f)},w.prototype.pack_int16=function(f){this.bufferBuilder.append((65280&f)>>8),this.bufferBuilder.append(255&f)},w.prototype.pack_int32=function(f){this.bufferBuilder.append(f>>>24&255),this.bufferBuilder.append((16711680&f)>>>16),this.bufferBuilder.append((65280&f)>>>8),this.bufferBuilder.append(255&f)},w.prototype.pack_int64=function(f){var m=Math.floor(f/Math.pow(2,32)),g=f%Math.pow(2,32);this.bufferBuilder.append((4278190080&m)>>>24),this.bufferBuilder.append((16711680&m)>>>16),this.bufferBuilder.append((65280&m)>>>8),this.bufferBuilder.append(255&m),this.bufferBuilder.append((4278190080&g)>>>24),this.bufferBuilder.append((16711680&g)>>>16),this.bufferBuilder.append((65280&g)>>>8),this.bufferBuilder.append(255&g)}},{"./bufferbuilder":"EgBh"}],iSxC:[function(c,p,l){function o(s,n,u){return n in s?Object.defineProperty(s,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[n]=u,s}function a(s){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(s)}Object.defineProperty(l,"__esModule",{value:!0}),l.extractVersion=w,l.wrapPeerConnectionEvent=S,l.disableLog=T,l.disableWarnings=f,l.log=m,l.deprecated=g,l.detectBrowser=b,l.compactObject=h,l.walkStats=v,l.filterStats=i;var d=!0,y=!0;function w(s,n,u){var _=s.match(n);return _&&_.length>=u&&parseInt(_[u],10)}function S(s,n,u){if(s.RTCPeerConnection){var _=s.RTCPeerConnection.prototype,P=_.addEventListener;_.addEventListener=function(O,D){if(O!==n)return P.apply(this,arguments);var M=function(R){var I=u(R);I&&(D.handleEvent?D.handleEvent(I):D(I))};return this._eventMap=this._eventMap||{},this._eventMap[n]||(this._eventMap[n]=new Map),this._eventMap[n].set(D,M),P.apply(this,[O,M])};var E=_.removeEventListener;_.removeEventListener=function(O,D){if(O!==n||!this._eventMap||!this._eventMap[n])return E.apply(this,arguments);if(!this._eventMap[n].has(D))return E.apply(this,arguments);var M=this._eventMap[n].get(D);return this._eventMap[n].delete(D),this._eventMap[n].size===0&&delete this._eventMap[n],Object.keys(this._eventMap).length===0&&delete this._eventMap,E.apply(this,[O,M])},Object.defineProperty(_,"on"+n,{get:function(){return this["_on"+n]},set:function(O){this["_on"+n]&&(this.removeEventListener(n,this["_on"+n]),delete this["_on"+n]),O&&this.addEventListener(n,this["_on"+n]=O)},enumerable:!0,configurable:!0})}}function T(s){return typeof s!="boolean"?new Error("Argument type: "+a(s)+". Please use a boolean."):(d=s,s?"adapter.js logging disabled":"adapter.js logging enabled")}function f(s){return typeof s!="boolean"?new Error("Argument type: "+a(s)+". Please use a boolean."):(y=!s,"adapter.js deprecation warnings "+(s?"disabled":"enabled"))}function m(){if((typeof window=="undefined"?"undefined":a(window))==="object"){if(d)return;typeof console!="undefined"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function g(s,n){y&&console.warn(s+" is deprecated, please use "+n+" instead.")}function b(s){var n={browser:null,version:null};if(s===void 0||!s.navigator)return n.browser="Not a browser.",n;var{navigator:u}=s;if(u.mozGetUserMedia)n.browser="firefox",n.version=w(u.userAgent,/Firefox\/(\d+)\./,1);else if(u.webkitGetUserMedia||s.isSecureContext===!1&&s.webkitRTCPeerConnection&&!s.RTCIceGatherer)n.browser="chrome",n.version=w(u.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(u.mediaDevices&&u.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=w(u.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!s.RTCPeerConnection||!u.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=w(u.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=s.RTCRtpTransceiver&&"currentDirection"in s.RTCRtpTransceiver.prototype}return n}function C(s){return Object.prototype.toString.call(s)==="[object Object]"}function h(s){return C(s)?Object.keys(s).reduce(function(n,u){var _=C(s[u]),P=_?h(s[u]):s[u],E=_&&!Object.keys(P).length;return P===void 0||E?n:Object.assign(n,o({},u,P))},{}):s}function v(s,n,u){n&&!u.has(n.id)&&(u.set(n.id,n),Object.keys(n).forEach(function(_){_.endsWith("Id")?v(s,s.get(n[_]),u):_.endsWith("Ids")&&n[_].forEach(function(P){v(s,s.get(P),u)})}))}function i(s,n,u){var _=u?"outbound-rtp":"inbound-rtp",P=new Map;if(n===null)return P;var E=[];return s.forEach(function(O){O.type==="track"&&O.trackIdentifier===n.id&&E.push(O)}),E.forEach(function(O){s.forEach(function(D){D.type===_&&D.trackId===O.id&&v(s,D,P)})}),P}},{}],s6SN:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.shimGetUserMedia=S;var o=d(c("../utils.js"));function a(){if(typeof WeakMap!="function")return null;var T=new WeakMap;return a=function(){return T},T}function d(T){if(T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var f=a();if(f&&f.has(T))return f.get(T);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in T)if(Object.prototype.hasOwnProperty.call(T,b)){var C=g?Object.getOwnPropertyDescriptor(T,b):null;C&&(C.get||C.set)?Object.defineProperty(m,b,C):m[b]=T[b]}return m.default=T,f&&f.set(T,m),m}function y(T){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(T)}var w=o.log;function S(T,f){var m=T&&T.navigator;if(m.mediaDevices){var g=function(v){if(y(v)!=="object"||v.mandatory||v.optional)return v;var i={};return Object.keys(v).forEach(function(s){if(s!=="require"&&s!=="advanced"&&s!=="mediaSource"){var n=y(v[s])==="object"?v[s]:{ideal:v[s]};n.exact!==void 0&&typeof n.exact=="number"&&(n.min=n.max=n.exact);var u=function(P,E){return P?P+E.charAt(0).toUpperCase()+E.slice(1):E==="deviceId"?"sourceId":E};if(n.ideal!==void 0){i.optional=i.optional||[];var _={};typeof n.ideal=="number"?(_[u("min",s)]=n.ideal,i.optional.push(_),(_={})[u("max",s)]=n.ideal,i.optional.push(_)):(_[u("",s)]=n.ideal,i.optional.push(_))}n.exact!==void 0&&typeof n.exact!="number"?(i.mandatory=i.mandatory||{},i.mandatory[u("",s)]=n.exact):["min","max"].forEach(function(P){n[P]!==void 0&&(i.mandatory=i.mandatory||{},i.mandatory[u(P,s)]=n[P])})}}),v.advanced&&(i.optional=(i.optional||[]).concat(v.advanced)),i},b=function(v,i){if(f.version>=61)return i(v);if((v=JSON.parse(JSON.stringify(v)))&&y(v.audio)==="object"){var s=function(P,E,O){E in P&&!(O in P)&&(P[O]=P[E],delete P[E])};s((v=JSON.parse(JSON.stringify(v))).audio,"autoGainControl","googAutoGainControl"),s(v.audio,"noiseSuppression","googNoiseSuppression"),v.audio=g(v.audio)}if(v&&y(v.video)==="object"){var n=v.video.facingMode;n=n&&(y(n)==="object"?n:{ideal:n});var u,_=f.version<66;if(n&&(n.exact==="user"||n.exact==="environment"||n.ideal==="user"||n.ideal==="environment")&&(!m.mediaDevices.getSupportedConstraints||!m.mediaDevices.getSupportedConstraints().facingMode||_)&&(delete v.video.facingMode,n.exact==="environment"||n.ideal==="environment"?u=["back","rear"]:n.exact!=="user"&&n.ideal!=="user"||(u=["front"]),u))return m.mediaDevices.enumerateDevices().then(function(P){var E=(P=P.filter(function(O){return O.kind==="videoinput"})).find(function(O){return u.some(function(D){return O.label.toLowerCase().includes(D)})});return!E&&P.length&&u.includes("back")&&(E=P[P.length-1]),E&&(v.video.deviceId=n.exact?{exact:E.deviceId}:{ideal:E.deviceId}),v.video=g(v.video),w("chrome: "+JSON.stringify(v)),i(v)});v.video=g(v.video)}return w("chrome: "+JSON.stringify(v)),i(v)},C=function(v){return f.version>=64?v:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[v.name]||v.name,message:v.message,constraint:v.constraint||v.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(m.getUserMedia=function(v,i,s){b(v,function(n){m.webkitGetUserMedia(n,i,function(u){s&&s(C(u))})})}.bind(m),m.mediaDevices.getUserMedia){var h=m.mediaDevices.getUserMedia.bind(m.mediaDevices);m.mediaDevices.getUserMedia=function(v){return b(v,function(i){return h(i).then(function(s){if(i.audio&&!s.getAudioTracks().length||i.video&&!s.getVideoTracks().length)throw s.getTracks().forEach(function(n){n.stop()}),new DOMException("","NotFoundError");return s},function(s){return Promise.reject(C(s))})})}}}}},{"../utils.js":"iSxC"}],VHa8:[function(c,p,l){function o(a,d){a.navigator.mediaDevices&&"getDisplayMedia"in a.navigator.mediaDevices||a.navigator.mediaDevices&&(typeof d=="function"?a.navigator.mediaDevices.getDisplayMedia=function(y){return d(y).then(function(w){var S=y.video&&y.video.width,T=y.video&&y.video.height,f=y.video&&y.video.frameRate;return y.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:w,maxFrameRate:f||3}},S&&(y.video.mandatory.maxWidth=S),T&&(y.video.mandatory.maxHeight=T),a.navigator.mediaDevices.getUserMedia(y)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(l,"__esModule",{value:!0}),l.shimGetDisplayMedia=o},{}],uI5X:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.shimMediaStream=f,l.shimOnTrack=m,l.shimGetSendersWithDtmf=g,l.shimGetStats=b,l.shimSenderReceiverGetStats=C,l.shimAddTrackRemoveTrackWithNative=h,l.shimAddTrackRemoveTrack=v,l.shimPeerConnection=i,l.fixNegotiationNeeded=s,Object.defineProperty(l,"shimGetUserMedia",{enumerable:!0,get:function(){return a.shimGetUserMedia}}),Object.defineProperty(l,"shimGetDisplayMedia",{enumerable:!0,get:function(){return d.shimGetDisplayMedia}});var o=w(c("../utils.js")),a=c("./getusermedia"),d=c("./getdisplaymedia");function y(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return y=function(){return n},n}function w(n){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var u=y();if(u&&u.has(n))return u.get(n);var _={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in n)if(Object.prototype.hasOwnProperty.call(n,E)){var O=P?Object.getOwnPropertyDescriptor(n,E):null;O&&(O.get||O.set)?Object.defineProperty(_,E,O):_[E]=n[E]}return _.default=n,u&&u.set(n,_),_}function S(n,u,_){return u in n?Object.defineProperty(n,u,{value:_,enumerable:!0,configurable:!0,writable:!0}):n[u]=_,n}function T(n){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}function f(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function m(n){if(T(n)!=="object"||!n.RTCPeerConnection||"ontrack"in n.RTCPeerConnection.prototype)o.wrapPeerConnectionEvent(n,"track",function(_){return _.transceiver||Object.defineProperty(_,"transceiver",{value:{receiver:_.receiver}}),_});else{Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(_){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=_)},enumerable:!0,configurable:!0});var u=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){var _=this;return this._ontrackpoly||(this._ontrackpoly=function(P){P.stream.addEventListener("addtrack",function(E){var O;O=n.RTCPeerConnection.prototype.getReceivers?_.getReceivers().find(function(M){return M.track&&M.track.id===E.track.id}):{track:E.track};var D=new Event("track");D.track=E.track,D.receiver=O,D.transceiver={receiver:O},D.streams=[P.stream],_.dispatchEvent(D)}),P.stream.getTracks().forEach(function(E){var O;O=n.RTCPeerConnection.prototype.getReceivers?_.getReceivers().find(function(M){return M.track&&M.track.id===E.id}):{track:E};var D=new Event("track");D.track=E,D.receiver=O,D.transceiver={receiver:O},D.streams=[P.stream],_.dispatchEvent(D)})},this.addEventListener("addstream",this._ontrackpoly)),u.apply(this,arguments)}}}function g(n){if(T(n)==="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){var u=function(M,R){return{track:R,get dtmf(){return this._dtmf===void 0&&(R.kind==="audio"?this._dtmf=M.createDTMFSender(R):this._dtmf=null),this._dtmf},_pc:M}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var _=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(M,R){var I=_.apply(this,arguments);return I||(I=u(this,M),this._senders.push(I)),I};var P=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(M){P.apply(this,arguments);var R=this._senders.indexOf(M);R!==-1&&this._senders.splice(R,1)}}var E=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(M){var R=this;this._senders=this._senders||[],E.apply(this,[M]),M.getTracks().forEach(function(I){R._senders.push(u(R,I))})};var O=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(M){var R=this;this._senders=this._senders||[],O.apply(this,[M]),M.getTracks().forEach(function(I){var A=R._senders.find(function(j){return j.track===I});A&&R._senders.splice(R._senders.indexOf(A),1)})}}else if(T(n)==="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){var D=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){var M=this,R=D.apply(this,[]);return R.forEach(function(I){return I._pc=M}),R},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function b(n){if(n.RTCPeerConnection){var u=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){var _=this,[P,E,O]=arguments;if(arguments.length>0&&typeof P=="function")return u.apply(this,arguments);if(u.length===0&&(arguments.length===0||typeof P!="function"))return u.apply(this,[]);var D=function(R){var I={};return R.result().forEach(function(A){var j={id:A.id,timestamp:A.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[A.type]||A.type};A.names().forEach(function(N){j[N]=A.stat(N)}),I[j.id]=j}),I},M=function(R){return new Map(Object.keys(R).map(function(I){return[I,R[I]]}))};return arguments.length>=2?u.apply(this,[function(R){E(M(D(R)))},P]):new Promise(function(R,I){u.apply(_,[function(A){R(M(D(A)))},I])}).then(E,O)}}}function C(n){if(T(n)==="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver){if(!("getStats"in n.RTCRtpSender.prototype)){var u=n.RTCPeerConnection.prototype.getSenders;u&&(n.RTCPeerConnection.prototype.getSenders=function(){var O=this,D=u.apply(this,[]);return D.forEach(function(M){return M._pc=O}),D});var _=n.RTCPeerConnection.prototype.addTrack;_&&(n.RTCPeerConnection.prototype.addTrack=function(){var O=_.apply(this,arguments);return O._pc=this,O}),n.RTCRtpSender.prototype.getStats=function(){var O=this;return this._pc.getStats().then(function(D){return o.filterStats(D,O.track,!0)})}}if(!("getStats"in n.RTCRtpReceiver.prototype)){var P=n.RTCPeerConnection.prototype.getReceivers;P&&(n.RTCPeerConnection.prototype.getReceivers=function(){var O=this,D=P.apply(this,[]);return D.forEach(function(M){return M._pc=O}),D}),o.wrapPeerConnectionEvent(n,"track",function(O){return O.receiver._pc=O.srcElement,O}),n.RTCRtpReceiver.prototype.getStats=function(){var O=this;return this._pc.getStats().then(function(D){return o.filterStats(D,O.track,!1)})}}if("getStats"in n.RTCRtpSender.prototype&&"getStats"in n.RTCRtpReceiver.prototype){var E=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){var O,D,M,R=arguments[0];return this.getSenders().forEach(function(I){I.track===R&&(O?M=!0:O=I)}),this.getReceivers().forEach(function(I){return I.track===R&&(D?M=!0:D=I),I.track===R}),M||O&&D?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):O?O.getStats():D?D.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return E.apply(this,arguments)}}}}function h(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){var O=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(D){return O._shimmedLocalStreams[D][0]})};var u=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(O,D){if(!D)return u.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var M=u.apply(this,arguments);return this._shimmedLocalStreams[D.id]?this._shimmedLocalStreams[D.id].indexOf(M)===-1&&this._shimmedLocalStreams[D.id].push(M):this._shimmedLocalStreams[D.id]=[D,M],M};var _=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(O){var D=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},O.getTracks().forEach(function(I){if(D.getSenders().find(function(A){return A.track===I}))throw new DOMException("Track already exists.","InvalidAccessError")});var M=this.getSenders();_.apply(this,arguments);var R=this.getSenders().filter(function(I){return M.indexOf(I)===-1});this._shimmedLocalStreams[O.id]=[O].concat(R)};var P=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[O.id],P.apply(this,arguments)};var E=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(O){var D=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},O&&Object.keys(this._shimmedLocalStreams).forEach(function(M){var R=D._shimmedLocalStreams[M].indexOf(O);R!==-1&&D._shimmedLocalStreams[M].splice(R,1),D._shimmedLocalStreams[M].length===1&&delete D._shimmedLocalStreams[M]}),E.apply(this,arguments)}}function v(n,u){if(n.RTCPeerConnection){if(n.RTCPeerConnection.prototype.addTrack&&u.version>=65)return h(n);var _=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){var R=this,I=_.apply(this);return this._reverseStreams=this._reverseStreams||{},I.map(function(A){return R._reverseStreams[A.id]})};var P=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(R){var I=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},R.getTracks().forEach(function(j){if(I.getSenders().find(function(N){return N.track===j}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[R.id]){var A=new n.MediaStream(R.getTracks());this._streams[R.id]=A,this._reverseStreams[A.id]=R,R=A}P.apply(this,[R])};var E=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(R){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},E.apply(this,[this._streams[R.id]||R]),delete this._reverseStreams[this._streams[R.id]?this._streams[R.id].id:R.id],delete this._streams[R.id]},n.RTCPeerConnection.prototype.addTrack=function(R,I){var A=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var j=[].slice.call(arguments,1);if(j.length!==1||!j[0].getTracks().find(function(X){return X===R}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(X){return X.track===R}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var N=this._streams[I.id];if(N)N.addTrack(R),Promise.resolve().then(function(){A.dispatchEvent(new Event("negotiationneeded"))});else{var G=new n.MediaStream([R]);this._streams[I.id]=G,this._reverseStreams[G.id]=I,this.addStream(G)}return this.getSenders().find(function(X){return X.track===R})},["createOffer","createAnswer"].forEach(function(R){var I=n.RTCPeerConnection.prototype[R],A=S({},R,function(){var j=this,N=arguments;return arguments.length&&typeof arguments[0]=="function"?I.apply(this,[function(G){var X=M(j,G);N[0].apply(null,[X])},function(G){N[1]&&N[1].apply(null,G)},arguments[2]]):I.apply(this,arguments).then(function(G){return M(j,G)})});n.RTCPeerConnection.prototype[R]=A[R]});var O=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(n=this,u=arguments[0],_=u.sdp,Object.keys(n._reverseStreams||[]).forEach(function(R){var I=n._reverseStreams[R],A=n._streams[I.id];_=_.replace(new RegExp(I.id,"g"),A.id)}),new RTCSessionDescription({type:u.type,sdp:_})),O.apply(this,arguments)):O.apply(this,arguments)};var D=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get:function(){var R=D.get.apply(this);return R.type===""?R:M(this,R)}}),n.RTCPeerConnection.prototype.removeTrack=function(R){var I,A=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!R._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(R._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(function(j){A._streams[j].getTracks().find(function(N){return R.track===N})&&(I=A._streams[j])}),I&&(I.getTracks().length===1?this.removeStream(this._reverseStreams[I.id]):I.removeTrack(R.track),this.dispatchEvent(new Event("negotiationneeded")))}}function M(R,I){var A=I.sdp;return Object.keys(R._reverseStreams||[]).forEach(function(j){var N=R._reverseStreams[j],G=R._streams[N.id];A=A.replace(new RegExp(G.id,"g"),N.id)}),new RTCSessionDescription({type:I.type,sdp:A})}}function i(n,u){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),n.RTCPeerConnection&&u.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(_){var P=n.RTCPeerConnection.prototype[_],E=S({},_,function(){return arguments[0]=new(_==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),P.apply(this,arguments)});n.RTCPeerConnection.prototype[_]=E[_]})}function s(n,u){o.wrapPeerConnectionEvent(n,"negotiationneeded",function(_){var P=_.target;if(!(u.version<72||P.getConfiguration&&P.getConfiguration().sdpSemantics==="plan-b")||P.signalingState==="stable")return _})}},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],NZ1C:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.filterIceServers=y;var o=d(c("../utils"));function a(){if(typeof WeakMap!="function")return null;var w=new WeakMap;return a=function(){return w},w}function d(w){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var S=a();if(S&&S.has(w))return S.get(w);var T={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in w)if(Object.prototype.hasOwnProperty.call(w,m)){var g=f?Object.getOwnPropertyDescriptor(w,m):null;g&&(g.get||g.set)?Object.defineProperty(T,m,g):T[m]=w[m]}return T.default=w,S&&S.set(w,T),T}function y(w,S){var T=!1;return(w=JSON.parse(JSON.stringify(w))).filter(function(f){if(f&&(f.urls||f.url)){var m=f.urls||f.url;f.url&&!f.urls&&o.deprecated("RTCIceServer.url","RTCIceServer.urls");var g=typeof m=="string";return g&&(m=[m]),m=m.filter(function(b){if(b.indexOf("stun:")===0)return!1;var C=b.startsWith("turn")&&!b.startsWith("turn:[")&&b.includes("transport=udp");return C&&!T?(T=!0,!0):C&&!T}),delete f.url,f.urls=g?m[0]:m,!!m.length}})}},{"../utils":"iSxC"}],YHvh:[function(c,p,l){var o={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};o.localCName=o.generateIdentifier(),o.splitLines=function(a){return a.trim().split(`
`).map(function(d){return d.trim()})},o.splitSections=function(a){return a.split(`
m=`).map(function(d,y){return(y>0?"m="+d:d).trim()+`\r
`})},o.getDescription=function(a){var d=o.splitSections(a);return d&&d[0]},o.getMediaSections=function(a){var d=o.splitSections(a);return d.shift(),d},o.matchPrefix=function(a,d){return o.splitLines(a).filter(function(y){return y.indexOf(d)===0})},o.parseCandidate=function(a){for(var d,y={foundation:(d=a.indexOf("a=candidate:")===0?a.substring(12).split(" "):a.substring(10).split(" "))[0],component:parseInt(d[1],10),protocol:d[2].toLowerCase(),priority:parseInt(d[3],10),ip:d[4],address:d[4],port:parseInt(d[5],10),type:d[7]},w=8;w<d.length;w+=2)switch(d[w]){case"raddr":y.relatedAddress=d[w+1];break;case"rport":y.relatedPort=parseInt(d[w+1],10);break;case"tcptype":y.tcpType=d[w+1];break;case"ufrag":y.ufrag=d[w+1],y.usernameFragment=d[w+1];break;default:y[d[w]]=d[w+1]}return y},o.writeCandidate=function(a){var d=[];d.push(a.foundation),d.push(a.component),d.push(a.protocol.toUpperCase()),d.push(a.priority),d.push(a.address||a.ip),d.push(a.port);var y=a.type;return d.push("typ"),d.push(y),y!=="host"&&a.relatedAddress&&a.relatedPort&&(d.push("raddr"),d.push(a.relatedAddress),d.push("rport"),d.push(a.relatedPort)),a.tcpType&&a.protocol.toLowerCase()==="tcp"&&(d.push("tcptype"),d.push(a.tcpType)),(a.usernameFragment||a.ufrag)&&(d.push("ufrag"),d.push(a.usernameFragment||a.ufrag)),"candidate:"+d.join(" ")},o.parseIceOptions=function(a){return a.substr(14).split(" ")},o.parseRtpMap=function(a){var d=a.substr(9).split(" "),y={payloadType:parseInt(d.shift(),10)};return d=d[0].split("/"),y.name=d[0],y.clockRate=parseInt(d[1],10),y.channels=d.length===3?parseInt(d[2],10):1,y.numChannels=y.channels,y},o.writeRtpMap=function(a){var d=a.payloadType;a.preferredPayloadType!==void 0&&(d=a.preferredPayloadType);var y=a.channels||a.numChannels||1;return"a=rtpmap:"+d+" "+a.name+"/"+a.clockRate+(y!==1?"/"+y:"")+`\r
`},o.parseExtmap=function(a){var d=a.substr(9).split(" ");return{id:parseInt(d[0],10),direction:d[0].indexOf("/")>0?d[0].split("/")[1]:"sendrecv",uri:d[1]}},o.writeExtmap=function(a){return"a=extmap:"+(a.id||a.preferredId)+(a.direction&&a.direction!=="sendrecv"?"/"+a.direction:"")+" "+a.uri+`\r
`},o.parseFmtp=function(a){for(var d,y={},w=a.substr(a.indexOf(" ")+1).split(";"),S=0;S<w.length;S++)y[(d=w[S].trim().split("="))[0].trim()]=d[1];return y},o.writeFmtp=function(a){var d="",y=a.payloadType;if(a.preferredPayloadType!==void 0&&(y=a.preferredPayloadType),a.parameters&&Object.keys(a.parameters).length){var w=[];Object.keys(a.parameters).forEach(function(S){a.parameters[S]?w.push(S+"="+a.parameters[S]):w.push(S)}),d+="a=fmtp:"+y+" "+w.join(";")+`\r
`}return d},o.parseRtcpFb=function(a){var d=a.substr(a.indexOf(" ")+1).split(" ");return{type:d.shift(),parameter:d.join(" ")}},o.writeRtcpFb=function(a){var d="",y=a.payloadType;return a.preferredPayloadType!==void 0&&(y=a.preferredPayloadType),a.rtcpFeedback&&a.rtcpFeedback.length&&a.rtcpFeedback.forEach(function(w){d+="a=rtcp-fb:"+y+" "+w.type+(w.parameter&&w.parameter.length?" "+w.parameter:"")+`\r
`}),d},o.parseSsrcMedia=function(a){var d=a.indexOf(" "),y={ssrc:parseInt(a.substr(7,d-7),10)},w=a.indexOf(":",d);return w>-1?(y.attribute=a.substr(d+1,w-d-1),y.value=a.substr(w+1)):y.attribute=a.substr(d+1),y},o.parseSsrcGroup=function(a){var d=a.substr(13).split(" ");return{semantics:d.shift(),ssrcs:d.map(function(y){return parseInt(y,10)})}},o.getMid=function(a){var d=o.matchPrefix(a,"a=mid:")[0];if(d)return d.substr(6)},o.parseFingerprint=function(a){var d=a.substr(14).split(" ");return{algorithm:d[0].toLowerCase(),value:d[1]}},o.getDtlsParameters=function(a,d){return{role:"auto",fingerprints:o.matchPrefix(a+d,"a=fingerprint:").map(o.parseFingerprint)}},o.writeDtlsParameters=function(a,d){var y="a=setup:"+d+`\r
`;return a.fingerprints.forEach(function(w){y+="a=fingerprint:"+w.algorithm+" "+w.value+`\r
`}),y},o.parseCryptoLine=function(a){var d=a.substr(9).split(" ");return{tag:parseInt(d[0],10),cryptoSuite:d[1],keyParams:d[2],sessionParams:d.slice(3)}},o.writeCryptoLine=function(a){return"a=crypto:"+a.tag+" "+a.cryptoSuite+" "+(typeof a.keyParams=="object"?o.writeCryptoKeyParams(a.keyParams):a.keyParams)+(a.sessionParams?" "+a.sessionParams.join(" "):"")+`\r
`},o.parseCryptoKeyParams=function(a){if(a.indexOf("inline:")!==0)return null;var d=a.substr(7).split("|");return{keyMethod:"inline",keySalt:d[0],lifeTime:d[1],mkiValue:d[2]?d[2].split(":")[0]:void 0,mkiLength:d[2]?d[2].split(":")[1]:void 0}},o.writeCryptoKeyParams=function(a){return a.keyMethod+":"+a.keySalt+(a.lifeTime?"|"+a.lifeTime:"")+(a.mkiValue&&a.mkiLength?"|"+a.mkiValue+":"+a.mkiLength:"")},o.getCryptoParameters=function(a,d){return o.matchPrefix(a+d,"a=crypto:").map(o.parseCryptoLine)},o.getIceParameters=function(a,d){var y=o.matchPrefix(a+d,"a=ice-ufrag:")[0],w=o.matchPrefix(a+d,"a=ice-pwd:")[0];return y&&w?{usernameFragment:y.substr(12),password:w.substr(10)}:null},o.writeIceParameters=function(a){return"a=ice-ufrag:"+a.usernameFragment+`\r
a=ice-pwd:`+a.password+`\r
`},o.parseRtpParameters=function(a){for(var d={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},y=o.splitLines(a)[0].split(" "),w=3;w<y.length;w++){var S=y[w],T=o.matchPrefix(a,"a=rtpmap:"+S+" ")[0];if(T){var f=o.parseRtpMap(T),m=o.matchPrefix(a,"a=fmtp:"+S+" ");switch(f.parameters=m.length?o.parseFmtp(m[0]):{},f.rtcpFeedback=o.matchPrefix(a,"a=rtcp-fb:"+S+" ").map(o.parseRtcpFb),d.codecs.push(f),f.name.toUpperCase()){case"RED":case"ULPFEC":d.fecMechanisms.push(f.name.toUpperCase())}}}return o.matchPrefix(a,"a=extmap:").forEach(function(g){d.headerExtensions.push(o.parseExtmap(g))}),d},o.writeRtpDescription=function(a,d){var y="";y+="m="+a+" ",y+=d.codecs.length>0?"9":"0",y+=" UDP/TLS/RTP/SAVPF ",y+=d.codecs.map(function(S){return S.preferredPayloadType!==void 0?S.preferredPayloadType:S.payloadType}).join(" ")+`\r
`,y+=`c=IN IP4 0.0.0.0\r
`,y+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,d.codecs.forEach(function(S){y+=o.writeRtpMap(S),y+=o.writeFmtp(S),y+=o.writeRtcpFb(S)});var w=0;return d.codecs.forEach(function(S){S.maxptime>w&&(w=S.maxptime)}),w>0&&(y+="a=maxptime:"+w+`\r
`),y+=`a=rtcp-mux\r
`,d.headerExtensions&&d.headerExtensions.forEach(function(S){y+=o.writeExtmap(S)}),y},o.parseRtpEncodingParameters=function(a){var d,y=[],w=o.parseRtpParameters(a),S=w.fecMechanisms.indexOf("RED")!==-1,T=w.fecMechanisms.indexOf("ULPFEC")!==-1,f=o.matchPrefix(a,"a=ssrc:").map(function(C){return o.parseSsrcMedia(C)}).filter(function(C){return C.attribute==="cname"}),m=f.length>0&&f[0].ssrc,g=o.matchPrefix(a,"a=ssrc-group:FID").map(function(C){return C.substr(17).split(" ").map(function(h){return parseInt(h,10)})});g.length>0&&g[0].length>1&&g[0][0]===m&&(d=g[0][1]),w.codecs.forEach(function(C){if(C.name.toUpperCase()==="RTX"&&C.parameters.apt){var h={ssrc:m,codecPayloadType:parseInt(C.parameters.apt,10)};m&&d&&(h.rtx={ssrc:d}),y.push(h),S&&((h=JSON.parse(JSON.stringify(h))).fec={ssrc:m,mechanism:T?"red+ulpfec":"red"},y.push(h))}}),y.length===0&&m&&y.push({ssrc:m});var b=o.matchPrefix(a,"b=");return b.length&&(b=b[0].indexOf("b=TIAS:")===0?parseInt(b[0].substr(7),10):b[0].indexOf("b=AS:")===0?1e3*parseInt(b[0].substr(5),10)*.95-16e3:void 0,y.forEach(function(C){C.maxBitrate=b})),y},o.parseRtcpParameters=function(a){var d={},y=o.matchPrefix(a,"a=ssrc:").map(function(T){return o.parseSsrcMedia(T)}).filter(function(T){return T.attribute==="cname"})[0];y&&(d.cname=y.value,d.ssrc=y.ssrc);var w=o.matchPrefix(a,"a=rtcp-rsize");d.reducedSize=w.length>0,d.compound=w.length===0;var S=o.matchPrefix(a,"a=rtcp-mux");return d.mux=S.length>0,d},o.parseMsid=function(a){var d,y=o.matchPrefix(a,"a=msid:");if(y.length===1)return{stream:(d=y[0].substr(7).split(" "))[0],track:d[1]};var w=o.matchPrefix(a,"a=ssrc:").map(function(S){return o.parseSsrcMedia(S)}).filter(function(S){return S.attribute==="msid"});return w.length>0?{stream:(d=w[0].value.split(" "))[0],track:d[1]}:void 0},o.parseSctpDescription=function(a){var d,y=o.parseMLine(a),w=o.matchPrefix(a,"a=max-message-size:");w.length>0&&(d=parseInt(w[0].substr(19),10)),isNaN(d)&&(d=65536);var S=o.matchPrefix(a,"a=sctp-port:");if(S.length>0)return{port:parseInt(S[0].substr(12),10),protocol:y.fmt,maxMessageSize:d};if(o.matchPrefix(a,"a=sctpmap:").length>0){var T=o.matchPrefix(a,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(T[0],10),protocol:T[1],maxMessageSize:d}}},o.writeSctpDescription=function(a,d){var y=[];return y=a.protocol!=="DTLS/SCTP"?["m="+a.kind+" 9 "+a.protocol+" "+d.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+d.port+`\r
`]:["m="+a.kind+" 9 "+a.protocol+" "+d.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+d.port+" "+d.protocol+` 65535\r
`],d.maxMessageSize!==void 0&&y.push("a=max-message-size:"+d.maxMessageSize+`\r
`),y.join("")},o.generateSessionId=function(){return Math.random().toString().substr(2,21)},o.writeSessionBoilerplate=function(a,d,y){var w=d!==void 0?d:2;return`v=0\r
o=`+(y||"thisisadapterortc")+" "+(a||o.generateSessionId())+" "+w+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},o.writeMediaSection=function(a,d,y,w){var S=o.writeRtpDescription(a.kind,d);if(S+=o.writeIceParameters(a.iceGatherer.getLocalParameters()),S+=o.writeDtlsParameters(a.dtlsTransport.getLocalParameters(),y==="offer"?"actpass":"active"),S+="a=mid:"+a.mid+`\r
`,a.direction?S+="a="+a.direction+`\r
`:a.rtpSender&&a.rtpReceiver?S+=`a=sendrecv\r
`:a.rtpSender?S+=`a=sendonly\r
`:a.rtpReceiver?S+=`a=recvonly\r
`:S+=`a=inactive\r
`,a.rtpSender){var T="msid:"+w.id+" "+a.rtpSender.track.id+`\r
`;S+="a="+T,S+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" "+T,a.sendEncodingParameters[0].rtx&&(S+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" "+T,S+="a=ssrc-group:FID "+a.sendEncodingParameters[0].ssrc+" "+a.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return S+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" cname:"+o.localCName+`\r
`,a.rtpSender&&a.sendEncodingParameters[0].rtx&&(S+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" cname:"+o.localCName+`\r
`),S},o.getDirection=function(a,d){for(var y=o.splitLines(a),w=0;w<y.length;w++)switch(y[w]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return y[w].substr(2)}return d?o.getDirection(d):"sendrecv"},o.getKind=function(a){return o.splitLines(a)[0].split(" ")[0].substr(2)},o.isRejected=function(a){return a.split(" ",2)[1]==="0"},o.parseMLine=function(a){var d=o.splitLines(a)[0].substr(2).split(" ");return{kind:d[0],port:parseInt(d[1],10),protocol:d[2],fmt:d.slice(3).join(" ")}},o.parseOLine=function(a){var d=o.matchPrefix(a,"o=")[0].substr(2).split(" ");return{username:d[0],sessionId:d[1],sessionVersion:parseInt(d[2],10),netType:d[3],addressType:d[4],address:d[5]}},o.isValidSDP=function(a){if(typeof a!="string"||a.length===0)return!1;for(var d=o.splitLines(a),y=0;y<d.length;y++)if(d[y].length<2||d[y].charAt(1)!=="=")return!1;return!0},typeof p=="object"&&(p.exports=o)},{}],NJ2u:[function(c,p,l){var o=c("sdp");function a(m){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[m.type]||m.type}function d(m,g,b,C,h){var v=o.writeRtpDescription(m.kind,g);if(v+=o.writeIceParameters(m.iceGatherer.getLocalParameters()),v+=o.writeDtlsParameters(m.dtlsTransport.getLocalParameters(),b==="offer"?"actpass":h||"active"),v+="a=mid:"+m.mid+`\r
`,m.rtpSender&&m.rtpReceiver?v+=`a=sendrecv\r
`:m.rtpSender?v+=`a=sendonly\r
`:m.rtpReceiver?v+=`a=recvonly\r
`:v+=`a=inactive\r
`,m.rtpSender){var i=m.rtpSender._initialTrackId||m.rtpSender.track.id;m.rtpSender._initialTrackId=i;var s="msid:"+(C?C.id:"-")+" "+i+`\r
`;v+="a="+s,v+="a=ssrc:"+m.sendEncodingParameters[0].ssrc+" "+s,m.sendEncodingParameters[0].rtx&&(v+="a=ssrc:"+m.sendEncodingParameters[0].rtx.ssrc+" "+s,v+="a=ssrc-group:FID "+m.sendEncodingParameters[0].ssrc+" "+m.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return v+="a=ssrc:"+m.sendEncodingParameters[0].ssrc+" cname:"+o.localCName+`\r
`,m.rtpSender&&m.sendEncodingParameters[0].rtx&&(v+="a=ssrc:"+m.sendEncodingParameters[0].rtx.ssrc+" cname:"+o.localCName+`\r
`),v}function y(m,g){var b=!1;return(m=JSON.parse(JSON.stringify(m))).filter(function(C){if(C&&(C.urls||C.url)){var h=C.urls||C.url;C.url&&!C.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var v=typeof h=="string";return v&&(h=[h]),h=h.filter(function(i){return i.indexOf("turn:")===0&&i.indexOf("transport=udp")!==-1&&i.indexOf("turn:[")===-1&&!b?(b=!0,!0):i.indexOf("stun:")===0&&g>=14393&&i.indexOf("?transport=udp")===-1}),delete C.url,C.urls=v?h[0]:h,!!h.length}})}function w(m,g){var b={codecs:[],headerExtensions:[],fecMechanisms:[]},C=function(v,i){v=parseInt(v,10);for(var s=0;s<i.length;s++)if(i[s].payloadType===v||i[s].preferredPayloadType===v)return i[s]},h=function(v,i,s,n){var u=C(v.parameters.apt,s),_=C(i.parameters.apt,n);return u&&_&&u.name.toLowerCase()===_.name.toLowerCase()};return m.codecs.forEach(function(v){for(var i=0;i<g.codecs.length;i++){var s=g.codecs[i];if(v.name.toLowerCase()===s.name.toLowerCase()&&v.clockRate===s.clockRate){if(v.name.toLowerCase()==="rtx"&&v.parameters&&s.parameters.apt&&!h(v,s,m.codecs,g.codecs))continue;(s=JSON.parse(JSON.stringify(s))).numChannels=Math.min(v.numChannels,s.numChannels),b.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter(function(n){for(var u=0;u<v.rtcpFeedback.length;u++)if(v.rtcpFeedback[u].type===n.type&&v.rtcpFeedback[u].parameter===n.parameter)return!0;return!1});break}}}),m.headerExtensions.forEach(function(v){for(var i=0;i<g.headerExtensions.length;i++){var s=g.headerExtensions[i];if(v.uri===s.uri){b.headerExtensions.push(s);break}}}),b}function S(m,g,b){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[g][m].indexOf(b)!==-1}function T(m,g){var b=m.getRemoteCandidates().find(function(C){return g.foundation===C.foundation&&g.ip===C.ip&&g.port===C.port&&g.priority===C.priority&&g.protocol===C.protocol&&g.type===C.type});return b||m.addRemoteCandidate(g),!b}function f(m,g){var b=new Error(g);return b.name=m,b.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[m],b}p.exports=function(m,g){function b(i,s){s.addTrack(i),s.dispatchEvent(new m.MediaStreamTrackEvent("addtrack",{track:i}))}function C(i,s,n,u){var _=new Event("track");_.track=s,_.receiver=n,_.transceiver={receiver:n},_.streams=u,m.setTimeout(function(){i._dispatchEvent("track",_)})}var h=function(i){var s=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(_){s[_]=n[_].bind(n)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",i=JSON.parse(JSON.stringify(i||{})),this.usingBundle=i.bundlePolicy==="max-bundle",i.rtcpMuxPolicy==="negotiate")throw f("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(i.rtcpMuxPolicy||(i.rtcpMuxPolicy="require"),i.iceTransportPolicy){case"all":case"relay":break;default:i.iceTransportPolicy="all"}switch(i.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:i.bundlePolicy="balanced"}if(i.iceServers=y(i.iceServers||[],g),this._iceGatherers=[],i.iceCandidatePoolSize)for(var u=i.iceCandidatePoolSize;u>0;u--)this._iceGatherers.push(new m.RTCIceGatherer({iceServers:i.iceServers,gatherPolicy:i.iceTransportPolicy}));else i.iceCandidatePoolSize=0;this._config=i,this.transceivers=[],this._sdpSessionId=o.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(h.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(h.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),h.prototype.onicecandidate=null,h.prototype.onaddstream=null,h.prototype.ontrack=null,h.prototype.onremovestream=null,h.prototype.onsignalingstatechange=null,h.prototype.oniceconnectionstatechange=null,h.prototype.onconnectionstatechange=null,h.prototype.onicegatheringstatechange=null,h.prototype.onnegotiationneeded=null,h.prototype.ondatachannel=null,h.prototype._dispatchEvent=function(i,s){this._isClosed||(this.dispatchEvent(s),typeof this["on"+i]=="function"&&this["on"+i](s))},h.prototype._emitGatheringStateChange=function(){var i=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",i)},h.prototype.getConfiguration=function(){return this._config},h.prototype.getLocalStreams=function(){return this.localStreams},h.prototype.getRemoteStreams=function(){return this.remoteStreams},h.prototype._createTransceiver=function(i,s){var n=this.transceivers.length>0,u={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:i,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)u.iceTransport=this.transceivers[0].iceTransport,u.dtlsTransport=this.transceivers[0].dtlsTransport;else{var _=this._createIceAndDtlsTransports();u.iceTransport=_.iceTransport,u.dtlsTransport=_.dtlsTransport}return s||this.transceivers.push(u),u},h.prototype.addTrack=function(i,s){if(this._isClosed)throw f("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find(function(_){return _.track===i}))throw f("InvalidAccessError","Track already exists.");for(var u=0;u<this.transceivers.length;u++)this.transceivers[u].track||this.transceivers[u].kind!==i.kind||(n=this.transceivers[u]);return n||(n=this._createTransceiver(i.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(s)===-1&&this.localStreams.push(s),n.track=i,n.stream=s,n.rtpSender=new m.RTCRtpSender(i,n.dtlsTransport),n.rtpSender},h.prototype.addStream=function(i){var s=this;if(g>=15025)i.getTracks().forEach(function(u){s.addTrack(u,i)});else{var n=i.clone();i.getTracks().forEach(function(u,_){var P=n.getTracks()[_];u.addEventListener("enabled",function(E){P.enabled=E.enabled})}),n.getTracks().forEach(function(u){s.addTrack(u,n)})}},h.prototype.removeTrack=function(i){if(this._isClosed)throw f("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(i instanceof m.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var s=this.transceivers.find(function(u){return u.rtpSender===i});if(!s)throw f("InvalidAccessError","Sender was not created by this connection.");var n=s.stream;s.rtpSender.stop(),s.rtpSender=null,s.track=null,s.stream=null,this.transceivers.map(function(u){return u.stream}).indexOf(n)===-1&&this.localStreams.indexOf(n)>-1&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},h.prototype.removeStream=function(i){var s=this;i.getTracks().forEach(function(n){var u=s.getSenders().find(function(_){return _.track===n});u&&s.removeTrack(u)})},h.prototype.getSenders=function(){return this.transceivers.filter(function(i){return!!i.rtpSender}).map(function(i){return i.rtpSender})},h.prototype.getReceivers=function(){return this.transceivers.filter(function(i){return!!i.rtpReceiver}).map(function(i){return i.rtpReceiver})},h.prototype._createIceGatherer=function(i,s){var n=this;if(s&&i>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var u=new m.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(u,"state",{value:"new",writable:!0}),this.transceivers[i].bufferedCandidateEvents=[],this.transceivers[i].bufferCandidates=function(_){var P=!_.candidate||Object.keys(_.candidate).length===0;u.state=P?"completed":"gathering",n.transceivers[i].bufferedCandidateEvents!==null&&n.transceivers[i].bufferedCandidateEvents.push(_)},u.addEventListener("localcandidate",this.transceivers[i].bufferCandidates),u},h.prototype._gather=function(i,s){var n=this,u=this.transceivers[s].iceGatherer;if(!u.onlocalcandidate){var _=this.transceivers[s].bufferedCandidateEvents;this.transceivers[s].bufferedCandidateEvents=null,u.removeEventListener("localcandidate",this.transceivers[s].bufferCandidates),u.onlocalcandidate=function(P){if(!(n.usingBundle&&s>0)){var E=new Event("icecandidate");E.candidate={sdpMid:i,sdpMLineIndex:s};var O=P.candidate,D=!O||Object.keys(O).length===0;if(D)u.state!=="new"&&u.state!=="gathering"||(u.state="completed");else{u.state==="new"&&(u.state="gathering"),O.component=1,O.ufrag=u.getLocalParameters().usernameFragment;var M=o.writeCandidate(O);E.candidate=Object.assign(E.candidate,o.parseCandidate(M)),E.candidate.candidate=M,E.candidate.toJSON=function(){return{candidate:E.candidate.candidate,sdpMid:E.candidate.sdpMid,sdpMLineIndex:E.candidate.sdpMLineIndex,usernameFragment:E.candidate.usernameFragment}}}var R=o.getMediaSections(n._localDescription.sdp);R[E.candidate.sdpMLineIndex]+=D?`a=end-of-candidates\r
`:"a="+E.candidate.candidate+`\r
`,n._localDescription.sdp=o.getDescription(n._localDescription.sdp)+R.join("");var I=n.transceivers.every(function(A){return A.iceGatherer&&A.iceGatherer.state==="completed"});n.iceGatheringState!=="gathering"&&(n.iceGatheringState="gathering",n._emitGatheringStateChange()),D||n._dispatchEvent("icecandidate",E),I&&(n._dispatchEvent("icecandidate",new Event("icecandidate")),n.iceGatheringState="complete",n._emitGatheringStateChange())}},m.setTimeout(function(){_.forEach(function(P){u.onlocalcandidate(P)})},0)}},h.prototype._createIceAndDtlsTransports=function(){var i=this,s=new m.RTCIceTransport(null);s.onicestatechange=function(){i._updateIceConnectionState(),i._updateConnectionState()};var n=new m.RTCDtlsTransport(s);return n.ondtlsstatechange=function(){i._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),i._updateConnectionState()},{iceTransport:s,dtlsTransport:n}},h.prototype._disposeIceAndDtlsTransports=function(i){var s=this.transceivers[i].iceGatherer;s&&(delete s.onlocalcandidate,delete this.transceivers[i].iceGatherer);var n=this.transceivers[i].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[i].iceTransport);var u=this.transceivers[i].dtlsTransport;u&&(delete u.ondtlsstatechange,delete u.onerror,delete this.transceivers[i].dtlsTransport)},h.prototype._transceive=function(i,s,n){var u=w(i.localCapabilities,i.remoteCapabilities);s&&i.rtpSender&&(u.encodings=i.sendEncodingParameters,u.rtcp={cname:o.localCName,compound:i.rtcpParameters.compound},i.recvEncodingParameters.length&&(u.rtcp.ssrc=i.recvEncodingParameters[0].ssrc),i.rtpSender.send(u)),n&&i.rtpReceiver&&u.codecs.length>0&&(i.kind==="video"&&i.recvEncodingParameters&&g<15019&&i.recvEncodingParameters.forEach(function(_){delete _.rtx}),i.recvEncodingParameters.length?u.encodings=i.recvEncodingParameters:u.encodings=[{}],u.rtcp={compound:i.rtcpParameters.compound},i.rtcpParameters.cname&&(u.rtcp.cname=i.rtcpParameters.cname),i.sendEncodingParameters.length&&(u.rtcp.ssrc=i.sendEncodingParameters[0].ssrc),i.rtpReceiver.receive(u))},h.prototype.setLocalDescription=function(i){var s,n,u=this;if(["offer","answer"].indexOf(i.type)===-1)return Promise.reject(f("TypeError",'Unsupported type "'+i.type+'"'));if(!S("setLocalDescription",i.type,u.signalingState)||u._isClosed)return Promise.reject(f("InvalidStateError","Can not set local "+i.type+" in state "+u.signalingState));if(i.type==="offer")s=o.splitSections(i.sdp),n=s.shift(),s.forEach(function(P,E){var O=o.parseRtpParameters(P);u.transceivers[E].localCapabilities=O}),u.transceivers.forEach(function(P,E){u._gather(P.mid,E)});else if(i.type==="answer"){s=o.splitSections(u._remoteDescription.sdp),n=s.shift();var _=o.matchPrefix(n,"a=ice-lite").length>0;s.forEach(function(P,E){var O=u.transceivers[E],D=O.iceGatherer,M=O.iceTransport,R=O.dtlsTransport,I=O.localCapabilities,A=O.remoteCapabilities;if(!(o.isRejected(P)&&o.matchPrefix(P,"a=bundle-only").length===0)&&!O.rejected){var j=o.getIceParameters(P,n),N=o.getDtlsParameters(P,n);_&&(N.role="server"),u.usingBundle&&E!==0||(u._gather(O.mid,E),M.state==="new"&&M.start(D,j,_?"controlling":"controlled"),R.state==="new"&&R.start(N));var G=w(I,A);u._transceive(O,G.codecs.length>0,!1)}})}return u._localDescription={type:i.type,sdp:i.sdp},i.type==="offer"?u._updateSignalingState("have-local-offer"):u._updateSignalingState("stable"),Promise.resolve()},h.prototype.setRemoteDescription=function(i){var s=this;if(["offer","answer"].indexOf(i.type)===-1)return Promise.reject(f("TypeError",'Unsupported type "'+i.type+'"'));if(!S("setRemoteDescription",i.type,s.signalingState)||s._isClosed)return Promise.reject(f("InvalidStateError","Can not set remote "+i.type+" in state "+s.signalingState));var n={};s.remoteStreams.forEach(function(M){n[M.id]=M});var u=[],_=o.splitSections(i.sdp),P=_.shift(),E=o.matchPrefix(P,"a=ice-lite").length>0,O=o.matchPrefix(P,"a=group:BUNDLE ").length>0;s.usingBundle=O;var D=o.matchPrefix(P,"a=ice-options:")[0];return s.canTrickleIceCandidates=!!D&&D.substr(14).split(" ").indexOf("trickle")>=0,_.forEach(function(M,R){var I=o.splitLines(M),A=o.getKind(M),j=o.isRejected(M)&&o.matchPrefix(M,"a=bundle-only").length===0,N=I[0].substr(2).split(" ")[2],G=o.getDirection(M,P),X=o.parseMsid(M),re=o.getMid(M)||o.generateIdentifier();if(j||A==="application"&&(N==="DTLS/SCTP"||N==="UDP/DTLS/SCTP"))s.transceivers[R]={mid:re,kind:A,protocol:N,rejected:!0};else{var V,ie,me,be,ge,pe,Ce,le,ae;!j&&s.transceivers[R]&&s.transceivers[R].rejected&&(s.transceivers[R]=s._createTransceiver(A,!0));var Le,xe,k=o.parseRtpParameters(M);j||(Le=o.getIceParameters(M,P),(xe=o.getDtlsParameters(M,P)).role="client"),Ce=o.parseRtpEncodingParameters(M);var x=o.parseRtcpParameters(M),L=o.matchPrefix(M,"a=end-of-candidates",P).length>0,F=o.matchPrefix(M,"a=candidate:").map(function(H){return o.parseCandidate(H)}).filter(function(H){return H.component===1});if((i.type==="offer"||i.type==="answer")&&!j&&O&&R>0&&s.transceivers[R]&&(s._disposeIceAndDtlsTransports(R),s.transceivers[R].iceGatherer=s.transceivers[0].iceGatherer,s.transceivers[R].iceTransport=s.transceivers[0].iceTransport,s.transceivers[R].dtlsTransport=s.transceivers[0].dtlsTransport,s.transceivers[R].rtpSender&&s.transceivers[R].rtpSender.setTransport(s.transceivers[0].dtlsTransport),s.transceivers[R].rtpReceiver&&s.transceivers[R].rtpReceiver.setTransport(s.transceivers[0].dtlsTransport)),i.type!=="offer"||j)i.type==="answer"&&!j&&(ie=(V=s.transceivers[R]).iceGatherer,me=V.iceTransport,be=V.dtlsTransport,ge=V.rtpReceiver,pe=V.sendEncodingParameters,le=V.localCapabilities,s.transceivers[R].recvEncodingParameters=Ce,s.transceivers[R].remoteCapabilities=k,s.transceivers[R].rtcpParameters=x,F.length&&me.state==="new"&&(!E&&!L||O&&R!==0?F.forEach(function(H){T(V.iceTransport,H)}):me.setRemoteCandidates(F)),O&&R!==0||(me.state==="new"&&me.start(ie,Le,"controlling"),be.state==="new"&&be.start(xe)),!w(V.localCapabilities,V.remoteCapabilities).codecs.filter(function(H){return H.name.toLowerCase()==="rtx"}).length&&V.sendEncodingParameters[0].rtx&&delete V.sendEncodingParameters[0].rtx,s._transceive(V,G==="sendrecv"||G==="recvonly",G==="sendrecv"||G==="sendonly"),!ge||G!=="sendrecv"&&G!=="sendonly"?delete V.rtpReceiver:(ae=ge.track,X?(n[X.stream]||(n[X.stream]=new m.MediaStream),b(ae,n[X.stream]),u.push([ae,ge,n[X.stream]])):(n.default||(n.default=new m.MediaStream),b(ae,n.default),u.push([ae,ge,n.default]))));else{(V=s.transceivers[R]||s._createTransceiver(A)).mid=re,V.iceGatherer||(V.iceGatherer=s._createIceGatherer(R,O)),F.length&&V.iceTransport.state==="new"&&(!L||O&&R!==0?F.forEach(function(H){T(V.iceTransport,H)}):V.iceTransport.setRemoteCandidates(F)),le=m.RTCRtpReceiver.getCapabilities(A),g<15019&&(le.codecs=le.codecs.filter(function(H){return H.name!=="rtx"})),pe=V.sendEncodingParameters||[{ssrc:1001*(2*R+2)}];var B,z=!1;G==="sendrecv"||G==="sendonly"?(z=!V.rtpReceiver,ge=V.rtpReceiver||new m.RTCRtpReceiver(V.dtlsTransport,A),z&&(ae=ge.track,X&&X.stream==="-"||(X?(n[X.stream]||(n[X.stream]=new m.MediaStream,Object.defineProperty(n[X.stream],"id",{get:function(){return X.stream}})),Object.defineProperty(ae,"id",{get:function(){return X.track}}),B=n[X.stream]):(n.default||(n.default=new m.MediaStream),B=n.default)),B&&(b(ae,B),V.associatedRemoteMediaStreams.push(B)),u.push([ae,ge,B]))):V.rtpReceiver&&V.rtpReceiver.track&&(V.associatedRemoteMediaStreams.forEach(function(H){var $,W,U=H.getTracks().find(function(J){return J.id===V.rtpReceiver.track.id});U&&($=U,(W=H).removeTrack($),W.dispatchEvent(new m.MediaStreamTrackEvent("removetrack",{track:$})))}),V.associatedRemoteMediaStreams=[]),V.localCapabilities=le,V.remoteCapabilities=k,V.rtpReceiver=ge,V.rtcpParameters=x,V.sendEncodingParameters=pe,V.recvEncodingParameters=Ce,s._transceive(s.transceivers[R],!1,z)}}}),s._dtlsRole===void 0&&(s._dtlsRole=i.type==="offer"?"active":"passive"),s._remoteDescription={type:i.type,sdp:i.sdp},i.type==="offer"?s._updateSignalingState("have-remote-offer"):s._updateSignalingState("stable"),Object.keys(n).forEach(function(M){var R=n[M];if(R.getTracks().length){if(s.remoteStreams.indexOf(R)===-1){s.remoteStreams.push(R);var I=new Event("addstream");I.stream=R,m.setTimeout(function(){s._dispatchEvent("addstream",I)})}u.forEach(function(A){var j=A[0],N=A[1];R.id===A[2].id&&C(s,j,N,[R])})}}),u.forEach(function(M){M[2]||C(s,M[0],M[1],[])}),m.setTimeout(function(){s&&s.transceivers&&s.transceivers.forEach(function(M){M.iceTransport&&M.iceTransport.state==="new"&&M.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),M.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},h.prototype.close=function(){this.transceivers.forEach(function(i){i.iceTransport&&i.iceTransport.stop(),i.dtlsTransport&&i.dtlsTransport.stop(),i.rtpSender&&i.rtpSender.stop(),i.rtpReceiver&&i.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},h.prototype._updateSignalingState=function(i){this.signalingState=i;var s=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",s)},h.prototype._maybeFireNegotiationNeeded=function(){var i=this;this.signalingState==="stable"&&this.needNegotiation!==!0&&(this.needNegotiation=!0,m.setTimeout(function(){if(i.needNegotiation){i.needNegotiation=!1;var s=new Event("negotiationneeded");i._dispatchEvent("negotiationneeded",s)}},0))},h.prototype._updateIceConnectionState=function(){var i,s={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(u){u.iceTransport&&!u.rejected&&s[u.iceTransport.state]++}),i="new",s.failed>0?i="failed":s.checking>0?i="checking":s.disconnected>0?i="disconnected":s.new>0?i="new":s.connected>0?i="connected":s.completed>0&&(i="completed"),i!==this.iceConnectionState){this.iceConnectionState=i;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},h.prototype._updateConnectionState=function(){var i,s={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(u){u.iceTransport&&u.dtlsTransport&&!u.rejected&&(s[u.iceTransport.state]++,s[u.dtlsTransport.state]++)}),s.connected+=s.completed,i="new",s.failed>0?i="failed":s.connecting>0?i="connecting":s.disconnected>0?i="disconnected":s.new>0?i="new":s.connected>0&&(i="connected"),i!==this.connectionState){this.connectionState=i;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},h.prototype.createOffer=function(){var i=this;if(i._isClosed)return Promise.reject(f("InvalidStateError","Can not call createOffer after close"));var s=i.transceivers.filter(function(E){return E.kind==="audio"}).length,n=i.transceivers.filter(function(E){return E.kind==="video"}).length,u=arguments[0];if(u){if(u.mandatory||u.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");u.offerToReceiveAudio!==void 0&&(s=u.offerToReceiveAudio===!0?1:u.offerToReceiveAudio===!1?0:u.offerToReceiveAudio),u.offerToReceiveVideo!==void 0&&(n=u.offerToReceiveVideo===!0?1:u.offerToReceiveVideo===!1?0:u.offerToReceiveVideo)}for(i.transceivers.forEach(function(E){E.kind==="audio"?--s<0&&(E.wantReceive=!1):E.kind==="video"&&--n<0&&(E.wantReceive=!1)});s>0||n>0;)s>0&&(i._createTransceiver("audio"),s--),n>0&&(i._createTransceiver("video"),n--);var _=o.writeSessionBoilerplate(i._sdpSessionId,i._sdpSessionVersion++);i.transceivers.forEach(function(E,O){var D=E.track,M=E.kind,R=E.mid||o.generateIdentifier();E.mid=R,E.iceGatherer||(E.iceGatherer=i._createIceGatherer(O,i.usingBundle));var I=m.RTCRtpSender.getCapabilities(M);g<15019&&(I.codecs=I.codecs.filter(function(j){return j.name!=="rtx"})),I.codecs.forEach(function(j){j.name==="H264"&&j.parameters["level-asymmetry-allowed"]===void 0&&(j.parameters["level-asymmetry-allowed"]="1"),E.remoteCapabilities&&E.remoteCapabilities.codecs&&E.remoteCapabilities.codecs.forEach(function(N){j.name.toLowerCase()===N.name.toLowerCase()&&j.clockRate===N.clockRate&&(j.preferredPayloadType=N.payloadType)})}),I.headerExtensions.forEach(function(j){(E.remoteCapabilities&&E.remoteCapabilities.headerExtensions||[]).forEach(function(N){j.uri===N.uri&&(j.id=N.id)})});var A=E.sendEncodingParameters||[{ssrc:1001*(2*O+1)}];D&&g>=15019&&M==="video"&&!A[0].rtx&&(A[0].rtx={ssrc:A[0].ssrc+1}),E.wantReceive&&(E.rtpReceiver=new m.RTCRtpReceiver(E.dtlsTransport,M)),E.localCapabilities=I,E.sendEncodingParameters=A}),i._config.bundlePolicy!=="max-compat"&&(_+="a=group:BUNDLE "+i.transceivers.map(function(E){return E.mid}).join(" ")+`\r
`),_+=`a=ice-options:trickle\r
`,i.transceivers.forEach(function(E,O){_+=d(E,E.localCapabilities,"offer",E.stream,i._dtlsRole),_+=`a=rtcp-rsize\r
`,!E.iceGatherer||i.iceGatheringState==="new"||O!==0&&i.usingBundle||(E.iceGatherer.getLocalCandidates().forEach(function(D){D.component=1,_+="a="+o.writeCandidate(D)+`\r
`}),E.iceGatherer.state==="completed"&&(_+=`a=end-of-candidates\r
`))});var P=new m.RTCSessionDescription({type:"offer",sdp:_});return Promise.resolve(P)},h.prototype.createAnswer=function(){var i=this;if(i._isClosed)return Promise.reject(f("InvalidStateError","Can not call createAnswer after close"));if(i.signalingState!=="have-remote-offer"&&i.signalingState!=="have-local-pranswer")return Promise.reject(f("InvalidStateError","Can not call createAnswer in signalingState "+i.signalingState));var s=o.writeSessionBoilerplate(i._sdpSessionId,i._sdpSessionVersion++);i.usingBundle&&(s+="a=group:BUNDLE "+i.transceivers.map(function(_){return _.mid}).join(" ")+`\r
`),s+=`a=ice-options:trickle\r
`;var n=o.getMediaSections(i._remoteDescription.sdp).length;i.transceivers.forEach(function(_,P){if(!(P+1>n)){if(_.rejected)return _.kind==="application"?_.protocol==="DTLS/SCTP"?s+=`m=application 0 DTLS/SCTP 5000\r
`:s+="m=application 0 "+_.protocol+` webrtc-datachannel\r
`:_.kind==="audio"?s+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:_.kind==="video"&&(s+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),void(s+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+_.mid+`\r
`);var E;_.stream&&(_.kind==="audio"?E=_.stream.getAudioTracks()[0]:_.kind==="video"&&(E=_.stream.getVideoTracks()[0]),E&&g>=15019&&_.kind==="video"&&!_.sendEncodingParameters[0].rtx&&(_.sendEncodingParameters[0].rtx={ssrc:_.sendEncodingParameters[0].ssrc+1}));var O=w(_.localCapabilities,_.remoteCapabilities);!O.codecs.filter(function(D){return D.name.toLowerCase()==="rtx"}).length&&_.sendEncodingParameters[0].rtx&&delete _.sendEncodingParameters[0].rtx,s+=d(_,O,"answer",_.stream,i._dtlsRole),_.rtcpParameters&&_.rtcpParameters.reducedSize&&(s+=`a=rtcp-rsize\r
`)}});var u=new m.RTCSessionDescription({type:"answer",sdp:s});return Promise.resolve(u)},h.prototype.addIceCandidate=function(i){var s,n=this;return i&&i.sdpMLineIndex===void 0&&!i.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(u,_){if(!n._remoteDescription)return _(f("InvalidStateError","Can not add ICE candidate without a remote description"));if(i&&i.candidate!==""){var P=i.sdpMLineIndex;if(i.sdpMid){for(var E=0;E<n.transceivers.length;E++)if(n.transceivers[E].mid===i.sdpMid){P=E;break}}var O=n.transceivers[P];if(!O)return _(f("OperationError","Can not add ICE candidate"));if(O.rejected)return u();var D=Object.keys(i.candidate).length>0?o.parseCandidate(i.candidate):{};if(D.protocol==="tcp"&&(D.port===0||D.port===9)||D.component&&D.component!==1)return u();if((P===0||P>0&&O.iceTransport!==n.transceivers[0].iceTransport)&&!T(O.iceTransport,D))return _(f("OperationError","Can not add ICE candidate"));var M=i.candidate.trim();M.indexOf("a=")===0&&(M=M.substr(2)),(s=o.getMediaSections(n._remoteDescription.sdp))[P]+="a="+(D.type?M:"end-of-candidates")+`\r
`,n._remoteDescription.sdp=o.getDescription(n._remoteDescription.sdp)+s.join("")}else for(var R=0;R<n.transceivers.length&&(n.transceivers[R].rejected||(n.transceivers[R].iceTransport.addRemoteCandidate({}),(s=o.getMediaSections(n._remoteDescription.sdp))[R]+=`a=end-of-candidates\r
`,n._remoteDescription.sdp=o.getDescription(n._remoteDescription.sdp)+s.join(""),!n.usingBundle));R++);u()})},h.prototype.getStats=function(i){if(i&&i instanceof m.MediaStreamTrack){var s=null;if(this.transceivers.forEach(function(u){u.rtpSender&&u.rtpSender.track===i?s=u.rtpSender:u.rtpReceiver&&u.rtpReceiver.track===i&&(s=u.rtpReceiver)}),!s)throw f("InvalidAccessError","Invalid selector.");return s.getStats()}var n=[];return this.transceivers.forEach(function(u){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(_){u[_]&&n.push(u[_].getStats())})}),Promise.all(n).then(function(u){var _=new Map;return u.forEach(function(P){P.forEach(function(E){_.set(E.id,E)})}),_})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(i){var s=m[i];if(s&&s.prototype&&s.prototype.getStats){var n=s.prototype.getStats;s.prototype.getStats=function(){return n.apply(this).then(function(u){var _=new Map;return Object.keys(u).forEach(function(P){u[P].type=a(u[P]),_.set(P,u[P])}),_})}}});var v=["createOffer","createAnswer"];return v.forEach(function(i){var s=h.prototype[i];h.prototype[i]=function(){var n=arguments;return typeof n[0]=="function"||typeof n[1]=="function"?s.apply(this,[arguments[2]]).then(function(u){typeof n[0]=="function"&&n[0].apply(null,[u])},function(u){typeof n[1]=="function"&&n[1].apply(null,[u])}):s.apply(this,arguments)}}),(v=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(i){var s=h.prototype[i];h.prototype[i]=function(){var n=arguments;return typeof n[1]=="function"||typeof n[2]=="function"?s.apply(this,arguments).then(function(){typeof n[1]=="function"&&n[1].apply(null)},function(u){typeof n[2]=="function"&&n[2].apply(null,[u])}):s.apply(this,arguments)}}),["getStats"].forEach(function(i){var s=h.prototype[i];h.prototype[i]=function(){var n=arguments;return typeof n[1]=="function"?s.apply(this,arguments).then(function(){typeof n[1]=="function"&&n[1].apply(null)}):s.apply(this,arguments)}}),h}},{sdp:"YHvh"}],YdKx:[function(c,p,l){function o(a){var d=a&&a.navigator,y=d.mediaDevices.getUserMedia.bind(d.mediaDevices);d.mediaDevices.getUserMedia=function(w){return y(w).catch(function(S){return Promise.reject(function(T){return{name:{PermissionDeniedError:"NotAllowedError"}[T.name]||T.name,message:T.message,constraint:T.constraint,toString:function(){return this.name}}}(S))})}}Object.defineProperty(l,"__esModule",{value:!0}),l.shimGetUserMedia=o},{}],P3bV:[function(c,p,l){function o(a){"getDisplayMedia"in a.navigator&&a.navigator.mediaDevices&&(a.navigator.mediaDevices&&"getDisplayMedia"in a.navigator.mediaDevices||(a.navigator.mediaDevices.getDisplayMedia=a.navigator.getDisplayMedia.bind(a.navigator)))}Object.defineProperty(l,"__esModule",{value:!0}),l.shimGetDisplayMedia=o},{}],XRic:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.shimPeerConnection=m,l.shimReplaceTrack=g,Object.defineProperty(l,"shimGetUserMedia",{enumerable:!0,get:function(){return y.shimGetUserMedia}}),Object.defineProperty(l,"shimGetDisplayMedia",{enumerable:!0,get:function(){return w.shimGetDisplayMedia}});var o=f(c("../utils")),a=c("./filtericeservers"),d=S(c("rtcpeerconnection-shim")),y=c("./getusermedia"),w=c("./getdisplaymedia");function S(b){return b&&b.__esModule?b:{default:b}}function T(){if(typeof WeakMap!="function")return null;var b=new WeakMap;return T=function(){return b},b}function f(b){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var C=T();if(C&&C.has(b))return C.get(b);var h={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in b)if(Object.prototype.hasOwnProperty.call(b,i)){var s=v?Object.getOwnPropertyDescriptor(b,i):null;s&&(s.get||s.set)?Object.defineProperty(h,i,s):h[i]=b[i]}return h.default=b,C&&C.set(b,h),h}function m(b,C){if(b.RTCIceGatherer&&(b.RTCIceCandidate||(b.RTCIceCandidate=function(i){return i}),b.RTCSessionDescription||(b.RTCSessionDescription=function(i){return i}),C.version<15025)){var h=Object.getOwnPropertyDescriptor(b.MediaStreamTrack.prototype,"enabled");Object.defineProperty(b.MediaStreamTrack.prototype,"enabled",{set:function(i){h.set.call(this,i);var s=new Event("enabled");s.enabled=i,this.dispatchEvent(s)}})}!b.RTCRtpSender||"dtmf"in b.RTCRtpSender.prototype||Object.defineProperty(b.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new b.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),b.RTCDtmfSender&&!b.RTCDTMFSender&&(b.RTCDTMFSender=b.RTCDtmfSender);var v=(0,d.default)(b,C.version);b.RTCPeerConnection=function(i){return i&&i.iceServers&&(i.iceServers=(0,a.filterIceServers)(i.iceServers,C.version),o.log("ICE servers after filtering:",i.iceServers)),new v(i)},b.RTCPeerConnection.prototype=v.prototype}function g(b){!b.RTCRtpSender||"replaceTrack"in b.RTCRtpSender.prototype||(b.RTCRtpSender.prototype.replaceTrack=b.RTCRtpSender.prototype.setTrack)}},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],GzSv:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.shimGetUserMedia=w;var o=d(c("../utils"));function a(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return a=function(){return S},S}function d(S){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var T=a();if(T&&T.has(S))return T.get(S);var f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in S)if(Object.prototype.hasOwnProperty.call(S,g)){var b=m?Object.getOwnPropertyDescriptor(S,g):null;b&&(b.get||b.set)?Object.defineProperty(f,g,b):f[g]=S[g]}return f.default=S,T&&T.set(S,f),f}function y(S){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(S)}function w(S,T){var f=S&&S.navigator,m=S&&S.MediaStreamTrack;if(f.getUserMedia=function(v,i,s){o.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),f.mediaDevices.getUserMedia(v).then(i,s)},!(T.version>55&&"autoGainControl"in f.mediaDevices.getSupportedConstraints())){var g=function(v,i,s){i in v&&!(s in v)&&(v[s]=v[i],delete v[i])},b=f.mediaDevices.getUserMedia.bind(f.mediaDevices);if(f.mediaDevices.getUserMedia=function(v){return y(v)==="object"&&y(v.audio)==="object"&&(v=JSON.parse(JSON.stringify(v)),g(v.audio,"autoGainControl","mozAutoGainControl"),g(v.audio,"noiseSuppression","mozNoiseSuppression")),b(v)},m&&m.prototype.getSettings){var C=m.prototype.getSettings;m.prototype.getSettings=function(){var v=C.apply(this,arguments);return g(v,"mozAutoGainControl","autoGainControl"),g(v,"mozNoiseSuppression","noiseSuppression"),v}}if(m&&m.prototype.applyConstraints){var h=m.prototype.applyConstraints;m.prototype.applyConstraints=function(v){return this.kind==="audio"&&y(v)==="object"&&(v=JSON.parse(JSON.stringify(v)),g(v,"autoGainControl","mozAutoGainControl"),g(v,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[v])}}}}},{"../utils":"iSxC"}],UuGU:[function(c,p,l){function o(a,d){a.navigator.mediaDevices&&"getDisplayMedia"in a.navigator.mediaDevices||a.navigator.mediaDevices&&(a.navigator.mediaDevices.getDisplayMedia=function(y){if(!y||!y.video){var w=new DOMException("getDisplayMedia without video constraints is undefined");return w.name="NotFoundError",w.code=8,Promise.reject(w)}return y.video===!0?y.video={mediaSource:d}:y.video.mediaSource=d,a.navigator.mediaDevices.getUserMedia(y)})}Object.defineProperty(l,"__esModule",{value:!0}),l.shimGetDisplayMedia=o},{}],Fzdr:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.shimOnTrack=f,l.shimPeerConnection=m,l.shimSenderGetStats=g,l.shimReceiverGetStats=b,l.shimRemoveStream=C,l.shimRTCDataChannel=h,l.shimAddTransceiver=v,l.shimGetParameters=i,l.shimCreateOffer=s,l.shimCreateAnswer=n,Object.defineProperty(l,"shimGetUserMedia",{enumerable:!0,get:function(){return a.shimGetUserMedia}}),Object.defineProperty(l,"shimGetDisplayMedia",{enumerable:!0,get:function(){return d.shimGetDisplayMedia}});var o=w(c("../utils")),a=c("./getusermedia"),d=c("./getdisplaymedia");function y(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return y=function(){return u},u}function w(u){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var _=y();if(_&&_.has(u))return _.get(u);var P={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in u)if(Object.prototype.hasOwnProperty.call(u,O)){var D=E?Object.getOwnPropertyDescriptor(u,O):null;D&&(D.get||D.set)?Object.defineProperty(P,O,D):P[O]=u[O]}return P.default=u,_&&_.set(u,P),P}function S(u,_,P){return _ in u?Object.defineProperty(u,_,{value:P,enumerable:!0,configurable:!0,writable:!0}):u[_]=P,u}function T(u){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(u)}function f(u){T(u)==="object"&&u.RTCTrackEvent&&"receiver"in u.RTCTrackEvent.prototype&&!("transceiver"in u.RTCTrackEvent.prototype)&&Object.defineProperty(u.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function m(u,_){if(T(u)==="object"&&(u.RTCPeerConnection||u.mozRTCPeerConnection)){!u.RTCPeerConnection&&u.mozRTCPeerConnection&&(u.RTCPeerConnection=u.mozRTCPeerConnection),_.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(O){var D=u.RTCPeerConnection.prototype[O],M=S({},O,function(){return arguments[0]=new(O==="addIceCandidate"?u.RTCIceCandidate:u.RTCSessionDescription)(arguments[0]),D.apply(this,arguments)});u.RTCPeerConnection.prototype[O]=M[O]});var P={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},E=u.RTCPeerConnection.prototype.getStats;u.RTCPeerConnection.prototype.getStats=function(){var[O,D,M]=arguments;return E.apply(this,[O||null]).then(function(R){if(_.version<53&&!D)try{R.forEach(function(I){I.type=P[I.type]||I.type})}catch(I){if(I.name!=="TypeError")throw I;R.forEach(function(A,j){R.set(j,Object.assign({},A,{type:P[A.type]||A.type}))})}return R}).then(D,M)}}}function g(u){if(T(u)==="object"&&u.RTCPeerConnection&&u.RTCRtpSender&&!(u.RTCRtpSender&&"getStats"in u.RTCRtpSender.prototype)){var _=u.RTCPeerConnection.prototype.getSenders;_&&(u.RTCPeerConnection.prototype.getSenders=function(){var E=this,O=_.apply(this,[]);return O.forEach(function(D){return D._pc=E}),O});var P=u.RTCPeerConnection.prototype.addTrack;P&&(u.RTCPeerConnection.prototype.addTrack=function(){var E=P.apply(this,arguments);return E._pc=this,E}),u.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function b(u){if(T(u)==="object"&&u.RTCPeerConnection&&u.RTCRtpSender&&!(u.RTCRtpSender&&"getStats"in u.RTCRtpReceiver.prototype)){var _=u.RTCPeerConnection.prototype.getReceivers;_&&(u.RTCPeerConnection.prototype.getReceivers=function(){var P=this,E=_.apply(this,[]);return E.forEach(function(O){return O._pc=P}),E}),o.wrapPeerConnectionEvent(u,"track",function(P){return P.receiver._pc=P.srcElement,P}),u.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function C(u){!u.RTCPeerConnection||"removeStream"in u.RTCPeerConnection.prototype||(u.RTCPeerConnection.prototype.removeStream=function(_){var P=this;o.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(E){E.track&&_.getTracks().includes(E.track)&&P.removeTrack(E)})})}function h(u){u.DataChannel&&!u.RTCDataChannel&&(u.RTCDataChannel=u.DataChannel)}function v(u){if(T(u)==="object"&&u.RTCPeerConnection){var _=u.RTCPeerConnection.prototype.addTransceiver;_&&(u.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var P=arguments[1],E=P&&"sendEncodings"in P;E&&P.sendEncodings.forEach(function(R){if("rid"in R&&!/^[a-z0-9]{0,16}$/i.test(R.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in R&&!(parseFloat(R.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in R&&!(parseFloat(R.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var O=_.apply(this,arguments);if(E){var{sender:D}=O,M=D.getParameters();"encodings"in M&&(M.encodings.length!==1||Object.keys(M.encodings[0]).length!==0)||(M.encodings=P.sendEncodings,D.sendEncodings=P.sendEncodings,this.setParametersPromises.push(D.setParameters(M).then(function(){delete D.sendEncodings}).catch(function(){delete D.sendEncodings})))}return O})}}function i(u){if(T(u)==="object"&&u.RTCRtpSender){var _=u.RTCRtpSender.prototype.getParameters;_&&(u.RTCRtpSender.prototype.getParameters=function(){var P=_.apply(this,arguments);return"encodings"in P||(P.encodings=[].concat(this.sendEncodings||[{}])),P})}}function s(u){if(T(u)==="object"&&u.RTCPeerConnection){var _=u.RTCPeerConnection.prototype.createOffer;u.RTCPeerConnection.prototype.createOffer=function(){var P=arguments,E=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return _.apply(E,P)}).finally(function(){E.setParametersPromises=[]}):_.apply(this,arguments)}}}function n(u){if(T(u)==="object"&&u.RTCPeerConnection){var _=u.RTCPeerConnection.prototype.createAnswer;u.RTCPeerConnection.prototype.createAnswer=function(){var P=arguments,E=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return _.apply(E,P)}).finally(function(){E.setParametersPromises=[]}):_.apply(this,arguments)}}}},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],t1lL:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.shimLocalStreamsAPI=w,l.shimRemoteStreamsAPI=S,l.shimCallbacksAPI=T,l.shimGetUserMedia=f,l.shimConstraints=m,l.shimRTCIceServerUrls=g,l.shimTrackEventTransceiver=b,l.shimCreateOfferLegacy=C,l.shimAudioContext=h;var o=d(c("../utils"));function a(){if(typeof WeakMap!="function")return null;var v=new WeakMap;return a=function(){return v},v}function d(v){if(v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var i=a();if(i&&i.has(v))return i.get(v);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in v)if(Object.prototype.hasOwnProperty.call(v,u)){var _=n?Object.getOwnPropertyDescriptor(v,u):null;_&&(_.get||_.set)?Object.defineProperty(s,u,_):s[u]=v[u]}return s.default=v,i&&i.set(v,s),s}function y(v){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(v)}function w(v){if(y(v)==="object"&&v.RTCPeerConnection){if("getLocalStreams"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in v.RTCPeerConnection.prototype)){var i=v.RTCPeerConnection.prototype.addTrack;v.RTCPeerConnection.prototype.addStream=function(s){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(function(u){return i.call(n,u,s)}),s.getVideoTracks().forEach(function(u){return i.call(n,u,s)})},v.RTCPeerConnection.prototype.addTrack=function(s){for(var n=this,u=arguments.length,_=new Array(u>1?u-1:0),P=1;P<u;P++)_[P-1]=arguments[P];return _&&_.forEach(function(E){n._localStreams?n._localStreams.includes(E)||n._localStreams.push(E):n._localStreams=[E]}),i.apply(this,arguments)}}"removeStream"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.removeStream=function(s){var n=this;this._localStreams||(this._localStreams=[]);var u=this._localStreams.indexOf(s);if(u!==-1){this._localStreams.splice(u,1);var _=s.getTracks();this.getSenders().forEach(function(P){_.includes(P.track)&&n.removeTrack(P)})}})}}function S(v){if(y(v)==="object"&&v.RTCPeerConnection&&("getRemoteStreams"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in v.RTCPeerConnection.prototype))){Object.defineProperty(v.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(s){var n=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=s),this.addEventListener("track",this._onaddstreampoly=function(u){u.streams.forEach(function(_){if(n._remoteStreams||(n._remoteStreams=[]),!n._remoteStreams.includes(_)){n._remoteStreams.push(_);var P=new Event("addstream");P.stream=_,n.dispatchEvent(P)}})})}});var i=v.RTCPeerConnection.prototype.setRemoteDescription;v.RTCPeerConnection.prototype.setRemoteDescription=function(){var s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(n){n.streams.forEach(function(u){if(s._remoteStreams||(s._remoteStreams=[]),!(s._remoteStreams.indexOf(u)>=0)){s._remoteStreams.push(u);var _=new Event("addstream");_.stream=u,s.dispatchEvent(_)}})}),i.apply(s,arguments)}}}function T(v){if(y(v)==="object"&&v.RTCPeerConnection){var i=v.RTCPeerConnection.prototype,s=i.createOffer,n=i.createAnswer,u=i.setLocalDescription,_=i.setRemoteDescription,P=i.addIceCandidate;i.createOffer=function(O,D){var M=arguments.length>=2?arguments[2]:arguments[0],R=s.apply(this,[M]);return D?(R.then(O,D),Promise.resolve()):R},i.createAnswer=function(O,D){var M=arguments.length>=2?arguments[2]:arguments[0],R=n.apply(this,[M]);return D?(R.then(O,D),Promise.resolve()):R};var E=function(O,D,M){var R=u.apply(this,[O]);return M?(R.then(D,M),Promise.resolve()):R};i.setLocalDescription=E,E=function(O,D,M){var R=_.apply(this,[O]);return M?(R.then(D,M),Promise.resolve()):R},i.setRemoteDescription=E,E=function(O,D,M){var R=P.apply(this,[O]);return M?(R.then(D,M),Promise.resolve()):R},i.addIceCandidate=E}}function f(v){var i=v&&v.navigator;if(i.mediaDevices&&i.mediaDevices.getUserMedia){var s=i.mediaDevices,n=s.getUserMedia.bind(s);i.mediaDevices.getUserMedia=function(u){return n(m(u))}}!i.getUserMedia&&i.mediaDevices&&i.mediaDevices.getUserMedia&&(i.getUserMedia=function(u,_,P){i.mediaDevices.getUserMedia(u).then(_,P)}.bind(i))}function m(v){return v&&v.video!==void 0?Object.assign({},v,{video:o.compactObject(v.video)}):v}function g(v){if(v.RTCPeerConnection){var i=v.RTCPeerConnection;v.RTCPeerConnection=function(s,n){if(s&&s.iceServers){for(var u=[],_=0;_<s.iceServers.length;_++){var P=s.iceServers[_];!P.hasOwnProperty("urls")&&P.hasOwnProperty("url")?(o.deprecated("RTCIceServer.url","RTCIceServer.urls"),(P=JSON.parse(JSON.stringify(P))).urls=P.url,delete P.url,u.push(P)):u.push(s.iceServers[_])}s.iceServers=u}return new i(s,n)},v.RTCPeerConnection.prototype=i.prototype,"generateCertificate"in i&&Object.defineProperty(v.RTCPeerConnection,"generateCertificate",{get:function(){return i.generateCertificate}})}}function b(v){y(v)==="object"&&v.RTCTrackEvent&&"receiver"in v.RTCTrackEvent.prototype&&!("transceiver"in v.RTCTrackEvent.prototype)&&Object.defineProperty(v.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function C(v){var i=v.RTCPeerConnection.prototype.createOffer;v.RTCPeerConnection.prototype.createOffer=function(s){if(s){s.offerToReceiveAudio!==void 0&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);var n=this.getTransceivers().find(function(_){return _.receiver.track.kind==="audio"});s.offerToReceiveAudio===!1&&n?n.direction==="sendrecv"?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":n.direction==="recvonly"&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):s.offerToReceiveAudio!==!0||n||this.addTransceiver("audio"),s.offerToReceiveVideo!==void 0&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);var u=this.getTransceivers().find(function(_){return _.receiver.track.kind==="video"});s.offerToReceiveVideo===!1&&u?u.direction==="sendrecv"?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":u.direction==="recvonly"&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):s.offerToReceiveVideo!==!0||u||this.addTransceiver("video")}return i.apply(this,arguments)}}function h(v){y(v)!=="object"||v.AudioContext||(v.AudioContext=v.webkitAudioContext)}},{"../utils":"iSxC"}],GOQK:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.shimRTCIceCandidate=T,l.shimMaxMessageSize=f,l.shimSendThrowTypeError=m,l.shimConnectionState=g,l.removeExtmapAllowMixed=b,l.shimAddIceCandidateNullOrEmpty=C;var o=w(c("sdp")),a=y(c("./utils"));function d(){if(typeof WeakMap!="function")return null;var h=new WeakMap;return d=function(){return h},h}function y(h){if(h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var v=d();if(v&&v.has(h))return v.get(h);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in h)if(Object.prototype.hasOwnProperty.call(h,n)){var u=s?Object.getOwnPropertyDescriptor(h,n):null;u&&(u.get||u.set)?Object.defineProperty(i,n,u):i[n]=h[n]}return i.default=h,v&&v.set(h,i),i}function w(h){return h&&h.__esModule?h:{default:h}}function S(h){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(h)}function T(h){if(h.RTCIceCandidate&&!(h.RTCIceCandidate&&"foundation"in h.RTCIceCandidate.prototype)){var v=h.RTCIceCandidate;h.RTCIceCandidate=function(i){if(S(i)==="object"&&i.candidate&&i.candidate.indexOf("a=")===0&&((i=JSON.parse(JSON.stringify(i))).candidate=i.candidate.substr(2)),i.candidate&&i.candidate.length){var s=new v(i),n=o.default.parseCandidate(i.candidate),u=Object.assign(s,n);return u.toJSON=function(){return{candidate:u.candidate,sdpMid:u.sdpMid,sdpMLineIndex:u.sdpMLineIndex,usernameFragment:u.usernameFragment}},u}return new v(i)},h.RTCIceCandidate.prototype=v.prototype,a.wrapPeerConnectionEvent(h,"icecandidate",function(i){return i.candidate&&Object.defineProperty(i,"candidate",{value:new h.RTCIceCandidate(i.candidate),writable:"false"}),i})}}function f(h,v){if(h.RTCPeerConnection){"sctp"in h.RTCPeerConnection.prototype||Object.defineProperty(h.RTCPeerConnection.prototype,"sctp",{get:function(){return this._sctp===void 0?null:this._sctp}});var i=h.RTCPeerConnection.prototype.setRemoteDescription;h.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,v.browser==="chrome"&&v.version>=76){var{sdpSemantics:s}=this.getConfiguration();s==="plan-b"&&Object.defineProperty(this,"sctp",{get:function(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(function(M){if(!M||!M.sdp)return!1;var R=o.default.splitSections(M.sdp);return R.shift(),R.some(function(I){var A=o.default.parseMLine(I);return A&&A.kind==="application"&&A.protocol.indexOf("SCTP")!==-1})}(arguments[0])){var n,u=function(M){var R=M.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(R===null||R.length<2)return-1;var I=parseInt(R[1],10);return I!=I?-1:I}(arguments[0]),_=(O=u,D=65536,v.browser==="firefox"&&(D=v.version<57?O===-1?16384:2147483637:v.version<60?v.version===57?65535:65536:2147483637),D),P=function(M,R){var I=65536;v.browser==="firefox"&&v.version===57&&(I=65535);var A=o.default.matchPrefix(M.sdp,"a=max-message-size:");return A.length>0?I=parseInt(A[0].substr(19),10):v.browser==="firefox"&&R!==-1&&(I=2147483637),I}(arguments[0],u);n=_===0&&P===0?Number.POSITIVE_INFINITY:_===0||P===0?Math.max(_,P):Math.min(_,P);var E={};Object.defineProperty(E,"maxMessageSize",{get:function(){return n}}),this._sctp=E}var O,D;return i.apply(this,arguments)}}}function m(h){if(h.RTCPeerConnection&&"createDataChannel"in h.RTCPeerConnection.prototype){var v=h.RTCPeerConnection.prototype.createDataChannel;h.RTCPeerConnection.prototype.createDataChannel=function(){var s=v.apply(this,arguments);return i(s,this),s},a.wrapPeerConnectionEvent(h,"datachannel",function(s){return i(s.channel,s.target),s})}function i(s,n){var u=s.send;s.send=function(){var _=arguments[0],P=_.length||_.size||_.byteLength;if(s.readyState==="open"&&n.sctp&&P>n.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+n.sctp.maxMessageSize+" bytes)");return u.apply(s,arguments)}}}function g(h){if(h.RTCPeerConnection&&!("connectionState"in h.RTCPeerConnection.prototype)){var v=h.RTCPeerConnection.prototype;Object.defineProperty(v,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(v,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(i){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),i&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=i)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(i){var s=v[i];v[i]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(n){var u=n.target;if(u._lastConnectionState!==u.connectionState){u._lastConnectionState=u.connectionState;var _=new Event("connectionstatechange",n);u.dispatchEvent(_)}return n},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}}function b(h,v){if(h.RTCPeerConnection&&!(v.browser==="chrome"&&v.version>=71||v.browser==="safari"&&v.version>=605)){var i=h.RTCPeerConnection.prototype.setRemoteDescription;h.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){var n=s.sdp.split(`
`).filter(function(u){return u.trim()!=="a=extmap-allow-mixed"}).join(`
`);h.RTCSessionDescription&&s instanceof h.RTCSessionDescription?arguments[0]=new h.RTCSessionDescription({type:s.type,sdp:n}):s.sdp=n}return i.apply(this,arguments)}}}function C(h,v){if(h.RTCPeerConnection&&h.RTCPeerConnection.prototype){var i=h.RTCPeerConnection.prototype.addIceCandidate;i&&i.length!==0&&(h.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(v.browser==="chrome"&&v.version<78||v.browser==="firefox"&&v.version<68||v.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}},{sdp:"YHvh","./utils":"iSxC"}],KtlG:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.adapterFactory=m;var o=f(c("./utils")),a=f(c("./chrome/chrome_shim")),d=f(c("./edge/edge_shim")),y=f(c("./firefox/firefox_shim")),w=f(c("./safari/safari_shim")),S=f(c("./common_shim"));function T(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return T=function(){return g},g}function f(g){if(g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var b=T();if(b&&b.has(g))return b.get(g);var C={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in g)if(Object.prototype.hasOwnProperty.call(g,v)){var i=h?Object.getOwnPropertyDescriptor(g,v):null;i&&(i.get||i.set)?Object.defineProperty(C,v,i):C[v]=g[v]}return C.default=g,b&&b.set(g,C),C}function m(){var{window:g}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},C=o.log,h=o.detectBrowser(g),v={browserDetails:h,commonShim:S,extractVersion:o.extractVersion,disableLog:o.disableLog,disableWarnings:o.disableWarnings};switch(h.browser){case"chrome":if(!a||!a.shimPeerConnection||!b.shimChrome)return C("Chrome shim is not included in this adapter release."),v;if(h.version===null)return C("Chrome shim can not determine version, not shimming."),v;C("adapter.js shimming chrome."),v.browserShim=a,S.shimAddIceCandidateNullOrEmpty(g,h),a.shimGetUserMedia(g,h),a.shimMediaStream(g,h),a.shimPeerConnection(g,h),a.shimOnTrack(g,h),a.shimAddTrackRemoveTrack(g,h),a.shimGetSendersWithDtmf(g,h),a.shimGetStats(g,h),a.shimSenderReceiverGetStats(g,h),a.fixNegotiationNeeded(g,h),S.shimRTCIceCandidate(g,h),S.shimConnectionState(g,h),S.shimMaxMessageSize(g,h),S.shimSendThrowTypeError(g,h),S.removeExtmapAllowMixed(g,h);break;case"firefox":if(!y||!y.shimPeerConnection||!b.shimFirefox)return C("Firefox shim is not included in this adapter release."),v;C("adapter.js shimming firefox."),v.browserShim=y,S.shimAddIceCandidateNullOrEmpty(g,h),y.shimGetUserMedia(g,h),y.shimPeerConnection(g,h),y.shimOnTrack(g,h),y.shimRemoveStream(g,h),y.shimSenderGetStats(g,h),y.shimReceiverGetStats(g,h),y.shimRTCDataChannel(g,h),y.shimAddTransceiver(g,h),y.shimGetParameters(g,h),y.shimCreateOffer(g,h),y.shimCreateAnswer(g,h),S.shimRTCIceCandidate(g,h),S.shimConnectionState(g,h),S.shimMaxMessageSize(g,h),S.shimSendThrowTypeError(g,h);break;case"edge":if(!d||!d.shimPeerConnection||!b.shimEdge)return C("MS edge shim is not included in this adapter release."),v;C("adapter.js shimming edge."),v.browserShim=d,d.shimGetUserMedia(g,h),d.shimGetDisplayMedia(g,h),d.shimPeerConnection(g,h),d.shimReplaceTrack(g,h),S.shimMaxMessageSize(g,h),S.shimSendThrowTypeError(g,h);break;case"safari":if(!w||!b.shimSafari)return C("Safari shim is not included in this adapter release."),v;C("adapter.js shimming safari."),v.browserShim=w,S.shimAddIceCandidateNullOrEmpty(g,h),w.shimRTCIceServerUrls(g,h),w.shimCreateOfferLegacy(g,h),w.shimCallbacksAPI(g,h),w.shimLocalStreamsAPI(g,h),w.shimRemoteStreamsAPI(g,h),w.shimTrackEventTransceiver(g,h),w.shimGetUserMedia(g,h),w.shimAudioContext(g,h),S.shimRTCIceCandidate(g,h),S.shimMaxMessageSize(g,h),S.shimSendThrowTypeError(g,h),S.removeExtmapAllowMixed(g,h);break;default:C("Unsupported browser!")}return v}},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],tI1X:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=c("./adapter_factory.js"),a=(0,o.adapterFactory)({window:typeof window=="undefined"?void 0:window}),d=a;l.default=d},{"./adapter_factory.js":"KtlG"}],sXtV:[function(c,p,l){var o=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(l,"__esModule",{value:!0}),l.webRTCAdapter=void 0;var a=o(c("webrtc-adapter"));l.webRTCAdapter=a.default},{"webrtc-adapter":"tI1X"}],I31f:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Supports=void 0;var o=c("./adapter");l.Supports=new(function(){function a(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return a.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection!="undefined"},a.prototype.isBrowserSupported=function(){var d=this.getBrowser(),y=this.getVersion();return!!this.supportedBrowsers.includes(d)&&(d==="chrome"?y>=this.minChromeVersion:d==="firefox"?y>=this.minFirefoxVersion:d==="safari"&&!this.isIOS&&y>=this.minSafariVersion)},a.prototype.getBrowser=function(){return o.webRTCAdapter.browserDetails.browser},a.prototype.getVersion=function(){return o.webRTCAdapter.browserDetails.version||0},a.prototype.isUnifiedPlanSupported=function(){var d,y=this.getBrowser(),w=o.webRTCAdapter.browserDetails.version||0;if(y==="chrome"&&w<72)return!1;if(y==="firefox"&&w>=59)return!0;if(!(window.RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype))return!1;var S=!1;try{(d=new RTCPeerConnection).addTransceiver("audio"),S=!0}catch{}finally{d&&d.close()}return S},a.prototype.toString=function(){return`Supports: 
    browser:`+this.getBrowser()+` 
    version:`+this.getVersion()+` 
    isIOS:`+this.isIOS+` 
    isWebRTCSupported:`+this.isWebRTCSupported()+` 
    isBrowserSupported:`+this.isBrowserSupported()+` 
    isUnifiedPlanSupported:`+this.isUnifiedPlanSupported()},a}())},{"./adapter":"sXtV"}],BHXf:[function(c,p,l){var o=this&&this.__createBinding||(Object.create?function(T,f,m,g){g===void 0&&(g=m),Object.defineProperty(T,g,{enumerable:!0,get:function(){return f[m]}})}:function(T,f,m,g){g===void 0&&(g=m),T[g]=f[m]}),a=this&&this.__setModuleDefault||(Object.create?function(T,f){Object.defineProperty(T,"default",{enumerable:!0,value:f})}:function(T,f){T.default=f}),d=this&&this.__importStar||function(T){if(T&&T.__esModule)return T;var f={};if(T!=null)for(var m in T)m!=="default"&&Object.prototype.hasOwnProperty.call(T,m)&&o(f,T,m);return a(f,T),f};Object.defineProperty(l,"__esModule",{value:!0}),l.util=void 0;var y=d(c("peerjs-js-binarypack")),w=c("./supports"),S={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};l.util=new(function(){function T(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=S,this.browser=w.Supports.getBrowser(),this.browserVersion=w.Supports.getVersion(),this.supports=function(){var f,m={browser:w.Supports.isBrowserSupported(),webRTC:w.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!m.webRTC)return m;try{f=new RTCPeerConnection(S),m.audioVideo=!0;var g=void 0;try{g=f.createDataChannel("_PEERJSTEST",{ordered:!0}),m.data=!0,m.reliable=!!g.ordered;try{g.binaryType="blob",m.binaryBlob=!w.Supports.isIOS}catch{}}catch{}finally{g&&g.close()}}catch{}finally{f&&f.close()}return m}(),this.pack=y.pack,this.unpack=y.unpack,this._dataCount=1}return T.prototype.noop=function(){},T.prototype.validateId=function(f){return!f||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(f)},T.prototype.chunk=function(f){for(var m=[],g=f.size,b=Math.ceil(g/l.util.chunkedMTU),C=0,h=0;h<g;){var v=Math.min(g,h+l.util.chunkedMTU),i=f.slice(h,v),s={__peerData:this._dataCount,n:C,data:i,total:b};m.push(s),h=v,C++}return this._dataCount++,m},T.prototype.blobToArrayBuffer=function(f,m){var g=new FileReader;return g.onload=function(b){b.target&&m(b.target.result)},g.readAsArrayBuffer(f),g},T.prototype.binaryStringToArrayBuffer=function(f){for(var m=new Uint8Array(f.length),g=0;g<f.length;g++)m[g]=255&f.charCodeAt(g);return m.buffer},T.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},T.prototype.isSecure=function(){return location.protocol==="https:"},T}())},{"peerjs-js-binarypack":"kdPp","./supports":"I31f"}],JJlS:[function(c,p,l){var o=Object.prototype.hasOwnProperty,a="~";function d(){}function y(f,m,g){this.fn=f,this.context=m,this.once=g||!1}function w(f,m,g,b,C){if(typeof g!="function")throw new TypeError("The listener must be a function");var h=new y(g,b||f,C),v=a?a+m:m;return f._events[v]?f._events[v].fn?f._events[v]=[f._events[v],h]:f._events[v].push(h):(f._events[v]=h,f._eventsCount++),f}function S(f,m){--f._eventsCount==0?f._events=new d:delete f._events[m]}function T(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(a=!1)),T.prototype.eventNames=function(){var f,m,g=[];if(this._eventsCount===0)return g;for(m in f=this._events)o.call(f,m)&&g.push(a?m.slice(1):m);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(f)):g},T.prototype.listeners=function(f){var m=a?a+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,C=g.length,h=new Array(C);b<C;b++)h[b]=g[b].fn;return h},T.prototype.listenerCount=function(f){var m=a?a+f:f,g=this._events[m];return g?g.fn?1:g.length:0},T.prototype.emit=function(f,m,g,b,C,h){var v=a?a+f:f;if(!this._events[v])return!1;var i,s,n=this._events[v],u=arguments.length;if(n.fn){switch(n.once&&this.removeListener(f,n.fn,void 0,!0),u){case 1:return n.fn.call(n.context),!0;case 2:return n.fn.call(n.context,m),!0;case 3:return n.fn.call(n.context,m,g),!0;case 4:return n.fn.call(n.context,m,g,b),!0;case 5:return n.fn.call(n.context,m,g,b,C),!0;case 6:return n.fn.call(n.context,m,g,b,C,h),!0}for(s=1,i=new Array(u-1);s<u;s++)i[s-1]=arguments[s];n.fn.apply(n.context,i)}else{var _,P=n.length;for(s=0;s<P;s++)switch(n[s].once&&this.removeListener(f,n[s].fn,void 0,!0),u){case 1:n[s].fn.call(n[s].context);break;case 2:n[s].fn.call(n[s].context,m);break;case 3:n[s].fn.call(n[s].context,m,g);break;case 4:n[s].fn.call(n[s].context,m,g,b);break;default:if(!i)for(_=1,i=new Array(u-1);_<u;_++)i[_-1]=arguments[_];n[s].fn.apply(n[s].context,i)}}return!0},T.prototype.on=function(f,m,g){return w(this,f,m,g,!1)},T.prototype.once=function(f,m,g){return w(this,f,m,g,!0)},T.prototype.removeListener=function(f,m,g,b){var C=a?a+f:f;if(!this._events[C])return this;if(!m)return S(this,C),this;var h=this._events[C];if(h.fn)h.fn!==m||b&&!h.once||g&&h.context!==g||S(this,C);else{for(var v=0,i=[],s=h.length;v<s;v++)(h[v].fn!==m||b&&!h[v].once||g&&h[v].context!==g)&&i.push(h[v]);i.length?this._events[C]=i.length===1?i[0]:i:S(this,C)}return this},T.prototype.removeAllListeners=function(f){var m;return f?(m=a?a+f:f,this._events[m]&&S(this,m)):(this._events=new d,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=a,T.EventEmitter=T,typeof p!="undefined"&&(p.exports=T)},{}],WOs9:[function(c,p,l){var o=this&&this.__read||function(S,T){var f=typeof Symbol=="function"&&S[Symbol.iterator];if(!f)return S;var m,g,b=f.call(S),C=[];try{for(;(T===void 0||T-- >0)&&!(m=b.next()).done;)C.push(m.value)}catch(h){g={error:h}}finally{try{m&&!m.done&&(f=b.return)&&f.call(b)}finally{if(g)throw g.error}}return C},a=this&&this.__spreadArray||function(S,T){for(var f=0,m=T.length,g=S.length;f<m;f++,g++)S[g]=T[f];return S};Object.defineProperty(l,"__esModule",{value:!0}),l.LogLevel=void 0;var d,y="PeerJS: ";(function(S){S[S.Disabled=0]="Disabled",S[S.Errors=1]="Errors",S[S.Warnings=2]="Warnings",S[S.All=3]="All"})(d=l.LogLevel||(l.LogLevel={}));var w=function(){function S(){this._logLevel=d.Disabled}return Object.defineProperty(S.prototype,"logLevel",{get:function(){return this._logLevel},set:function(T){this._logLevel=T},enumerable:!1,configurable:!0}),S.prototype.log=function(){for(var T=[],f=0;f<arguments.length;f++)T[f]=arguments[f];this._logLevel>=d.All&&this._print.apply(this,a([d.All],o(T)))},S.prototype.warn=function(){for(var T=[],f=0;f<arguments.length;f++)T[f]=arguments[f];this._logLevel>=d.Warnings&&this._print.apply(this,a([d.Warnings],o(T)))},S.prototype.error=function(){for(var T=[],f=0;f<arguments.length;f++)T[f]=arguments[f];this._logLevel>=d.Errors&&this._print.apply(this,a([d.Errors],o(T)))},S.prototype.setLogFunction=function(T){this._print=T},S.prototype._print=function(T){for(var f=[],m=1;m<arguments.length;m++)f[m-1]=arguments[m];var g=a([y],o(f));for(var b in g)g[b]instanceof Error&&(g[b]="("+g[b].name+") "+g[b].message);T>=d.All?console.log.apply(console,a([],o(g))):T>=d.Warnings?console.warn.apply(console,a(["WARNING"],o(g))):T>=d.Errors&&console.error.apply(console,a(["ERROR"],o(g)))},S}();l.default=new w},{}],ZRYf:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ServerMessageType=l.SocketEventType=l.SerializationType=l.PeerErrorType=l.PeerEventType=l.ConnectionType=l.ConnectionEventType=void 0,function(o){o.Open="open",o.Stream="stream",o.Data="data",o.Close="close",o.Error="error",o.IceStateChanged="iceStateChanged"}(l.ConnectionEventType||(l.ConnectionEventType={})),function(o){o.Data="data",o.Media="media"}(l.ConnectionType||(l.ConnectionType={})),function(o){o.Open="open",o.Close="close",o.Connection="connection",o.Call="call",o.Disconnected="disconnected",o.Error="error"}(l.PeerEventType||(l.PeerEventType={})),function(o){o.BrowserIncompatible="browser-incompatible",o.Disconnected="disconnected",o.InvalidID="invalid-id",o.InvalidKey="invalid-key",o.Network="network",o.PeerUnavailable="peer-unavailable",o.SslUnavailable="ssl-unavailable",o.ServerError="server-error",o.SocketError="socket-error",o.SocketClosed="socket-closed",o.UnavailableID="unavailable-id",o.WebRTC="webrtc"}(l.PeerErrorType||(l.PeerErrorType={})),function(o){o.Binary="binary",o.BinaryUTF8="binary-utf8",o.JSON="json"}(l.SerializationType||(l.SerializationType={})),function(o){o.Message="message",o.Disconnected="disconnected",o.Error="error",o.Close="close"}(l.SocketEventType||(l.SocketEventType={})),function(o){o.Heartbeat="HEARTBEAT",o.Candidate="CANDIDATE",o.Offer="OFFER",o.Answer="ANSWER",o.Open="OPEN",o.Error="ERROR",o.IdTaken="ID-TAKEN",o.InvalidKey="INVALID-KEY",o.Leave="LEAVE",o.Expire="EXPIRE"}(l.ServerMessageType||(l.ServerMessageType={}))},{}],wJlv:[function(c,p,l){var o=this&&this.__extends||function(){var g=function(b,C){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(h[i]=v[i])})(b,C)};return function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function h(){this.constructor=b}g(b,C),b.prototype=C===null?Object.create(C):(h.prototype=C.prototype,new h)}}(),a=this&&this.__read||function(g,b){var C=typeof Symbol=="function"&&g[Symbol.iterator];if(!C)return g;var h,v,i=C.call(g),s=[];try{for(;(b===void 0||b-- >0)&&!(h=i.next()).done;)s.push(h.value)}catch(n){v={error:n}}finally{try{h&&!h.done&&(C=i.return)&&C.call(i)}finally{if(v)throw v.error}}return s},d=this&&this.__spreadArray||function(g,b){for(var C=0,h=b.length,v=g.length;C<h;C++,v++)g[v]=b[C];return g},y=this&&this.__values||function(g){var b=typeof Symbol=="function"&&Symbol.iterator,C=b&&g[b],h=0;if(C)return C.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&h>=g.length&&(g=void 0),{value:g&&g[h++],done:!g}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},w=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0}),l.Socket=void 0;var S=c("eventemitter3"),T=w(c("./logger")),f=c("./enums"),m=function(g){function b(C,h,v,i,s,n){n===void 0&&(n=5e3);var u=g.call(this)||this;u.pingInterval=n,u._disconnected=!0,u._messagesQueue=[];var _=C?"wss://":"ws://";return u._baseUrl=_+h+":"+v+i+"peerjs?key="+s,u}return o(b,g),b.prototype.start=function(C,h){var v=this;this._id=C;var i=this._baseUrl+"&id="+C+"&token="+h;!this._socket&&this._disconnected&&(this._socket=new WebSocket(i),this._disconnected=!1,this._socket.onmessage=function(s){var n;try{n=JSON.parse(s.data),T.default.log("Server message received:",n)}catch{return void T.default.log("Invalid server message",s.data)}v.emit(f.SocketEventType.Message,n)},this._socket.onclose=function(s){v._disconnected||(T.default.log("Socket closed.",s),v._cleanup(),v._disconnected=!0,v.emit(f.SocketEventType.Disconnected))},this._socket.onopen=function(){v._disconnected||(v._sendQueuedMessages(),T.default.log("Socket open"),v._scheduleHeartbeat())})},b.prototype._scheduleHeartbeat=function(){var C=this;this._wsPingTimer=setTimeout(function(){C._sendHeartbeat()},this.pingInterval)},b.prototype._sendHeartbeat=function(){if(this._wsOpen()){var C=JSON.stringify({type:f.ServerMessageType.Heartbeat});this._socket.send(C),this._scheduleHeartbeat()}else T.default.log("Cannot send heartbeat, because socket closed")},b.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},b.prototype._sendQueuedMessages=function(){var C,h,v=d([],a(this._messagesQueue));this._messagesQueue=[];try{for(var i=y(v),s=i.next();!s.done;s=i.next()){var n=s.value;this.send(n)}}catch(u){C={error:u}}finally{try{s&&!s.done&&(h=i.return)&&h.call(i)}finally{if(C)throw C.error}}},b.prototype.send=function(C){if(!this._disconnected)if(this._id)if(C.type){if(this._wsOpen()){var h=JSON.stringify(C);this._socket.send(h)}}else this.emit(f.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(C)},b.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},b.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},b}(S.EventEmitter);l.Socket=m},{eventemitter3:"JJlS","./logger":"WOs9","./enums":"ZRYf"}],HCdX:[function(c,p,l){var o=this&&this.__assign||function(){return(o=Object.assign||function(m){for(var g,b=1,C=arguments.length;b<C;b++)for(var h in g=arguments[b])Object.prototype.hasOwnProperty.call(g,h)&&(m[h]=g[h]);return m}).apply(this,arguments)},a=this&&this.__awaiter||function(m,g,b,C){return new(b||(b=Promise))(function(h,v){function i(u){try{n(C.next(u))}catch(_){v(_)}}function s(u){try{n(C.throw(u))}catch(_){v(_)}}function n(u){var _;u.done?h(u.value):(_=u.value,_ instanceof b?_:new b(function(P){P(_)})).then(i,s)}n((C=C.apply(m,g||[])).next())})},d=this&&this.__generator||function(m,g){var b,C,h,v,i={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return v={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function s(n){return function(u){return function(_){if(b)throw new TypeError("Generator is already executing.");for(;i;)try{if(b=1,C&&(h=2&_[0]?C.return:_[0]?C.throw||((h=C.return)&&h.call(C),0):C.next)&&!(h=h.call(C,_[1])).done)return h;switch(C=0,h&&(_=[2&_[0],h.value]),_[0]){case 0:case 1:h=_;break;case 4:return i.label++,{value:_[1],done:!1};case 5:i.label++,C=_[1],_=[0];continue;case 7:_=i.ops.pop(),i.trys.pop();continue;default:if(!(h=(h=i.trys).length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){i=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){i.label=_[1];break}if(_[0]===6&&i.label<h[1]){i.label=h[1],h=_;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(_);break}h[2]&&i.ops.pop(),i.trys.pop();continue}_=g.call(m,i)}catch(P){_=[6,P],C=0}finally{b=h=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([n,u])}}},y=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0}),l.Negotiator=void 0;var w=c("./util"),S=y(c("./logger")),T=c("./enums"),f=function(){function m(g){this.connection=g}return m.prototype.startConnection=function(g){var b=this._startPeerConnection();if(this.connection.peerConnection=b,this.connection.type===T.ConnectionType.Media&&g._stream&&this._addTracksToConnection(g._stream,b),g.originator){if(this.connection.type===T.ConnectionType.Data){var C=this.connection,h={ordered:!!g.reliable},v=b.createDataChannel(C.label,h);C.initialize(v)}this._makeOffer()}else this.handleSDP("OFFER",g.sdp)},m.prototype._startPeerConnection=function(){S.default.log("Creating RTCPeerConnection.");var g=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(g),g},m.prototype._setupListeners=function(g){var b=this,C=this.connection.peer,h=this.connection.connectionId,v=this.connection.type,i=this.connection.provider;S.default.log("Listening for ICE candidates."),g.onicecandidate=function(s){s.candidate&&s.candidate.candidate&&(S.default.log("Received ICE candidates for "+C+":",s.candidate),i.socket.send({type:T.ServerMessageType.Candidate,payload:{candidate:s.candidate,type:v,connectionId:h},dst:C}))},g.oniceconnectionstatechange=function(){switch(g.iceConnectionState){case"failed":S.default.log("iceConnectionState is failed, closing connections to "+C),b.connection.emit(T.ConnectionEventType.Error,new Error("Negotiation of connection to "+C+" failed.")),b.connection.close();break;case"closed":S.default.log("iceConnectionState is closed, closing connections to "+C),b.connection.emit(T.ConnectionEventType.Error,new Error("Connection to "+C+" closed.")),b.connection.close();break;case"disconnected":S.default.log("iceConnectionState changed to disconnected on the connection with "+C);break;case"completed":g.onicecandidate=w.util.noop}b.connection.emit(T.ConnectionEventType.IceStateChanged,g.iceConnectionState)},S.default.log("Listening for data channel"),g.ondatachannel=function(s){S.default.log("Received data channel");var n=s.channel;i.getConnection(C,h).initialize(n)},S.default.log("Listening for remote stream"),g.ontrack=function(s){S.default.log("Received remote stream");var n=s.streams[0],u=i.getConnection(C,h);if(u.type===T.ConnectionType.Media){var _=u;b._addStreamToMediaConnection(n,_)}}},m.prototype.cleanup=function(){S.default.log("Cleaning up PeerConnection to "+this.connection.peer);var g=this.connection.peerConnection;if(g){this.connection.peerConnection=null,g.onicecandidate=g.oniceconnectionstatechange=g.ondatachannel=g.ontrack=function(){};var b=g.signalingState!=="closed",C=!1;if(this.connection.type===T.ConnectionType.Data){var h=this.connection.dataChannel;h&&(C=!!h.readyState&&h.readyState!=="closed")}(b||C)&&g.close()}},m.prototype._makeOffer=function(){return a(this,void 0,Promise,function(){var g,b,C,h,v,i,s;return d(this,function(n){switch(n.label){case 0:g=this.connection.peerConnection,b=this.connection.provider,n.label=1;case 1:return n.trys.push([1,7,,8]),[4,g.createOffer(this.connection.options.constraints)];case 2:C=n.sent(),S.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(C.sdp=this.connection.options.sdpTransform(C.sdp)||C.sdp),n.label=3;case 3:return n.trys.push([3,5,,6]),[4,g.setLocalDescription(C)];case 4:return n.sent(),S.default.log("Set localDescription:",C,"for:"+this.connection.peer),h={sdp:C,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:w.util.browser},this.connection.type===T.ConnectionType.Data&&(v=this.connection,h=o(o({},h),{label:v.label,reliable:v.reliable,serialization:v.serialization})),b.socket.send({type:T.ServerMessageType.Offer,payload:h,dst:this.connection.peer}),[3,6];case 5:return(i=n.sent())!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(b.emitError(T.PeerErrorType.WebRTC,i),S.default.log("Failed to setLocalDescription, ",i)),[3,6];case 6:return[3,8];case 7:return s=n.sent(),b.emitError(T.PeerErrorType.WebRTC,s),S.default.log("Failed to createOffer, ",s),[3,8];case 8:return[2]}})})},m.prototype._makeAnswer=function(){return a(this,void 0,Promise,function(){var g,b,C,h,v;return d(this,function(i){switch(i.label){case 0:g=this.connection.peerConnection,b=this.connection.provider,i.label=1;case 1:return i.trys.push([1,7,,8]),[4,g.createAnswer()];case 2:C=i.sent(),S.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(C.sdp=this.connection.options.sdpTransform(C.sdp)||C.sdp),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,g.setLocalDescription(C)];case 4:return i.sent(),S.default.log("Set localDescription:",C,"for:"+this.connection.peer),b.socket.send({type:T.ServerMessageType.Answer,payload:{sdp:C,type:this.connection.type,connectionId:this.connection.connectionId,browser:w.util.browser},dst:this.connection.peer}),[3,6];case 5:return h=i.sent(),b.emitError(T.PeerErrorType.WebRTC,h),S.default.log("Failed to setLocalDescription, ",h),[3,6];case 6:return[3,8];case 7:return v=i.sent(),b.emitError(T.PeerErrorType.WebRTC,v),S.default.log("Failed to create answer, ",v),[3,8];case 8:return[2]}})})},m.prototype.handleSDP=function(g,b){return a(this,void 0,Promise,function(){var C,h,v,i;return d(this,function(s){switch(s.label){case 0:b=new RTCSessionDescription(b),C=this.connection.peerConnection,h=this.connection.provider,S.default.log("Setting remote description",b),v=this,s.label=1;case 1:return s.trys.push([1,5,,6]),[4,C.setRemoteDescription(b)];case 2:return s.sent(),S.default.log("Set remoteDescription:"+g+" for:"+this.connection.peer),g!=="OFFER"?[3,4]:[4,v._makeAnswer()];case 3:s.sent(),s.label=4;case 4:return[3,6];case 5:return i=s.sent(),h.emitError(T.PeerErrorType.WebRTC,i),S.default.log("Failed to setRemoteDescription, ",i),[3,6];case 6:return[2]}})})},m.prototype.handleCandidate=function(g){return a(this,void 0,Promise,function(){var b,C,h,v,i,s;return d(this,function(n){switch(n.label){case 0:S.default.log("handleCandidate:",g),b=g.candidate,C=g.sdpMLineIndex,h=g.sdpMid,v=this.connection.peerConnection,i=this.connection.provider,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,v.addIceCandidate(new RTCIceCandidate({sdpMid:h,sdpMLineIndex:C,candidate:b}))];case 2:return n.sent(),S.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return s=n.sent(),i.emitError(T.PeerErrorType.WebRTC,s),S.default.log("Failed to handleCandidate, ",s),[3,4];case 4:return[2]}})})},m.prototype._addTracksToConnection=function(g,b){if(S.default.log("add tracks from stream "+g.id+" to peer connection"),!b.addTrack)return S.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");g.getTracks().forEach(function(C){b.addTrack(C,g)})},m.prototype._addStreamToMediaConnection=function(g,b){S.default.log("add stream "+g.id+" to media connection "+b.connectionId),b.addStream(g)},m}();l.Negotiator=f},{"./util":"BHXf","./logger":"WOs9","./enums":"ZRYf"}],tQFK:[function(c,p,l){var o=this&&this.__extends||function(){var y=function(w,S){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,f){T.__proto__=f}||function(T,f){for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(T[m]=f[m])})(w,S)};return function(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function T(){this.constructor=w}y(w,S),w.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.BaseConnection=void 0;var a=c("eventemitter3"),d=function(y){function w(S,T,f){var m=y.call(this)||this;return m.peer=S,m.provider=T,m.options=f,m._open=!1,m.metadata=f.metadata,m}return o(w,y),Object.defineProperty(w.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),w}(a.EventEmitter);l.BaseConnection=d},{eventemitter3:"JJlS"}],dbHP:[function(c,p,l){var o=this&&this.__extends||function(){var b=function(C,h){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,i){v.__proto__=i}||function(v,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(v[s]=i[s])})(C,h)};return function(C,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=C}b(C,h),C.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(b){for(var C,h=1,v=arguments.length;h<v;h++)for(var i in C=arguments[h])Object.prototype.hasOwnProperty.call(C,i)&&(b[i]=C[i]);return b}).apply(this,arguments)},d=this&&this.__values||function(b){var C=typeof Symbol=="function"&&Symbol.iterator,h=C&&b[C],v=0;if(h)return h.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&v>=b.length&&(b=void 0),{value:b&&b[v++],done:!b}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(l,"__esModule",{value:!0}),l.MediaConnection=void 0;var w=c("./util"),S=y(c("./logger")),T=c("./negotiator"),f=c("./enums"),m=c("./baseconnection"),g=function(b){function C(h,v,i){var s=b.call(this,h,v,i)||this;return s._localStream=s.options._stream,s.connectionId=s.options.connectionId||C.ID_PREFIX+w.util.randomToken(),s._negotiator=new T.Negotiator(s),s._localStream&&s._negotiator.startConnection({_stream:s._localStream,originator:!0}),s}return o(C,b),Object.defineProperty(C.prototype,"type",{get:function(){return f.ConnectionType.Media},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),C.prototype.addStream=function(h){S.default.log("Receiving stream",h),this._remoteStream=h,b.prototype.emit.call(this,f.ConnectionEventType.Stream,h)},C.prototype.handleMessage=function(h){var v=h.type,i=h.payload;switch(h.type){case f.ServerMessageType.Answer:this._negotiator.handleSDP(v,i.sdp),this._open=!0;break;case f.ServerMessageType.Candidate:this._negotiator.handleCandidate(i.candidate);break;default:S.default.warn("Unrecognized message type:"+v+" from peer:"+this.peer)}},C.prototype.answer=function(h,v){var i,s;if(v===void 0&&(v={}),this._localStream)S.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=h,v&&v.sdpTransform&&(this.options.sdpTransform=v.sdpTransform),this._negotiator.startConnection(a(a({},this.options._payload),{_stream:h}));var n=this.provider._getMessages(this.connectionId);try{for(var u=d(n),_=u.next();!_.done;_=u.next()){var P=_.value;this.handleMessage(P)}}catch(E){i={error:E}}finally{try{_&&!_.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}this._open=!0}},C.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,b.prototype.emit.call(this,f.ConnectionEventType.Close))},C.ID_PREFIX="mc_",C}(m.BaseConnection);l.MediaConnection=g},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK"}],GGp6:[function(c,p,l){var o=this&&this.__extends||function(){var S=function(T,f){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(m[b]=g[b])})(T,f)};return function(T,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function m(){this.constructor=T}S(T,f),T.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}(),a=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(l,"__esModule",{value:!0}),l.EncodingQueue=void 0;var d=c("eventemitter3"),y=a(c("./logger")),w=function(S){function T(){var f=S.call(this)||this;return f.fileReader=new FileReader,f._queue=[],f._processing=!1,f.fileReader.onload=function(m){f._processing=!1,m.target&&f.emit("done",m.target.result),f.doNextTask()},f.fileReader.onerror=function(m){y.default.error("EncodingQueue error:",m),f._processing=!1,f.destroy(),f.emit("error",m)},f}return o(T,S),Object.defineProperty(T.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),T.prototype.enque=function(f){this.queue.push(f),this.processing||this.doNextTask()},T.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},T.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},T}(d.EventEmitter);l.EncodingQueue=w},{eventemitter3:"JJlS","./logger":"WOs9"}],GBTQ:[function(c,p,l){var o=this&&this.__extends||function(){var b=function(C,h){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,i){v.__proto__=i}||function(v,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(v[s]=i[s])})(C,h)};return function(C,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=C}b(C,h),C.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),a=this&&this.__values||function(b){var C=typeof Symbol=="function"&&Symbol.iterator,h=C&&b[C],v=0;if(h)return h.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&v>=b.length&&(b=void 0),{value:b&&b[v++],done:!b}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(l,"__esModule",{value:!0}),l.DataConnection=void 0;var y=c("./util"),w=d(c("./logger")),S=c("./negotiator"),T=c("./enums"),f=c("./baseconnection"),m=c("./encodingQueue"),g=function(b){function C(h,v,i){var s=b.call(this,h,v,i)||this;return s.stringify=JSON.stringify,s.parse=JSON.parse,s._buffer=[],s._bufferSize=0,s._buffering=!1,s._chunkedData={},s._encodingQueue=new m.EncodingQueue,s.connectionId=s.options.connectionId||C.ID_PREFIX+y.util.randomToken(),s.label=s.options.label||s.connectionId,s.serialization=s.options.serialization||T.SerializationType.Binary,s.reliable=!!s.options.reliable,s._encodingQueue.on("done",function(n){s._bufferedSend(n)}),s._encodingQueue.on("error",function(){w.default.error("DC#"+s.connectionId+": Error occured in encoding from blob to arraybuffer, close DC"),s.close()}),s._negotiator=new S.Negotiator(s),s._negotiator.startConnection(s.options._payload||{originator:!0}),s}return o(C,b),Object.defineProperty(C.prototype,"type",{get:function(){return T.ConnectionType.Data},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),C.prototype.initialize=function(h){this._dc=h,this._configureDataChannel()},C.prototype._configureDataChannel=function(){var h=this;y.util.supports.binaryBlob&&!y.util.supports.reliable||(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){w.default.log("DC#"+h.connectionId+" dc connection success"),h._open=!0,h.emit(T.ConnectionEventType.Open)},this.dataChannel.onmessage=function(v){w.default.log("DC#"+h.connectionId+" dc onmessage:",v.data),h._handleDataMessage(v)},this.dataChannel.onclose=function(){w.default.log("DC#"+h.connectionId+" dc closed for:",h.peer),h.close()}},C.prototype._handleDataMessage=function(h){var v=this,i=h.data,s=i.constructor,n=i;if(this.serialization===T.SerializationType.Binary||this.serialization===T.SerializationType.BinaryUTF8){if(s===Blob)return void y.util.blobToArrayBuffer(i,function(_){var P=y.util.unpack(_);v.emit(T.ConnectionEventType.Data,P)});if(s===ArrayBuffer)n=y.util.unpack(i);else if(s===String){var u=y.util.binaryStringToArrayBuffer(i);n=y.util.unpack(u)}}else this.serialization===T.SerializationType.JSON&&(n=this.parse(i));n.__peerData?this._handleChunk(n):b.prototype.emit.call(this,T.ConnectionEventType.Data,n)},C.prototype._handleChunk=function(h){var v=h.__peerData,i=this._chunkedData[v]||{data:[],count:0,total:h.total};if(i.data[h.n]=h.data,i.count++,this._chunkedData[v]=i,i.total===i.count){delete this._chunkedData[v];var s=new Blob(i.data);this._handleDataMessage({data:s})}},C.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,b.prototype.emit.call(this,T.ConnectionEventType.Close))},C.prototype.send=function(h,v){if(this.open)if(this.serialization===T.SerializationType.JSON)this._bufferedSend(this.stringify(h));else if(this.serialization===T.SerializationType.Binary||this.serialization===T.SerializationType.BinaryUTF8){var i=y.util.pack(h);if(!v&&i.size>y.util.chunkedMTU)return void this._sendChunks(i);y.util.supports.binaryBlob?this._bufferedSend(i):this._encodingQueue.enque(i)}else this._bufferedSend(h);else b.prototype.emit.call(this,T.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},C.prototype._bufferedSend=function(h){!this._buffering&&this._trySend(h)||(this._buffer.push(h),this._bufferSize=this._buffer.length)},C.prototype._trySend=function(h){var v=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>C.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){v._buffering=!1,v._tryBuffer()},50),!1;try{this.dataChannel.send(h)}catch(i){return w.default.error("DC#:"+this.connectionId+" Error when sending:",i),this._buffering=!0,this.close(),!1}return!0},C.prototype._tryBuffer=function(){if(this.open&&this._buffer.length!==0){var h=this._buffer[0];this._trySend(h)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},C.prototype._sendChunks=function(h){var v,i,s=y.util.chunk(h);w.default.log("DC#"+this.connectionId+" Try to send "+s.length+" chunks...");try{for(var n=a(s),u=n.next();!u.done;u=n.next()){var _=u.value;this.send(_,!0)}}catch(P){v={error:P}}finally{try{u&&!u.done&&(i=n.return)&&i.call(n)}finally{if(v)throw v.error}}},C.prototype.handleMessage=function(h){var v=h.payload;switch(h.type){case T.ServerMessageType.Answer:this._negotiator.handleSDP(h.type,v.sdp);break;case T.ServerMessageType.Candidate:this._negotiator.handleCandidate(v.candidate);break;default:w.default.warn("Unrecognized message type:",h.type,"from peer:",this.peer)}},C.ID_PREFIX="dc_",C.MAX_BUFFERED_AMOUNT=8388608,C}(f.BaseConnection);l.DataConnection=g},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK","./encodingQueue":"GGp6"}],in7L:[function(c,p,l){var o=this&&this.__awaiter||function(T,f,m,g){return new(m||(m=Promise))(function(b,C){function h(s){try{i(g.next(s))}catch(n){C(n)}}function v(s){try{i(g.throw(s))}catch(n){C(n)}}function i(s){var n;s.done?b(s.value):(n=s.value,n instanceof m?n:new m(function(u){u(n)})).then(h,v)}i((g=g.apply(T,f||[])).next())})},a=this&&this.__generator||function(T,f){var m,g,b,C,h={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return C={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function v(i){return function(s){return function(n){if(m)throw new TypeError("Generator is already executing.");for(;h;)try{if(m=1,g&&(b=2&n[0]?g.return:n[0]?g.throw||((b=g.return)&&b.call(g),0):g.next)&&!(b=b.call(g,n[1])).done)return b;switch(g=0,b&&(n=[2&n[0],b.value]),n[0]){case 0:case 1:b=n;break;case 4:return h.label++,{value:n[1],done:!1};case 5:h.label++,g=n[1],n=[0];continue;case 7:n=h.ops.pop(),h.trys.pop();continue;default:if(!(b=(b=h.trys).length>0&&b[b.length-1])&&(n[0]===6||n[0]===2)){h=0;continue}if(n[0]===3&&(!b||n[1]>b[0]&&n[1]<b[3])){h.label=n[1];break}if(n[0]===6&&h.label<b[1]){h.label=b[1],b=n;break}if(b&&h.label<b[2]){h.label=b[2],h.ops.push(n);break}b[2]&&h.ops.pop(),h.trys.pop();continue}n=f.call(T,h)}catch(u){n=[6,u],g=0}finally{m=b=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([i,s])}}},d=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(l,"__esModule",{value:!0}),l.API=void 0;var y=c("./util"),w=d(c("./logger")),S=function(){function T(f){this._options=f}return T.prototype._buildUrl=function(f){var m=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+f;return m+="?ts="+new Date().getTime()+Math.random()},T.prototype.retrieveId=function(){return o(this,void 0,Promise,function(){var f,m,g,b;return a(this,function(C){switch(C.label){case 0:f=this._buildUrl("id"),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,fetch(f)];case 2:if((m=C.sent()).status!==200)throw new Error("Error. Status:"+m.status);return[2,m.text()];case 3:throw g=C.sent(),w.default.error("Error retrieving ID",g),b="",this._options.path==="/"&&this._options.host!==y.util.CLOUD_HOST&&(b=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+b);case 4:return[2]}})})},T.prototype.listAllPeers=function(){return o(this,void 0,Promise,function(){var f,m,g,b;return a(this,function(C){switch(C.label){case 0:f=this._buildUrl("peers"),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,fetch(f)];case 2:if((m=C.sent()).status!==200)throw m.status===401?(g="",g=this._options.host===y.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+g)):new Error("Error. Status:"+m.status);return[2,m.json()];case 3:throw b=C.sent(),w.default.error("Error retrieving list peers",b),new Error("Could not get list peers from the server."+b);case 4:return[2]}})})},T}();l.API=S},{"./util":"BHXf","./logger":"WOs9"}],Hxpd:[function(c,p,l){var o=this&&this.__extends||function(){var i=function(s,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,_){u.__proto__=_}||function(u,_){for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(u[P]=_[P])})(s,n)};return function(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function u(){this.constructor=s}i(s,n),s.prototype=n===null?Object.create(n):(u.prototype=n.prototype,new u)}}(),a=this&&this.__assign||function(){return(a=Object.assign||function(i){for(var s,n=1,u=arguments.length;n<u;n++)for(var _ in s=arguments[n])Object.prototype.hasOwnProperty.call(s,_)&&(i[_]=s[_]);return i}).apply(this,arguments)},d=this&&this.__values||function(i){var s=typeof Symbol=="function"&&Symbol.iterator,n=s&&i[s],u=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&u>=i.length&&(i=void 0),{value:i&&i[u++],done:!i}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__read||function(i,s){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var u,_,P=n.call(i),E=[];try{for(;(s===void 0||s-- >0)&&!(u=P.next()).done;)E.push(u.value)}catch(O){_={error:O}}finally{try{u&&!u.done&&(n=P.return)&&n.call(P)}finally{if(_)throw _.error}}return E},w=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0}),l.Peer=void 0;var S=c("eventemitter3"),T=c("./util"),f=w(c("./logger")),m=c("./socket"),g=c("./mediaconnection"),b=c("./dataconnection"),C=c("./enums"),h=c("./api"),v=function(i){function s(n,u){var _,P=i.call(this)||this;return P._id=null,P._lastServerId=null,P._destroyed=!1,P._disconnected=!1,P._open=!1,P._connections=new Map,P._lostMessages=new Map,n&&n.constructor==Object?u=n:n&&(_=n.toString()),u=a({debug:0,host:T.util.CLOUD_HOST,port:T.util.CLOUD_PORT,path:"/",key:s.DEFAULT_KEY,token:T.util.randomToken(),config:T.util.defaultConfig},u),P._options=u,P._options.host==="/"&&(P._options.host=window.location.hostname),P._options.path&&(P._options.path[0]!=="/"&&(P._options.path="/"+P._options.path),P._options.path[P._options.path.length-1]!=="/"&&(P._options.path+="/")),P._options.secure===void 0&&P._options.host!==T.util.CLOUD_HOST?P._options.secure=T.util.isSecure():P._options.host==T.util.CLOUD_HOST&&(P._options.secure=!0),P._options.logFunction&&f.default.setLogFunction(P._options.logFunction),f.default.logLevel=P._options.debug||0,P._api=new h.API(u),P._socket=P._createServerConnection(),T.util.supports.audioVideo||T.util.supports.data?_&&!T.util.validateId(_)?(P._delayedAbort(C.PeerErrorType.InvalidID,'ID "'+_+'" is invalid'),P):(_?P._initialize(_):P._api.retrieveId().then(function(E){return P._initialize(E)}).catch(function(E){return P._abort(C.PeerErrorType.ServerError,E)}),P):(P._delayedAbort(C.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),P)}return o(s,i),Object.defineProperty(s.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connections",{get:function(){var n,u,_=Object.create(null);try{for(var P=d(this._connections),E=P.next();!E.done;E=P.next()){var O=y(E.value,2),D=O[0],M=O[1];_[D]=M}}catch(R){n={error:R}}finally{try{E&&!E.done&&(u=P.return)&&u.call(P)}finally{if(n)throw n.error}}return _},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),s.prototype._createServerConnection=function(){var n=this,u=new m.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return u.on(C.SocketEventType.Message,function(_){n._handleMessage(_)}),u.on(C.SocketEventType.Error,function(_){n._abort(C.PeerErrorType.SocketError,_)}),u.on(C.SocketEventType.Disconnected,function(){n.disconnected||(n.emitError(C.PeerErrorType.Network,"Lost connection to server."),n.disconnect())}),u.on(C.SocketEventType.Close,function(){n.disconnected||n._abort(C.PeerErrorType.SocketClosed,"Underlying socket is already closed.")}),u},s.prototype._initialize=function(n){this._id=n,this.socket.start(n,this._options.token)},s.prototype._handleMessage=function(n){var u,_,P=n.type,E=n.payload,O=n.src;switch(P){case C.ServerMessageType.Open:this._lastServerId=this.id,this._open=!0,this.emit(C.PeerEventType.Open,this.id);break;case C.ServerMessageType.Error:this._abort(C.PeerErrorType.ServerError,E.msg);break;case C.ServerMessageType.IdTaken:this._abort(C.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case C.ServerMessageType.InvalidKey:this._abort(C.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case C.ServerMessageType.Leave:f.default.log("Received leave message from "+O),this._cleanupPeer(O),this._connections.delete(O);break;case C.ServerMessageType.Expire:this.emitError(C.PeerErrorType.PeerUnavailable,"Could not connect to peer "+O);break;case C.ServerMessageType.Offer:var D=E.connectionId;if((j=this.getConnection(O,D))&&(j.close(),f.default.warn("Offer received for existing Connection ID:"+D)),E.type===C.ConnectionType.Media)j=new g.MediaConnection(O,this,{connectionId:D,_payload:E,metadata:E.metadata}),this._addConnection(O,j),this.emit(C.PeerEventType.Call,j);else{if(E.type!==C.ConnectionType.Data)return void f.default.warn("Received malformed connection type:"+E.type);j=new b.DataConnection(O,this,{connectionId:D,_payload:E,metadata:E.metadata,label:E.label,serialization:E.serialization,reliable:E.reliable}),this._addConnection(O,j),this.emit(C.PeerEventType.Connection,j)}var M=this._getMessages(D);try{for(var R=d(M),I=R.next();!I.done;I=R.next()){var A=I.value;j.handleMessage(A)}}catch(N){u={error:N}}finally{try{I&&!I.done&&(_=R.return)&&_.call(R)}finally{if(u)throw u.error}}break;default:if(!E)return void f.default.warn("You received a malformed message from "+O+" of type "+P);var j;D=E.connectionId,(j=this.getConnection(O,D))&&j.peerConnection?j.handleMessage(n):D?this._storeMessage(D,n):f.default.warn("You received an unrecognized message:",n)}},s.prototype._storeMessage=function(n,u){this._lostMessages.has(n)||this._lostMessages.set(n,[]),this._lostMessages.get(n).push(u)},s.prototype._getMessages=function(n){var u=this._lostMessages.get(n);return u?(this._lostMessages.delete(n),u):[]},s.prototype.connect=function(n,u){if(u===void 0&&(u={}),this.disconnected)return f.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(C.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var _=new b.DataConnection(n,this,u);return this._addConnection(n,_),_},s.prototype.call=function(n,u,_){if(_===void 0&&(_={}),this.disconnected)return f.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(C.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(u){_._stream=u;var P=new g.MediaConnection(n,this,_);return this._addConnection(n,P),P}f.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},s.prototype._addConnection=function(n,u){f.default.log("add connection "+u.type+":"+u.connectionId+" to peerId:"+n),this._connections.has(n)||this._connections.set(n,[]),this._connections.get(n).push(u)},s.prototype._removeConnection=function(n){var u=this._connections.get(n.peer);if(u){var _=u.indexOf(n);_!==-1&&u.splice(_,1)}this._lostMessages.delete(n.connectionId)},s.prototype.getConnection=function(n,u){var _,P,E=this._connections.get(n);if(!E)return null;try{for(var O=d(E),D=O.next();!D.done;D=O.next()){var M=D.value;if(M.connectionId===u)return M}}catch(R){_={error:R}}finally{try{D&&!D.done&&(P=O.return)&&P.call(O)}finally{if(_)throw _.error}}return null},s.prototype._delayedAbort=function(n,u){var _=this;setTimeout(function(){_._abort(n,u)},0)},s.prototype._abort=function(n,u){f.default.error("Aborting!"),this.emitError(n,u),this._lastServerId?this.disconnect():this.destroy()},s.prototype.emitError=function(n,u){var _;f.default.error("Error:",u),(_=typeof u=="string"?new Error(u):u).type=n,this.emit(C.PeerEventType.Error,_)},s.prototype.destroy=function(){this.destroyed||(f.default.log("Destroy peer with ID:"+this.id),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit(C.PeerEventType.Close))},s.prototype._cleanup=function(){var n,u;try{for(var _=d(this._connections.keys()),P=_.next();!P.done;P=_.next()){var E=P.value;this._cleanupPeer(E),this._connections.delete(E)}}catch(O){n={error:O}}finally{try{P&&!P.done&&(u=_.return)&&u.call(_)}finally{if(n)throw n.error}}this.socket.removeAllListeners()},s.prototype._cleanupPeer=function(n){var u,_,P=this._connections.get(n);if(P)try{for(var E=d(P),O=E.next();!O.done;O=E.next())O.value.close()}catch(D){u={error:D}}finally{try{O&&!O.done&&(_=E.return)&&_.call(E)}finally{if(u)throw u.error}}},s.prototype.disconnect=function(){if(!this.disconnected){var n=this.id;f.default.log("Disconnect peer with ID:"+n),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=n,this._id=null,this.emit(C.PeerEventType.Disconnected,n)}},s.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)f.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");f.default.error("In a hurry? We're still trying to make the initial connection!")}},s.prototype.listAllPeers=function(n){var u=this;n===void 0&&(n=function(_){}),this._api.listAllPeers().then(function(_){return n(_)}).catch(function(_){return u._abort(C.PeerErrorType.ServerError,_)})},s.DEFAULT_KEY="peerjs",s}(S.EventEmitter);l.Peer=v},{eventemitter3:"JJlS","./util":"BHXf","./logger":"WOs9","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"ZRYf","./api":"in7L"}],iTK6:[function(c,p,l){Object.defineProperty(l,"__esModule",{value:!0}),l.peerjs=void 0;var o=c("./util"),a=c("./peer");l.peerjs={Peer:a.Peer,util:o.util},l.default=a.Peer,window.peerjs=l.peerjs,window.Peer=a.Peer},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"])})(to);var ac=Ba(to.exports);export{ns as A,xi as B,ys as C,Hi as D,Ya as E,Ee as F,Xs as G,Ha as H,Js as I,ic as J,ac as P,Qi as T,Qa as a,Go as b,aa as c,Ka as d,Xo as e,Gi as f,qa as g,we as h,Ys as i,Za as j,oc as k,Ja as l,Va as m,rn as n,$i as o,rr as p,rc as q,Ga as r,Qn as s,Wa as t,tc as u,nc as v,yn as w,sc as x,Xa as y,ec as z};
