var ue=Object.defineProperty,pe=Object.defineProperties;var ve=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var J=(e,n,t)=>n in e?ue(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,x=(e,n)=>{for(var t in n||(n={}))fe.call(n,t)&&J(e,t,n[t]);if(G)for(var t of G(n))me.call(n,t)&&J(e,t,n[t]);return e},$=(e,n)=>pe(e,ve(n));import{d as L,u as ye,r as b,c as ee,o as p,a as y,b as d,t as T,n as P,e as _e,f as te,w as ge,g as _,F as I,h as U,i as C,j as ne,k as M,l as N,m as H,v as se,p as oe,q as he,s as Q,x as we,P as K,y as be,z as xe,A,T as ae,B as Se,C as Te,D,E as Ce,G as Ee}from"./vendor.4b489d0b.js";const Ie=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=t(s);fetch(s.href,c)}};Ie();function z(){return["A","B","C","D"][Math.round(Math.random()*3)]}const V=()=>["aqua","green","gray","royalblue"][Math.round(Math.random()*3)];var B=(e,n)=>{const t=e.__vccOpts||e;for(const[o,s]of n)t[o]=s;return t};const $e={key:0,class:"name"},ke=["value"],Me=L({props:{name:String,editable:{type:Boolean,default:!1},bgColor:{type:String,default:V()}},emits:["change"],setup(e,{emit:n}){const t=e;ye(a=>({"4812e114":e.bgColor}));const o=b(),s=b(!1),c=ee({get:()=>t.editable?s.value:!1,set:a=>{s.value=a}}),i=()=>{!t.editable||(c.value=!0,_e(()=>{var a;(a=o.value)==null||a.focus()}))},r=()=>{var v;c.value=!1;const a=(v=o.value)==null?void 0:v.value;a!==name&&n("change",a)};return(a,v)=>(p(),y("div",{class:P({avatar:!0,editable:e.editable}),onClick:v[1]||(v[1]=l=>i())},[d(c)?(p(),y("input",{key:1,class:"editor",ref_key:"input",ref:o,type:"text",value:e.name,onBlur:v[0]||(v[0]=l=>r())},null,40,ke)):(p(),y("span",$e,T(e.name),1))],2))}});var F=B(Me,[["__scopeId","data-v-6d8f6073"]]);const O={};function S(e,n){const t=localStorage.getItem(e);if(t===null){if(n===void 0)throw new Error(`key ${e} has not be initialed`);return localStorage.setItem(e,JSON.stringify(n)),S(e)}const o=JSON.parse(t);if(!O[e]){const s=b(typeof o=="object"?te(o):o);O[e]=s,ge(s,c=>{localStorage.setItem(e,JSON.stringify(c))})}return O[e]}const Le=async(e={type:"file",multiple:!1})=>{const n=document.createElement("input");return n.type=e.type,n.accept="*",n.style.position="absoliute",n.style.left="-1000px",n.style.top="-1000px",document.body.append(n),n.click(),await new Promise((o,s)=>{n.addEventListener("change",c=>{o(n.files),document.body.removeChild(n)}),n.addEventListener("error",s)})};var h=(e=>(e.spare="Connect",e.connected="Connected",e.connecting="Connecting",e.stoping="Stoping",e))(h||{}),w=(e=>(e[e.waiting=0]="waiting",e[e.holding=1]="holding",e[e.connecting=2]="connecting",e))(w||{});const Be=e=>e,qe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},De=_("path",{d:"m0 0 1024 512L0 1024V0zm0 409.6v204.8L512 512 0 409.6z"},null,-1),Ue=[De];function Ne(e,n){return p(),y("svg",qe,Ue)}var Pe={render:Ne};const Re={class:"chat"},Ve={class:"list"},Oe={class:"avatar"},Ae={class:"bubble"},He=["src"],ze=["href","download"],Fe={class:"tag"},je={class:"pannel"},Ye=L({props:{messageList:null},emits:["send"],setup(e,{emit:n}){const t=S("peerInfo"),o=b(""),s=()=>{o.value!==""&&(n("send",{type:"text",content:o.value}),o.value="")};return(c,i)=>(p(),y("div",Re,[_("div",Ve,[(p(!0),y(I,null,U(e.messageList,(r,a)=>(p(),y("div",{key:a,class:P(["message",{self:r.user.id===d(t).id}])},[_("div",Oe,[C(F,{name:r.user.name,"bg-color":r.user.bgColor},null,8,["name","bg-color"])]),_("div",Ae,[r.dataType==="text"?(p(),y(I,{key:0},[ne(T(r.content),1)],64)):r.dataType==="image"?(p(),y("img",{key:1,src:r.dataUrl},null,8,He)):r.dataType==="file"?(p(),y("a",{key:2,href:r.dataUrl,download:r.fileName},T(r.fileName),9,ze)):M("",!0)]),_("div",Fe,T(d(N).unix(r.sendTime).format("YYYY-MM-DD HH:MM:ss")),1)],2))),128))]),_("div",je,[H(_("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r),type:"text"},null,512),[[se,o.value]]),_("button",{onClick:i[1]||(i[1]=r=>s())},[C(d(Pe))])])]))}});var Ge=B(Ye,[["__scopeId","data-v-747caa06"]]);const Je=()=>{confirm("This will clear all user infomation, Are your suer ?")&&(localStorage.clear(),location.reload())},Qe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ke=_("path",{d:"M191.015 710.892V222.523c-51.2 0-92.553 41.354-92.553 90.585v578.954c0 51.2 41.353 92.553 92.553 92.553h458.831c51.2 0 92.554-41.353 92.554-90.584H374.154c-100.43 0-183.139 0-183.139-183.139zm703.016-397.784h-153.6c-51.2 0-92.554-41.354-92.554-90.585v-153.6c1.97-15.754-11.815-29.538-29.539-29.538H374.154c-51.2 0-92.554 41.353-92.554 90.584v578.954c0 51.2 41.354 90.585 92.554 90.585h458.83c51.2 0 92.554-41.354 92.554-90.585V344.615c0-17.723-13.784-31.507-31.507-31.507zm25.6-128L777.846 45.292c-3.938-3.938-7.877-5.907-13.784-5.907-11.816 0-21.662 9.846-21.662 21.661v100.43c0 33.478 27.57 61.047 61.046 61.047h100.43c11.816 0 21.662-9.846 21.662-21.661 0-5.908-1.969-9.847-5.907-15.754z"},null,-1),We=[Ke];function Xe(e,n){return p(),y("svg",Qe,We)}var Ze={render:Xe};const et={class:"message-text"},tt=L({props:{text:{type:String,default:""},visible:{type:Boolean,default:!1},delay:{type:Number,default:2e3},type:{type:String,default:"success"},onFullDestroyed:{type:Function,default:()=>({})}},emits:["fullDestroyed"],setup(e,{emit:n}){const t=e,o=b(t.visible);oe(()=>{o.value=t.visible});const s=()=>{o.value=!0,setTimeout(()=>{o.value=!1,setTimeout(()=>{n("fullDestroyed")},200)},t.delay)};return he(()=>{setTimeout(()=>{s()},1)}),(c,i)=>(p(),y("div",{class:P(["message",`${o.value?"showed":""} ${e.type}`])},[_("div",et,T(e.text),1)],2))}});var nt=B(tt,[["__scopeId","data-v-75766499"]]);function st(e,n){const o=C(nt,x({visible:!1,text:e,onFullDestroyed:()=>{Q(null,s),s.parentNode===document.body&&document.body.removeChild(s)}},n)),s=document.createElement("div");o.props&&(o.props.onVnodeUnmounted=()=>{document.body.removeChild(s)}),Q(o,s),document.body.appendChild(s)}var ce=(e=>(e.request="Srequest",e.accept="Saccept",e.decline="Sdecline",e.stop="Sstop",e))(ce||{});function ot(){let e;const n=u=>{e=u,i()};let t=!1;const o=new EventTarget;let s=()=>Promise.reject(),c;const i=()=>{e.on("data",u=>{if(!!Object.values(ce).includes(u.type))switch(u.type){case"Saccept":o.dispatchEvent(new CustomEvent("accept"));break;case"Srequest":{s(u.content).then(()=>{e.send({type:"Saccept"})}).catch(()=>{e.send({type:"Sdecline"})});break}case"Sdecline":o.dispatchEvent(new CustomEvent("decline"));break;case"Sstop":c(),o.dispatchEvent(new CustomEvent("decline"));break}})};return{use:n,requestAccept:async u=>await new Promise((m,f)=>{e.send({type:"Srequest",content:u}),t=!1,o.addEventListener("accept",()=>{t&&f(),m(!0)}),o.addEventListener("decline",()=>{f()})}),onBeRequested:u=>{s=u},onBeStopped:u=>{c=u},stop:()=>{o.dispatchEvent(new CustomEvent("stop")),e.send({type:"Sstop"})}}}var ie=(e=>(e.hand="handflag",e))(ie||{});function at(){const e=S("userInfo",{name:z(),bgColor:V()}),n=S("peerInfo",{id:"",createTime:-1}),t=te({participants:[$(x({},e.value),{id:n.value.id})],type:"",status:h.spare});let o;const s=i=>{o=i,c(),t.participants[0].id=n.value.id},c=()=>{t.status=h.connecting,t.status=h.connected,o.on("data",i=>{!Object.values(ie).includes(i.type)||(t.status=h.connected,t.participants.every(r=>r.id!==i.user.id)&&(t.participants.push(i.user),o.send({type:"handflag",user:$(x({},e.value),{id:n.value.id})})))}),o.send({type:"handflag",user:$(x({},e.value),{id:n.value.id})})};return{use:s,connectionInfo:t}}var re=(e=>(e.start="Mstart",e.content="MContent",e.end="Mend",e))(re||{});function ct(){const e=S("userInfo",{name:z(),bgColor:V()}),n=S("peerInfo",{id:"",createTime:-1});let t;const o=a=>{t=a,i()},s=new Map,c=b([]),i=()=>{t.on("data",a=>{var v;if(!!Object.values(re).includes(a.type))switch(a.type){case"Mstart":s.set(a.id,a),c.value.push(a);break;case"MContent":const l=$(x(x({},s.get(a.id)),a),{type:"Mend",recieveTime:N().unix(),dataUrl:a.dataType!=="text"?URL.createObjectURL(new Blob([a.content],{type:a.fileType})):void 0});s.set(a.id,l);const u=c.value.findIndex(m=>m.id===a.id);c.value[u]=l,t.send({id:a.id,type:"Mend",reciveTime:(v=s.get(a.id))==null?void 0:v.recieveTime});break;case"Mend":s.set(a.id,$(x({},s.get(a.id)),{recieveTime:a.recieveTime}));const g=c.value.findIndex(m=>m.id===a.id);c.value[g].recieveTime=a.recieveTime;break}})};return{use:o,messageList:c,sendData:a=>{const v=we(),l={user:{name:e.value.name,id:n.value.id,bgColor:e.value.bgColor},sendTime:N().unix(),dataType:a.dataType,type:"Mstart",id:v,fileType:a.fileType,fileName:a.fileName},u={content:a.content,id:v,type:"MContent",fileType:a.fileType,fileName:a.fileName};t.send(l),t.send(u);const g=$(x(x({},l),u),{recieveTime:-1,dataUrl:a.dataType!=="text"?URL.createObjectURL(new Blob([a.content],{type:a.fileType})):void 0});s.set(v,g),c.value.push(g)}}}function it(e){const n=S("peerInfo",{id:"",createTime:-1}),t=S("connectStatus",h.spare),o=60;if(n.value.id===""||N().unix()-n.value.createTime>o&&t.value===h.spare){n.value={id:"",createTime:-1};const c=new K;c.on("open",()=>{n.value={id:c.id,createTime:N().unix()},e(c)})}const s=new K(n.value.id);s.on("open",()=>{e(s)})}function rt(){let e,n,t;const o=l=>{e=l,i()};let s=l=>{},c=new EventTarget;const i=()=>{e.on("call",l=>{l.answer(),l.on("stream",u=>{s(u),c.addEventListener("close",()=>{var g;(g=u==null?void 0:u.stop)==null||g.call(u)})}),l.on("close",function(){})})},r=(l,u)=>new Promise((g,m)=>{navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia({audio:!0,video:l==="video"},f=>{t=f,g(f),n=e.call(u,f,{metadata:{type:l,selfId:e.id}})},m)});return c.addEventListener("close",()=>{var l;!t||((l=t.stop)==null||l.call(t),t.getTracks().forEach(u=>{u.readyState==="live"&&u.stop()}))}),{use:o,call:r,close:()=>{n==null||n.close(),c.dispatchEvent(new CustomEvent("close"))},onStream:l=>{s=l}}}function lt(){let e;const n=()=>it(l=>{e=l,i.connectionInfo.status=h.spare,l.on("connection",u=>{s(u)}),l.on("error",v)});n();let t;const o=l=>{if(!e||!l)return;if(i.connectionInfo.status===h.connecting){i.connectionInfo.status=h.stoping,e.on("disconnected",()=>{n(),i.connectionInfo.status=h.spare}),e.disconnect();return}i.connectionInfo.status=h.connecting,e.on("error",v);const u=e.connect(l);s(u)},s=l=>{t=l,a.use(e),t.on("open",()=>{i.use(t),c.use(t),r.use(t)}),t.on("error",v)},c=ct(),i=at(),r=ot(),a=rt(),v=l=>{i.connectionInfo.status=h.spare,st(l,{type:"error"})};return{toConnect:o,messageSystem:c,connectInfoSystem:i,acceptSystem:r,streamSystem:a}}const dt={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ut=_("path",{d:"M1024 201.143v621.714q0 24-22.286 33.714-7.428 2.858-14.285 2.858-15.429 0-25.715-10.858L731.43 618.286v94.857q0 68-48.286 116.286t-116.286 48.285H164.571q-68 0-116.285-48.285T0 713.143V310.857q0-68 48.286-116.286t116.285-48.285h402.286q68 0 116.286 48.285t48.286 116.286v94.286l230.285-229.714Q972 164.57 987.43 164.57q6.857 0 14.285 2.858Q1024 177.143 1024 201.143z"},null,-1),pt=[ut];function vt(e,n){return p(),y("svg",dt,pt)}var ft={render:vt};const mt={class:"picker"},yt={key:0,class:"popup"},_t=["onClick"],gt=L({props:{list:null},emits:["choose"],setup(e,{emit:n}){const t=b(!1);return(o,s)=>{const c=be("click-outside");return p(),y("div",mt,[_("div",{class:"content",onClick:s[0]||(s[0]=()=>t.value=!t.value)},[xe(o.$slots,"default",{},void 0,!0)]),C(ae,{name:"slide-fade"},{default:A(()=>[t.value?H((p(),y("div",yt,[(p(!0),y(I,null,U(e.list,(i,r)=>(p(),y("div",{class:"item",key:r,onClick:()=>{n("choose",i,r),t.value=!1}},T(i),9,_t))),128))])),[[c,()=>t.value=!1]]):M("",!0)]),_:1})])}}});var ht=B(gt,[["__scopeId","data-v-71516db5"]]);const wt={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bt=_("path",{d:"M914.286 708.571q0 15.429-5.715 40.286t-12 39.143q-12 28.571-69.714 60.571-53.714 29.143-106.286 29.143-15.428 0-30-2t-32.857-7.143-27.143-8.285-31.714-11.715-28-10.285q-56-20-100-47.429-73.143-45.143-151.143-123.143T196.571 516.571q-27.428-44-47.428-100-1.714-5.142-10.286-28t-11.714-31.714-8.286-27.143-7.143-32.857-2-30q0-52.571 29.143-106.286 32-57.714 60.572-69.714 14.285-6.286 39.142-12t40.286-5.714q8 0 12 1.714 10.286 3.429 30.286 43.429 6.286 10.857 17.143 30.857t20 36.286T376 216q1.714 2.286 10 14.286t12.286 20.285 4 16.286q0 11.429-16.286 28.572t-35.429 31.428-35.428 30.286-16.286 26.286q0 5.142 2.857 12.857T306.571 408t8 13.714 6.572 10.857q43.428 78.286 99.428 134.286t134.286 99.429q1.143.571 10.857 6.571t13.715 8 11.714 4.857T604 688.571q10.286 0 26.286-16.285t30.285-35.429T692 601.43t28.571-16.286q8 0 16.286 4t20.286 12.286 14.286 10Q785.714 620 802 629.143t36.286 20 30.857 17.143q40 20 43.428 30.285 1.715 4 1.715 12z"},null,-1),xt=[bt];function St(e,n){return p(),y("svg",wt,xt)}var W={render:St};function Tt(){const e=["touchstart","scroll"],n=t=>{document.body.style.position="fixed",t.preventDefault(),t.stopPropagation()};e.forEach(t=>{document.body.addEventListener(t,o=>{document.body.style.position="fixed",o.preventDefault(),o.stopPropagation()})}),Se(()=>{e.forEach(t=>{document.body.removeEventListener(t,n)})})}function Ct(){const e=b([]),n=t=>{e.value.push(t)};return Te(()=>{e.value=[]}),{setRefs:n,refs:e}}const Et={class:"video-chat"},It={class:"videos"},$t={key:0,class:"avatars"},kt={key:1,class:"info"},Mt={class:"buttons"},Lt=L({props:{status:null,users:null,type:null},emits:["decline","accept","stop"],setup(e,{expose:n,emit:t}){const o=e,{refs:s,setRefs:c}=Ct();return oe(()=>{o.users.forEach((i,r)=>{var a;i.stream&&((a=s.value)==null?void 0:a[r])&&(s.value[r].srcObject=i.stream,s.value[r].play())})}),Tt(),n({videoRefs:s}),(i,r)=>(p(),y("div",Et,[_("div",{class:P(["frame",{waiting:o.status===d(w).waiting,connecting:o.status===d(w).connecting,holding:o.status===d(w).holding}])},[_("div",It,[(p(!0),y(I,null,U(e.users,(a,v)=>(p(),y("video",{key:v,ref_for:!0,ref:d(c),playsinline:""}))),128))]),o.status!==d(w).connecting?(p(),y("div",$t,[(p(!0),y(I,null,U(o.users,(a,v)=>(p(),D(F,{name:a.name,"bg-color":a.bgColor,editable:!1,key:v},null,8,["name","bg-color"]))),128))])):M("",!0),o.status!==d(w).connecting?(p(),y("div",kt,T(o.status===d(w).waiting?"Waiting for accept...":"You get a VideoCall Invitation"),1)):M("",!0),_("div",Mt,[o.status===d(w).holding?(p(),y("button",{key:0,class:"accept",onClick:r[0]||(r[0]=a=>t("accept"))},[C(d(W))])):M("",!0),_("button",{class:"decline",onClick:r[1]||(r[1]=a=>t(o.status===d(w).holding?"decline":"stop"))},[C(d(W))])])],2)]))}});var Bt=B(Lt,[["__scopeId","data-v-ade89d10"]]);const qt={class:"video tool-button"},Dt=L({props:{acceptSystem:null,users:null,streamSystem:null},setup(e){const n=e,t=b(n.users),o=S("peerInfo",{id:"",createTime:-1}),s=b(!1),c=b(w.waiting),i=b("video"),r=()=>{t.value.forEach(f=>{f.stream=void 0})},a=new EventTarget,v=async f=>{const E=t.value.findIndex(R=>R.id!==o.value.id),q=await n.streamSystem.call(f,t.value[E].id);t.value[0].stream=q},l=()=>{a.dispatchEvent(new CustomEvent("accept")),c.value=w.connecting,v(i.value)},u=()=>{a.dispatchEvent(new CustomEvent("decline")),s.value=!1,n.streamSystem.close(),r()},g=()=>{a.dispatchEvent(new CustomEvent("stop")),s.value=!1,n.acceptSystem.stop(),n.streamSystem.close(),r()},m=async f=>{i.value=f,s.value=!0,c.value=w.waiting;try{await n.acceptSystem.requestAccept(f),c.value=w.connecting,await v(f)}catch{s.value=!1}};return n.acceptSystem.onBeStopped(()=>{s.value=!1,a.dispatchEvent(new CustomEvent("stop")),n.streamSystem.close(),r()}),n.acceptSystem.onBeRequested(f=>new Promise((E,q)=>{i.value=f,s.value=!0,c.value=w.holding;const R=()=>{c.value=w.connecting,E(!0)},j=()=>{s.value=!1,q()},Y=()=>{s.value=!1,q(),a.removeEventListener("accept",R),a.removeEventListener("decline",j),a.removeEventListener("stop",Y)};a.addEventListener("accept",R),a.addEventListener("decline",j),a.addEventListener("stop",Y)})),n.streamSystem.onStream(f=>{const E=t.value.findIndex(q=>q.id!==o.value.id);E!==-1&&(t.value[E].stream=f)}),(f,E)=>(p(),y(I,null,[C(ht,{list:["video","voice"],onChoose:m},{default:A(()=>[_("button",qt,[C(d(ft))])]),_:1}),(p(),D(Ce,{to:"body"},[C(ae,null,{default:A(()=>[s.value?(p(),D(Bt,{key:0,type:i.value,status:c.value,users:t.value,onAccept:l,onDecline:u,onStop:g},null,8,["type","status","users"])):M("",!0)]),_:1})]))],64))}});var Ut=B(Dt,[["__scopeId","data-v-ca364aa0"]]);const Nt={class:"header"},Pt={class:"avatars"},Rt={class:"tools"},Vt={class:"content"},Ot={key:1,class:"home"},At={class:"welcome"},Ht={class:"id-field"},zt=ne(" Your ID is "),Ft={class:"id-text allow-select"},jt={class:"id-editor"},Yt=["disabled"],Gt=L({setup(e){const n=S("peerInfo",{id:"",createTime:-1}),t=lt(),o=ee(()=>t.connectInfoSystem.connectionInfo.status),s=g=>{t.toConnect(g)},c=t.messageSystem.messageList,i=g=>{t.messageSystem.sendData($(x({},g),{dataType:"text"}))},r=async()=>{const g=await Le(),m=g.item(0),f=(m==null?void 0:m.type.includes("image"))?"image":"file";t.messageSystem.sendData({dataType:f,content:new Blob(g,{type:m==null?void 0:m.type}),fileType:m.type,fileName:m.name})},a=S("userInfo",{name:z(),bgColor:V()}),v=t.connectInfoSystem.connectionInfo,l=b(""),u=Boolean(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia);return(g,m)=>(p(),y(I,null,[_("div",Nt,[_("div",Pt,[(p(!0),y(I,null,U(d(v).participants,(f,E)=>(p(),D(F,{name:f.name,"bg-color":f.bgColor,editable:d(o)!==d(h).connected,key:E},null,8,["name","bg-color","editable"]))),128))]),_("div",Rt,[d(o)!==d(h).connected?(p(),y("button",{key:0,class:"reset",onClick:m[0]||(m[0]=f=>d(Je)())}," reset ")):(p(),y(I,{key:1},[_("button",{class:"file tool-button",onClick:m[1]||(m[1]=()=>r())},[C(d(Ze))]),d(u)?(p(),D(Ut,{key:0,"accept-system":d(t).acceptSystem,users:d(v).participants,"stream-system":d(t).streamSystem},null,8,["accept-system","users","stream-system"])):M("",!0)],64))])]),_("div",Vt,[d(o)===d(h).connected?(p(),D(Ge,{key:0,"message-list":d(c),onSend:i},null,8,["message-list"])):(p(),y("div",Ot,[_("div",At,"Hello,"+T(d(a).name),1),_("div",Ht,[zt,_("span",Ft,T(d(n).id),1)]),_("div",jt,[H(_("input",{"onUpdate:modelValue":m[2]||(m[2]=f=>l.value=f),placeholder:"input id here",type:"text"},null,512),[[se,l.value]])]),_("button",{class:P(["connect-button",{loading:d(o)===d(h).connecting}]),disabled:d(n).id===null||d(o)===d(h).stoping,onClick:m[3]||(m[3]=f=>s(d(Be)(l.value))),onTouchstart:m[4]||(m[4]=()=>{})},T(d(o)),43,Yt)]))])],64))}});var Jt=B(Gt,[["__scopeId","data-v-32863802"]]);const Qt=e=>e instanceof Element,k=new Map;let X;document.addEventListener("mousedown",e=>X=e),document.addEventListener("mouseup",e=>{for(const n of k.values())for(const{documentHandler:t}of n)t(e,X)});function Z(e,n){let t=[];return Array.isArray(n.arg)?t=n.arg:Qt(n.arg)&&t.push(n.arg),function(o,s){const c=n.instance.popperRef,i=o.target,r=s==null?void 0:s.target,a=!n||!n.instance,v=!i||!r,l=e.contains(i)||e.contains(r),u=e===i,g=t.length&&t.some(f=>f==null?void 0:f.contains(i))||t.length&&t.includes(r),m=c&&(c.contains(i)||c.contains(r));a||v||l||u||g||m||n.value(o,s)}}const Kt={beforeMount(e,n){k.has(e)||k.set(e,[]),k.get(e).push({documentHandler:Z(e,n),bindingFn:n.value})},updated(e,n){k.has(e)||k.set(e,[]);const t=k.get(e),o=t.findIndex(c=>c.bindingFn===n.oldValue),s={documentHandler:Z(e,n),bindingFn:n.value};o>=0?t.splice(o,1,s):t.push(s)},unmounted(e){k.delete(e)}},le=()=>{document.body.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",le);window.addEventListener("DOMContentLoaded",le);const de=Ee(Jt);de.directive("clickOutside",Kt);de.mount("#app");
